{"version":3,"sources":["webpack:///./src/utils/typography.js","webpack:///./src/components/box.js","webpack:///./src/components/search/actions.js","webpack:///./src/components/search/components/input.js","webpack:///./src/components/search/components/result.js","webpack:///./src/components/search/components/results.js","webpack:///./src/components/search/components/form.js","webpack:///./src/components/search/reducers.js","webpack:///./src/components/search/store.js","webpack:///./src/components/search/api.js","webpack:///./src/components/search/app.js","webpack:///./src/components/header.js","webpack:///./src/components/layout.js","webpack:///./src/components/seo.js","webpack:///./src/utils/theme.js"],"names":["sutroTheme","overrideThemeStyles","_ref","rhythm","scale","a","color","theme","colors","primary","code","Object","assign","border-radius","background-color","padding","typography","Typography","justifyMap","start","end","space-between","space-around","alignMap","stretch","Box","styled_base_browser_esm","target","props","css","column","justify","align","wrap","grow","Row","name","styles","setResults","createAction","nextSelection","previousSelection","setQuery","api","query","dispatch","then","results","active","withTheme","value","onChange","ref","React","useRef","core_browser_esm","palette","type","placeholder","autoComplete","autoCorrect","autoCapitalize","spellCheck","event","onFocus","setTimeout","current","select","ListItem","selected","mix","components_result","result","gatsby_browser_entry","to","url","title","components_results","selection","transparentize","map","index","key","connect","state","_ref3","className","fn","_this","this","_len","arguments","length","args","Array","_key","_len2","nArgs","_key2","apply","concat","curry","baseSetQuery","useEffect","history","listen","form_ref","onKeyUp","which","preventDefault","getState","_getState","navigate","form_ref2","onSubmit","input","queryReducer","handleActions","SET_QUERY","action","payload","resultsReducer","SET_RESULTS","selectionReducer","max","Math","min","PREVIOUS_SELECTION","NEXT_SELECTION","combineReducers","createStoreWithMiddleware","applyMiddleware","thunk","createStore","reducers","search","window","__LUNR__","__loaded","_idx","idx","_","en","store","app","es","components_form","HeaderElement","gradient","shadow","Link","BaseLink","Header","_ref2","siteTitle","Fixed","header_ref","propTypes","PropTypes","string","isRequired","Layout","children","header","render","site","emotion_theming_browser_esm","style","emotionNormalize","components_header","siteMetadata","as","author","Date","getFullYear","href","data","_4293929885","node","SEO","description","lang","meta","keywords","_emotion_core__WEBPACK_IMPORTED_MODULE_0__","gatsby__WEBPACK_IMPORTED_MODULE_5__","detailsQuery","metaDescription","react_helmet__WEBPACK_IMPORTED_MODULE_4___default","htmlAttributes","titleTemplate","content","property","isArray","join","_public_static_d_1025518380_json__WEBPACK_IMPORTED_MODULE_1__","defaultProps","array","oneOfType","arrayOf","__webpack_require__","colorPalette","__webpack_exports__"],"mappings":"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","file":"1-2caafa19f8210d796f34.js","sourcesContent":["import Typography from 'typography';\nimport sutroTheme from 'typography-theme-sutro';\nimport theme from './theme';\n\nsutroTheme.overrideThemeStyles = ({rhythm, scale}) => ({\n  a: {\n    color: theme.colors.primary,\n  },\n  code: {\n    'border-radius': '2px',\n    color: '#333333',\n    'background-color': '#f5f5f5',\n    padding: rhythm(1 / 8),\n    ...scale(-1 / 8),\n  },\n});\n\nconst typography = new Typography(sutroTheme);\n\nexport default typography;\nexport const {rhythm, scale} = typography;\n","import styled from '@emotion/styled';\nimport {css} from '@emotion/core';\n\nconst justifyMap = {\n  start: 'flex-start',\n  end: 'flex-end',\n  'space-between': 'space-between',\n  'space-around': 'space-around',\n};\n\nconst alignMap = {\n  start: 'flex-start',\n  end: 'flex-end',\n  'space-between': 'space-between',\n  'space-around': 'space-around',\n  stretch: 'stretch',\n};\n\nexport const box = props => css`\n  display: flex;\n  flex-direction: ${props.column ? 'column' : 'row'};\n  justify-content: ${justifyMap[props.justify] || 'center'};\n  align-items: ${alignMap[props.align] || 'center'};\n  flex-wrap: ${props.wrap ? 'wrap' : ' no-wrap'};\n  flex-grow: ${props.grow ? 1 : 0};\n`;\n\nconst Box = styled.div`\n  ${box};\n`;\n\nexport const Row = styled(Box)`\n  flex-direction: row;\n`;\n\nexport const Column = styled(Box)`\n  flex-direction: column;\n`;\n\nexport default Box;\n","import {createAction} from 'redux-actions';\nimport {navigate} from 'gatsby';\n\nexport const setResults = createAction('SET_RESULTS');\nexport const nextSelection = createAction('NEXT_SELECTION');\nexport const previousSelection = createAction('PREVIOUS_SELECTION');\n\nexport function activateSelection() {\n  return function(dispatch, getState) {\n    const {selection, results} = getState();\n\n    if (!results[selection.current]) {\n      return;\n    }\n\n    navigate(results[selection.current].url);\n  };\n}\n\nexport function setQuery(api, query) {\n  return function(dispatch) {\n    dispatch(createAction('SET_QUERY')(query));\n\n    api(query).then(results => dispatch(setResults(results)));\n  };\n}\n","import React from 'react';\nimport {css} from '@emotion/core';\nimport {withTheme} from 'emotion-theming';\n\nconst background = 'white';\n\nconst active = theme => css`\n  background-color: ${background};\n  color: ${theme.colors.primary};\n`;\n\nexport default withTheme(({value, onChange, theme}) => {\n  const ref = React.useRef(null);\n\n  return (\n    <input\n      ref={ref}\n      css={css`\n        margin: 0;\n        padding: 0 0.8em;\n        background-color: transparent;\n        color: white;\n        transition: background-color 0.5s;\n        border: 1px solid ${theme.colors.palette[2]};\n        border-radius: 4px;\n        &:focus,\n        &:hover {\n          outline: none;\n          ${active(theme)}\n        }\n        ${value && active(theme)}\n      `}\n      type=\"search\"\n      name=\"query\"\n      placeholder=\"Search\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      autoCapitalize=\"off\"\n      spellCheck=\"false\"\n      value={value}\n      onChange={event => onChange(event.target.value)}\n      onFocus={() => setTimeout(() => ref.current && ref.current.select())}\n    />\n  );\n});\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport {mix} from 'polished';\nimport {Link} from 'gatsby';\n\nconst ListItem = styled.li`\n  background-color: ${props =>\n    props.selected ? mix(0.8, 'white', props.theme.colors.primary) : 'white'};\n  margin: 0;\n  padding: 0.8em;\n`;\n\nexport default ({selected, result}) => (\n  <ListItem selected={selected}>\n    <Link to={result.url}>{result.title}</Link>\n  </ListItem>\n);\n","import React from 'react';\nimport {css} from '@emotion/core';\nimport {transparentize} from 'polished';\nimport Result from './result';\n\nconst background = 'white';\n\nexport default function({results, selection}) {\n  return (\n    <ul\n      css={css`\n        list-style-type: none;\n        margin: 0;\n        padding: 0;\n        &:not(:empty) {\n          position: absolute;\n          background: ${transparentize(0.5, background)};\n        }\n      `}\n    >\n      {results.map((result, index) => (\n        <Result\n          key={result.ref}\n          selected={index === selection}\n          result={result}\n        />\n      ))}\n    </ul>\n  );\n}\n","import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport {css} from '@emotion/core';\nimport {globalHistory as history} from '@reach/router';\n\nimport {\n  setQuery as baseSetQuery,\n  activateSelection,\n  nextSelection,\n  previousSelection,\n} from '../actions';\n\nimport Input from './input';\nimport Results from './results';\n\nfunction curry(fn, ...args) {\n  return (...nArgs) => fn.apply(this, [...args, ...nArgs]);\n}\n\nfunction SearchForm({dispatch, query, results, api, selection, className}) {\n  const setQuery = curry(baseSetQuery, api);\n\n  useEffect(() => history.listen(() => dispatch(setQuery(''))));\n\n  const onSubmit = event => {\n    event.preventDefault();\n    return false;\n  };\n\n  const onKeyUp = event => {\n    switch (event.which) {\n      case 13:\n        event.preventDefault();\n        dispatch(activateSelection());\n        break;\n      case 38:\n        event.preventDefault();\n        dispatch(previousSelection());\n        break;\n      case 40:\n        event.preventDefault();\n        dispatch(nextSelection());\n        break;\n\n      default:\n      // Do nothing\n    }\n  };\n\n  return (\n    <div\n      css={css`\n        position: relative;\n      `}\n      onKeyUp={onKeyUp}\n    >\n      <form\n        className={className}\n        css={css`\n          margin: 0;\n        `}\n        onSubmit={onSubmit}\n      >\n        <Input value={query} onChange={value => dispatch(setQuery(value))} />\n      </form>\n      <Results results={results} selection={selection.current} />\n    </div>\n  );\n}\n\nexport default connect(state => state)(SearchForm);\n","import {combineReducers} from 'redux';\nimport {handleActions} from 'redux-actions';\n\nconst queryReducer = handleActions(\n  {\n    SET_QUERY: (state, action) => (action ? action.payload : state),\n  },\n  '',\n);\n\nconst resultsReducer = handleActions(\n  {\n    SET_RESULTS: (state, action) => (action ? action.payload : state),\n  },\n  [],\n);\n\nconst selectionReducer = handleActions(\n  {\n    SET_RESULTS: (state, action) => {\n      const max = action ? Math.max(action.payload.length - 1, 0) : 0;\n\n      return {\n        ...state,\n        max,\n        current: Math.min(state.current, max),\n      };\n    },\n    PREVIOUS_SELECTION: state => ({\n      ...state,\n      current: Math.max(state.current - 1, 0),\n    }),\n    NEXT_SELECTION: state => ({\n      ...state,\n      current: Math.min(state.current + 1, state.max),\n    }),\n  },\n  {\n    current: 0,\n    max: 0,\n  },\n);\n\nexport default combineReducers({\n  query: queryReducer,\n  results: resultsReducer,\n  selection: selectionReducer,\n});\n","import {createStore, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport reducers from './reducers';\n\nconst createStoreWithMiddleware = applyMiddleware(thunk)(createStore);\n\nexport default createStoreWithMiddleware(reducers);\n","import idx from 'idx';\n\nexport default function search(query) {\n  return window.__LUNR__.__loaded.then(() => {\n    const {index, store} = idx(window, _ => _.__LUNR__.en);\n    if (!query || !index || !store) return [];\n    const results = index.search(query);\n    return results.map(({ref}) => ({ref, ...store[ref]}));\n  });\n}\n","import React from 'react';\nimport {Provider} from 'react-redux';\n\nimport SearchForm from './components/form';\nimport store from './store';\nimport search from './api';\n\nexport default ({className}) => (\n  <Provider store={store}>\n    <SearchForm api={search} className={className} />\n  </Provider>\n);\n","import {Link as BaseLink} from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {css} from '@emotion/core';\nimport styled from '@emotion/styled';\n\nimport {rhythm} from '../utils/typography';\n\nimport {Row} from './box';\nimport {Fixed} from './layout';\nimport Search from './search/app';\n\nconst HeaderElement = styled.header`\n  ${props => props.theme.gradient}\n  ${props => props.theme.shadow}\n`;\n\nconst Link = styled(BaseLink)`\n  color: white;\n  &,\n  &:hover {\n    text-decoration: none;\n  }\n`;\n\nconst Header = ({siteTitle}) => (\n  <HeaderElement>\n    <Fixed\n      css={css`\n        padding-top: ${rhythm(1 / 2)};\n        padding-bottom: ${rhythm(1 / 2)};\n      `}\n    >\n      <Row justify=\"space-between\">\n        <h3\n          css={css`\n            margin: 0;\n          `}\n        >\n          <Link to=\"/\">{siteTitle}</Link>\n        </h3>\n        <Search />\n      </Row>\n    </Fixed>\n  </HeaderElement>\n);\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string.isRequired,\n};\n\nexport default Header;\n","import React from 'react';\nimport {Global, css} from '@emotion/core';\nimport styled from '@emotion/styled';\nimport emotionNormalize from 'emotion-normalize';\nimport {ThemeProvider} from 'emotion-theming';\nimport {StaticQuery, graphql} from 'gatsby';\n\nimport PropTypes from 'prop-types';\n\nimport theme from '../utils/theme';\nimport {rhythm} from '../utils/typography';\nimport Header from './header';\n\nexport const Fixed = styled.div`\n  margin: 0 auto;\n  max-width: 960px;\n  padding: 0 ${rhythm(1)};\n`;\n\nconst Layout = ({children, header}) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n            author\n          }\n        }\n      }\n    `}\n    render={({site}) => (\n      <ThemeProvider theme={theme}>\n        <Global\n          style={css`\n            ${emotionNormalize}\n          `}\n        />\n        <Header siteTitle={site.siteMetadata.title} />\n        <main>\n          {header}\n          <Fixed\n            css={css`\n              padding-top: ${rhythm(0)};\n            `}\n          >\n            {children}{' '}\n          </Fixed>\n        </main>\n        <Fixed\n          as=\"footer\"\n          css={css`\n            text-align: center;\n            padding: ${rhythm(1)};\n          `}\n        >\n          © {site.siteMetadata.author} {new Date().getFullYear()}, Built with\n          {` `}\n          <a href=\"https://www.gatsbyjs.org\">Gatsby</a>\n        </Fixed>\n      </ThemeProvider>\n    )}\n  />\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n  header: PropTypes.node,\n};\n\nexport default Layout;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Helmet from 'react-helmet';\nimport {StaticQuery, graphql} from 'gatsby';\n\nfunction SEO({description, lang, meta, keywords, title}) {\n  return (\n    <StaticQuery\n      query={detailsQuery}\n      render={data => {\n        const metaDescription =\n          description || data.site.siteMetadata.description;\n        return (\n          <Helmet\n            htmlAttributes={{\n              lang,\n            }}\n            title={title}\n            titleTemplate={`%s | ${data.site.siteMetadata.title}`}\n            meta={[\n              {\n                name: `description`,\n                content: metaDescription,\n              },\n              {\n                property: `og:title`,\n                content: title,\n              },\n              {\n                property: `og:description`,\n                content: metaDescription,\n              },\n              {\n                property: `og:type`,\n                content: `website`,\n              },\n              {\n                name: `twitter:card`,\n                content: `summary`,\n              },\n              {\n                name: `twitter:creator`,\n                content: data.site.siteMetadata.author,\n              },\n              {\n                name: `twitter:title`,\n                content: title,\n              },\n              {\n                name: `twitter:description`,\n                content: metaDescription,\n              },\n            ]\n              .concat(\n                keywords.length > 0\n                  ? {\n                      name: `keywords`,\n                      content: Array.isArray(keywords)\n                        ? keywords.join(`, `)\n                        : keywords,\n                    }\n                  : [],\n              )\n              .concat(meta)}\n          />\n        );\n      }}\n    />\n  );\n}\n\nSEO.defaultProps = {\n  description: null,\n  lang: `en`,\n  meta: [],\n  keywords: [],\n};\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.array,\n  keywords: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.string,\n  ]),\n  title: PropTypes.string.isRequired,\n};\n\nexport default SEO;\n\nconst detailsQuery = graphql`\n  query DefaultSEOQuery {\n    site {\n      siteMetadata {\n        title\n        description\n        author\n      }\n    }\n  }\n`;\n","import {css} from '@emotion/core';\n\nconst primaryColor = '#ff6f69';\n// https://www.color-hex.com/color-palette/73238\nconst colorPalette = ['#0e9aa7', '#96ceb4', '#ffcc5c', '#ff6f69', '#ced07d'];\n\nexport default {\n  colors: {\n    primary: primaryColor,\n    palette: colorPalette,\n  },\n  gradient: css`\n    background-color: ${primaryColor};\n    background: linear-gradient(to right, ${colorPalette.join(',\\n')});\n  `,\n  shadow: css`\n    box-shadow: 0px 2px 2px 0px #ccc;\n  `,\n};\n"],"sourceRoot":""}