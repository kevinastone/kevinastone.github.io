(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{51:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),u=n.n(c),o=n(10),i=n(53),l=Object(i.a)("SET_RESULTS"),s=Object(i.a)("NEXT_SELECTION"),f=Object(i.a)("PREVIOUS_SELECTION");function h(e,t){return function(n){n(Object(i.a)("SET_QUERY")(t)),e.search(t).then(function(e){return n(l(e))})}}var m=n(9),p=n.n(m),E=function(e){var t=e.value,n=e.onChange,r=a.a.useRef(null);return a.a.createElement("input",{ref:r,type:"search",name:"query",placeholder:"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",className:p()({"is-active":Boolean(t)}),value:t,onChange:function(e){return n(e.target.value)},onFocus:function(){return setTimeout(function(){return r.current&&r.current.select()})}})},v=function(e){var t=e.selected,n=e.result;return a.a.createElement("li",{className:p()({"is-active":t})},a.a.createElement("a",{href:n.fields.url},n.fields.title))},b=function(e){var t=e.results,n=e.selection;return a.a.createElement("ul",{className:"search-results"},t.map(function(e,t){return a.a.createElement(v,{key:e.ref,selected:t===n,result:e})}))};var d=Object(o.b)(function(e){return e})(function(e){var t=e.dispatch,n=e.query,r=e.results,c=e.api,u=e.selection,o=function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(){for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e.apply(t,[].concat(r,a))}}(h,c);return a.a.createElement("div",{onKeyUp:function(e){switch(e.which){case 13:e.preventDefault(),t(function(e,t){var n=t(),r=n.selection,a=n.results;a[r.current]&&window.location.assign(a[r.current].fields.url)});break;case 38:e.preventDefault(),t(f());break;case 40:e.preventDefault(),t(s())}}},a.a.createElement("form",{className:"search-and-submit",onSubmit:function(e){return e.preventDefault(),!1}},a.a.createElement(E,{value:n,onChange:function(e){return t(o(e))}})),a.a.createElement(b,{results:r,selection:u.current}))}),y=n(4),O=n(18),w=n(52);function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){j(e,t,n[t])})}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=Object(w.a)({SET_QUERY:function(e,t){return t?t.payload:e}},""),g=Object(w.a)({SET_RESULTS:function(e,t){return t?t.payload:e}},[]),C=Object(w.a)({SET_RESULTS:function(e,t){var n=t?Math.max(t.payload.length-1,0):0;return S({},e,{max:n,current:Math.min(e.current,n)})},PREVIOUS_SELECTION:function(e){return S({},e,{current:Math.max(e.current-1,0)})},NEXT_SELECTION:function(e){return S({},e,{current:Math.min(e.current+1,e.max)})}},{current:0,max:0}),U=Object(y.c)({query:T,results:g,selection:C}),x=Object(y.a)(O.a)(y.d)(U),N=(n(30),n(19)),k=n.n(N);function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R={};var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indexUrl=t}var t,n,r;return t=e,(n=[{key:"search",value:function(e){return(t=this.indexUrl,R[t]?R[t]:(R[t]=fetch(t).then(function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}).then(function(e){return e.json()}).then(function(e){return k.a.Index.load(e)}),R[t])).then(function(t){return t.search(e)});var t}}])&&_(t.prototype,n),r&&_(t,r),e}(),L=document.querySelector("#search-form");L&&u.a.render(a.a.createElement(o.a,{store:x},a.a.createElement(d,{api:new I(L.dataset.indexUrl)})),L)}},[[51,0,5]]]);
//# sourceMappingURL=search.1f82199c9b87bdbbc671.js.map