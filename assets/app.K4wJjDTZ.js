import{j as ee}from"./jsx-runtime.D_zvdyIk.js";import{r as P,a as bn}from"./index.BzNeU_WD.js";import"./index.BLy_0GNg.js";function xn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const kr=(e,r,t={})=>{if(!Number.isFinite(r))throw new TypeError("Expected `wait` to be a finite number");let n,i,s=[];const o=()=>{clearTimeout(i),i=void 0;try{t.signal?.throwIfAborted()}catch(a){for(const{reject:l}of s)l(a);s=[]}};return function(...a){return new Promise((l,d)=>{try{t.signal?.throwIfAborted()}catch(h){d(h);return}const y=t.before&&!i;clearTimeout(i),i=setTimeout(async()=>{i=void 0;const h=s;s=[];try{const g=t.before?n:await e.apply(this,a);for(const{resolve:x}of h)x(g)}catch(g){for(const{reject:x}of h)x(g)}n=void 0,t.signal?.removeEventListener("abort",o)},r),y?(async()=>{try{n=await e.apply(this,a),l(n)}catch(h){d(h)}})():(s.push({resolve:l,reject:d}),t.signal&&s.length===1&&t.signal.addEventListener("abort",o,{once:!0}))})}};kr.promise=(e,r={})=>{let t,n;return async function(...i){if(t)return r.after?(n??={resolvers:[]},n.arguments=i,n.context=this,new Promise((s,o)=>{n.resolvers.push({resolve:s,reject:o})})):t;t=(async()=>{let s,o;try{s=await e.apply(this,i)}catch(a){o=a}for(;n;){const a=n;n=void 0;try{const l=await e.apply(a.context,a.arguments);for(const{resolve:d}of a.resolvers)d(l)}catch(l){for(const{reject:d}of a.resolvers)d(l)}}if(o)throw o;return s})();try{return await t}finally{t=void 0}}};var ft={},N={},j={},Jt;function Rr(){if(Jt)return j;Jt=1;var e=j&&j.__extends||(function(){var f=function(u,c){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(v[p]=m[p])},f(u,c)};return function(u,c){f(u,c);function v(){this.constructor=u}u.prototype=c===null?Object.create(c):(v.prototype=c.prototype,new v)}})(),r=j&&j.__awaiter||function(f,u,c,v){function m(p){return p instanceof c?p:new c(function(b){b(p)})}return new(c||(c=Promise))(function(p,b){function O(R){try{_(v.next(R))}catch(C){b(C)}}function I(R){try{_(v.throw(R))}catch(C){b(C)}}function _(R){R.done?p(R.value):m(R.value).then(O,I)}_((v=v.apply(f,u||[])).next())})},t=j&&j.__generator||function(f,u){var c={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},v,m,p,b;return b={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function O(_){return function(R){return I([_,R])}}function I(_){if(v)throw new TypeError("Generator is already executing.");for(;c;)try{if(v=1,m&&(p=_[0]&2?m.return:_[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,_[1])).done)return p;switch(m=0,p&&(_=[_[0]&2,p.value]),_[0]){case 0:case 1:p=_;break;case 4:return c.label++,{value:_[1],done:!1};case 5:c.label++,m=_[1],_=[0];continue;case 7:_=c.ops.pop(),c.trys.pop();continue;default:if(p=c.trys,!(p=p.length>0&&p[p.length-1])&&(_[0]===6||_[0]===2)){c=0;continue}if(_[0]===3&&(!p||_[1]>p[0]&&_[1]<p[3])){c.label=_[1];break}if(_[0]===6&&c.label<p[1]){c.label=p[1],p=_;break}if(p&&c.label<p[2]){c.label=p[2],c.ops.push(_);break}p[2]&&c.ops.pop(),c.trys.pop();continue}_=u.call(f,c)}catch(R){_=[6,R],m=0}finally{v=p=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},n=j&&j.__read||function(f,u){var c=typeof Symbol=="function"&&f[Symbol.iterator];if(!c)return f;var v=c.call(f),m,p=[],b;try{for(;(u===void 0||u-- >0)&&!(m=v.next()).done;)p.push(m.value)}catch(O){b={error:O}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(b)throw b.error}}return p},i=j&&j.__spread||function(){for(var f=[],u=0;u<arguments.length;u++)f=f.concat(n(arguments[u]));return f};Object.defineProperty(j,"__esModule",{value:!0}),j.zip2=j.join=j.optionify=j.AsyncNone=j.None=j.AsyncSome=j.Some=void 0;var s=Pr(),o=(function(){function f(u){this._value=u}return f})(),a=(function(f){e(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.prototype.isSome=function(){return!0},u.prototype.isNone=function(){return!1},u.prototype.map=function(c){return new u(c(this._value))},u.prototype.mapNullable=function(c){return h(c(this._value))},u.prototype.mapOr=function(c,v){return new u(v(this._value))},u.prototype.mapOrElse=function(c,v){return v(this._value)},u.prototype.filter=function(c){return c(this._value)?new u(this._value):new d},u.prototype.and=function(c){return c},u.prototype.andThen=function(c){return c(this._value)},u.prototype.or=function(c){return new u(this._value)},u.prototype.orElse=function(c){return new u(this._value)},u.prototype.xor=function(c){var v=this;return c.mapOrElse(function(){return new u(v._value)},function(){return new d})},u.prototype.zip=function(c){var v=this;return c.andThen(function(m){return new u([v._value,m])})},u.prototype.okOr=function(c){return new s.Ok(this._value)},u.prototype.okOrElse=function(c){return new s.Ok(this._value)},u.prototype.unwrap=function(){return this._value},u.prototype.unwrapNullable=function(){return this._value},u.prototype.unwrapOr=function(c){return this._value},u.prototype.unwrapOrElse=function(c){return this._value},u.prototype.async=function(){return new l(this._value)},u})(o);j.Some=a;var l=(function(f){e(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.prototype.map=function(c){return r(this,void 0,void 0,function(){var v;return t(this,function(m){switch(m.label){case 0:return v=a.bind,[4,c(this._value)];case 1:return[2,new(v.apply(a,[void 0,m.sent()]))]}})})},u.prototype.mapNullable=function(c){return r(this,void 0,void 0,function(){var v;return t(this,function(m){switch(m.label){case 0:return v=h,[4,c(this._value)];case 1:return[2,v.apply(void 0,[m.sent()])]}})})},u.prototype.filter=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){switch(v.label){case 0:return[4,c(this._value)];case 1:return[2,v.sent()?new a(this._value):new d]}})})},u.prototype.andThen=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,c(this._value)]})})},u.prototype.unwrapOrElse=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,this._value]})})},u.prototype.orElse=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,new a(this._value)]})})},u.prototype.okOrElse=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,new s.Ok(this._value)]})})},u})(o);j.AsyncSome=l;var d=(function(){function f(){}return f.prototype.isSome=function(){return!1},f.prototype.isNone=function(){return!0},f.prototype.map=function(u){return new f},f.prototype.mapNullable=function(u){return new f},f.prototype.mapOr=function(u,c){return new a(u)},f.prototype.mapOrElse=function(u,c){return u()},f.prototype.filter=function(u){return new f},f.prototype.and=function(u){return new f},f.prototype.andThen=function(u){return new f},f.prototype.or=function(u){return u},f.prototype.orElse=function(u){return u()},f.prototype.xor=function(u){return u},f.prototype.zip=function(u){return new f},f.prototype.okOr=function(u){return new s.Err(u)},f.prototype.okOrElse=function(u){return new s.Err(u())},f.prototype.unwrap=function(){throw new Error("Unwrapped a None")},f.prototype.unwrapNullable=function(){return null},f.prototype.unwrapOr=function(u){return u},f.prototype.unwrapOrElse=function(u){return u()},f.prototype.async=function(){return new y},f})();j.None=d;var y=(function(){function f(){}return f.prototype.map=function(u){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,new d]})})},f.prototype.mapNullable=function(u){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,new d]})})},f.prototype.filter=function(u){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,new d]})})},f.prototype.andThen=function(u){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,new d]})})},f.prototype.orElse=function(u){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,u()]})})},f.prototype.okOrElse=function(u){return r(this,void 0,void 0,function(){var c;return t(this,function(v){switch(v.label){case 0:return c=s.Err.bind,[4,u()];case 1:return[2,new(c.apply(s.Err,[void 0,v.sent()]))]}})})},f.prototype.unwrapOrElse=function(u){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,u()]})})},f})();j.AsyncNone=y;function h(f){return f==null?new d:new a(f)}j.optionify=h;function g(f){for(var u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];return u.reduce(function(v,m){return v.andThen(function(p){return m.map(function(b){return i(p,[b])})})},f.map(function(v){return[v]}))}j.join=g;function x(f,u){return f.andThen(function(c){return u.map(function(v){return[c,v]})})}return j.zip2=x,j}var Xt;function Pr(){if(Xt)return N;Xt=1;var e=N&&N.__extends||(function(){var f=function(u,c){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(v[p]=m[p])},f(u,c)};return function(u,c){f(u,c);function v(){this.constructor=u}u.prototype=c===null?Object.create(c):(v.prototype=c.prototype,new v)}})(),r=N&&N.__awaiter||function(f,u,c,v){function m(p){return p instanceof c?p:new c(function(b){b(p)})}return new(c||(c=Promise))(function(p,b){function O(R){try{_(v.next(R))}catch(C){b(C)}}function I(R){try{_(v.throw(R))}catch(C){b(C)}}function _(R){R.done?p(R.value):m(R.value).then(O,I)}_((v=v.apply(f,u||[])).next())})},t=N&&N.__generator||function(f,u){var c={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},v,m,p,b;return b={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function O(_){return function(R){return I([_,R])}}function I(_){if(v)throw new TypeError("Generator is already executing.");for(;c;)try{if(v=1,m&&(p=_[0]&2?m.return:_[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,_[1])).done)return p;switch(m=0,p&&(_=[_[0]&2,p.value]),_[0]){case 0:case 1:p=_;break;case 4:return c.label++,{value:_[1],done:!1};case 5:c.label++,m=_[1],_=[0];continue;case 7:_=c.ops.pop(),c.trys.pop();continue;default:if(p=c.trys,!(p=p.length>0&&p[p.length-1])&&(_[0]===6||_[0]===2)){c=0;continue}if(_[0]===3&&(!p||_[1]>p[0]&&_[1]<p[3])){c.label=_[1];break}if(_[0]===6&&c.label<p[1]){c.label=p[1],p=_;break}if(p&&c.label<p[2]){c.label=p[2],c.ops.push(_);break}p[2]&&c.ops.pop(),c.trys.pop();continue}_=u.call(f,c)}catch(R){_=[6,R],m=0}finally{v=p=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},n=N&&N.__read||function(f,u){var c=typeof Symbol=="function"&&f[Symbol.iterator];if(!c)return f;var v=c.call(f),m,p=[],b;try{for(;(u===void 0||u-- >0)&&!(m=v.next()).done;)p.push(m.value)}catch(O){b={error:O}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(b)throw b.error}}return p},i=N&&N.__spread||function(){for(var f=[],u=0;u<arguments.length;u++)f=f.concat(n(arguments[u]));return f};Object.defineProperty(N,"__esModule",{value:!0}),N.asResult=N.resultify=N.AsyncErr=N.Err=N.AsyncOk=N.Ok=void 0;var s=Rr(),o=(function(){function f(u){this._value=u}return f})(),a=(function(f){e(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.prototype.isOk=function(){return!0},u.prototype.isErr=function(){return!1},u.prototype.map=function(c){return new u(c(this._value))},u.prototype.mapErr=function(c){return new u(this._value)},u.prototype.mapOr=function(c,v){return v(this._value)},u.prototype.mapOrElse=function(c,v){return v(this._value)},u.prototype.and=function(c){return c},u.prototype.andThen=function(c){return c(this._value)},u.prototype.or=function(c){return new u(this._value)},u.prototype.orElse=function(c){return new u(this._value)},u.prototype.ok=function(){return new s.Some(this._value)},u.prototype.unwrap=function(){return this._value},u.prototype.unwrapErr=function(){throw new Error("unwrapErr on an Ok()")},u.prototype.unwrapOr=function(c){return this._value},u.prototype.unwrapOrElse=function(c){return this._value},u.prototype.async=function(){return new l(this._value)},u})(o);N.Ok=a;var l=(function(f){e(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.prototype.map=function(c){return r(this,void 0,void 0,function(){var v;return t(this,function(m){switch(m.label){case 0:return v=a.bind,[4,c(this._value)];case 1:return[2,new(v.apply(a,[void 0,m.sent()]))]}})})},u.prototype.mapErr=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,new a(this._value)]})})},u.prototype.mapOr=function(c,v){return r(this,void 0,void 0,function(){return t(this,function(m){return[2,v(this._value)]})})},u.prototype.mapOrElse=function(c,v){return r(this,void 0,void 0,function(){return t(this,function(m){return[2,v(this._value)]})})},u.prototype.andThen=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,c(this._value)]})})},u.prototype.orElse=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,new a(this._value)]})})},u.prototype.unwrapOrElse=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,this._value]})})},u})(o);N.AsyncOk=l;var d=(function(){function f(u){this._error=u}return f})(),y=(function(f){e(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.prototype.isOk=function(){return!1},u.prototype.isErr=function(){return!0},u.prototype.map=function(c){return new u(this._error)},u.prototype.mapErr=function(c){return new u(c(this._error))},u.prototype.mapOr=function(c,v){return c},u.prototype.mapOrElse=function(c,v){return c(this._error)},u.prototype.and=function(c){return new u(this._error)},u.prototype.andThen=function(c){return new u(this._error)},u.prototype.or=function(c){return c},u.prototype.orElse=function(c){return c(this._error)},u.prototype.ok=function(){return new s.None},u.prototype.unwrap=function(){throw this._error},u.prototype.unwrapErr=function(){return this._error},u.prototype.unwrapOr=function(c){return c},u.prototype.unwrapOrElse=function(c){return c(this._error)},u.prototype.async=function(){return new h(this._error)},u})(d);N.Err=y;var h=(function(f){e(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.prototype.map=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,new y(this._error)]})})},u.prototype.mapErr=function(c){return r(this,void 0,void 0,function(){var v;return t(this,function(m){switch(m.label){case 0:return v=y.bind,[4,c(this._error)];case 1:return[2,new(v.apply(y,[void 0,m.sent()]))]}})})},u.prototype.mapOr=function(c,v){return r(this,void 0,void 0,function(){return t(this,function(m){return[2,c]})})},u.prototype.mapOrElse=function(c,v){return r(this,void 0,void 0,function(){return t(this,function(m){return[2,c(this._error)]})})},u.prototype.andThen=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,new y(this._error)]})})},u.prototype.orElse=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,c(this._error)]})})},u.prototype.unwrapOrElse=function(c){return r(this,void 0,void 0,function(){return t(this,function(v){return[2,c(this._error)]})})},u})(d);N.AsyncErr=h;function g(f){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,f.then(function(c){return new a(c)},function(c){return new y(c)})]})})}N.resultify=g;function x(f){for(var u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];try{return new a(f.apply(void 0,i(u)))}catch(v){return new y(v)}}return N.asResult=x,N}var Zt;function En(){return Zt||(Zt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.zip2=e.optionify=e.join=e.resultify=void 0;var r=Pr();Object.defineProperty(e,"resultify",{enumerable:!0,get:function(){return r.resultify}});var t=Rr();Object.defineProperty(e,"join",{enumerable:!0,get:function(){return t.join}}),Object.defineProperty(e,"optionify",{enumerable:!0,get:function(){return t.optionify}}),Object.defineProperty(e,"zip2",{enumerable:!0,get:function(){return t.zip2}})})(ft)),ft}var et=En(),dt={exports:{}};/**
 * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 2.3.9
 * Copyright (C) 2020 Oliver Nightingale
 * @license MIT
 */var er;function Sn(){return er||(er=1,(function(e,r){(function(){var t=function(n){var i=new t.Builder;return i.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),i.searchPipeline.add(t.stemmer),n.call(i,i),i.build()};t.version="2.3.9";/*!
 * lunr.utils
 * Copyright (C) 2020 Oliver Nightingale
 */t.utils={},t.utils.warn=(function(n){return function(i){n.console&&console.warn&&console.warn(i)}})(this),t.utils.asString=function(n){return n==null?"":n.toString()},t.utils.clone=function(n){if(n==null)return n;for(var i=Object.create(null),s=Object.keys(n),o=0;o<s.length;o++){var a=s[o],l=n[a];if(Array.isArray(l)){i[a]=l.slice();continue}if(typeof l=="string"||typeof l=="number"||typeof l=="boolean"){i[a]=l;continue}throw new TypeError("clone is not deep and does not support nested objects")}return i},t.FieldRef=function(n,i,s){this.docRef=n,this.fieldName=i,this._stringValue=s},t.FieldRef.joiner="/",t.FieldRef.fromString=function(n){var i=n.indexOf(t.FieldRef.joiner);if(i===-1)throw"malformed field ref string";var s=n.slice(0,i),o=n.slice(i+1);return new t.FieldRef(o,s,n)},t.FieldRef.prototype.toString=function(){return this._stringValue==null&&(this._stringValue=this.fieldName+t.FieldRef.joiner+this.docRef),this._stringValue};/*!
 * lunr.Set
 * Copyright (C) 2020 Oliver Nightingale
 */t.Set=function(n){if(this.elements=Object.create(null),n){this.length=n.length;for(var i=0;i<this.length;i++)this.elements[n[i]]=!0}else this.length=0},t.Set.complete={intersect:function(n){return n},union:function(){return this},contains:function(){return!0}},t.Set.empty={intersect:function(){return this},union:function(n){return n},contains:function(){return!1}},t.Set.prototype.contains=function(n){return!!this.elements[n]},t.Set.prototype.intersect=function(n){var i,s,o,a=[];if(n===t.Set.complete)return this;if(n===t.Set.empty)return n;this.length<n.length?(i=this,s=n):(i=n,s=this),o=Object.keys(i.elements);for(var l=0;l<o.length;l++){var d=o[l];d in s.elements&&a.push(d)}return new t.Set(a)},t.Set.prototype.union=function(n){return n===t.Set.complete?t.Set.complete:n===t.Set.empty?this:new t.Set(Object.keys(this.elements).concat(Object.keys(n.elements)))},t.idf=function(n,i){var s=0;for(var o in n)o!="_index"&&(s+=Object.keys(n[o]).length);var a=(i-s+.5)/(s+.5);return Math.log(1+Math.abs(a))},t.Token=function(n,i){this.str=n||"",this.metadata=i||{}},t.Token.prototype.toString=function(){return this.str},t.Token.prototype.update=function(n){return this.str=n(this.str,this.metadata),this},t.Token.prototype.clone=function(n){return n=n||function(i){return i},new t.Token(n(this.str,this.metadata),this.metadata)};/*!
 * lunr.tokenizer
 * Copyright (C) 2020 Oliver Nightingale
 */t.tokenizer=function(n,i){if(n==null||n==null)return[];if(Array.isArray(n))return n.map(function(x){return new t.Token(t.utils.asString(x).toLowerCase(),t.utils.clone(i))});for(var s=n.toString().toLowerCase(),o=s.length,a=[],l=0,d=0;l<=o;l++){var y=s.charAt(l),h=l-d;if(y.match(t.tokenizer.separator)||l==o){if(h>0){var g=t.utils.clone(i)||{};g.position=[d,h],g.index=a.length,a.push(new t.Token(s.slice(d,l),g))}d=l+1}}return a},t.tokenizer.separator=/[\s\-]+/;/*!
 * lunr.Pipeline
 * Copyright (C) 2020 Oliver Nightingale
 */t.Pipeline=function(){this._stack=[]},t.Pipeline.registeredFunctions=Object.create(null),t.Pipeline.registerFunction=function(n,i){i in this.registeredFunctions&&t.utils.warn("Overwriting existing registered function: "+i),n.label=i,t.Pipeline.registeredFunctions[n.label]=n},t.Pipeline.warnIfFunctionNotRegistered=function(n){var i=n.label&&n.label in this.registeredFunctions;i||t.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,n)},t.Pipeline.load=function(n){var i=new t.Pipeline;return n.forEach(function(s){var o=t.Pipeline.registeredFunctions[s];if(o)i.add(o);else throw new Error("Cannot load unregistered function: "+s)}),i},t.Pipeline.prototype.add=function(){var n=Array.prototype.slice.call(arguments);n.forEach(function(i){t.Pipeline.warnIfFunctionNotRegistered(i),this._stack.push(i)},this)},t.Pipeline.prototype.after=function(n,i){t.Pipeline.warnIfFunctionNotRegistered(i);var s=this._stack.indexOf(n);if(s==-1)throw new Error("Cannot find existingFn");s=s+1,this._stack.splice(s,0,i)},t.Pipeline.prototype.before=function(n,i){t.Pipeline.warnIfFunctionNotRegistered(i);var s=this._stack.indexOf(n);if(s==-1)throw new Error("Cannot find existingFn");this._stack.splice(s,0,i)},t.Pipeline.prototype.remove=function(n){var i=this._stack.indexOf(n);i!=-1&&this._stack.splice(i,1)},t.Pipeline.prototype.run=function(n){for(var i=this._stack.length,s=0;s<i;s++){for(var o=this._stack[s],a=[],l=0;l<n.length;l++){var d=o(n[l],l,n);if(!(d==null||d===""))if(Array.isArray(d))for(var y=0;y<d.length;y++)a.push(d[y]);else a.push(d)}n=a}return n},t.Pipeline.prototype.runString=function(n,i){var s=new t.Token(n,i);return this.run([s]).map(function(o){return o.toString()})},t.Pipeline.prototype.reset=function(){this._stack=[]},t.Pipeline.prototype.toJSON=function(){return this._stack.map(function(n){return t.Pipeline.warnIfFunctionNotRegistered(n),n.label})};/*!
 * lunr.Vector
 * Copyright (C) 2020 Oliver Nightingale
 */t.Vector=function(n){this._magnitude=0,this.elements=n||[]},t.Vector.prototype.positionForIndex=function(n){if(this.elements.length==0)return 0;for(var i=0,s=this.elements.length/2,o=s-i,a=Math.floor(o/2),l=this.elements[a*2];o>1&&(l<n&&(i=a),l>n&&(s=a),l!=n);)o=s-i,a=i+Math.floor(o/2),l=this.elements[a*2];if(l==n||l>n)return a*2;if(l<n)return(a+1)*2},t.Vector.prototype.insert=function(n,i){this.upsert(n,i,function(){throw"duplicate index"})},t.Vector.prototype.upsert=function(n,i,s){this._magnitude=0;var o=this.positionForIndex(n);this.elements[o]==n?this.elements[o+1]=s(this.elements[o+1],i):this.elements.splice(o,0,n,i)},t.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var n=0,i=this.elements.length,s=1;s<i;s+=2){var o=this.elements[s];n+=o*o}return this._magnitude=Math.sqrt(n)},t.Vector.prototype.dot=function(n){for(var i=0,s=this.elements,o=n.elements,a=s.length,l=o.length,d=0,y=0,h=0,g=0;h<a&&g<l;)d=s[h],y=o[g],d<y?h+=2:d>y?g+=2:d==y&&(i+=s[h+1]*o[g+1],h+=2,g+=2);return i},t.Vector.prototype.similarity=function(n){return this.dot(n)/this.magnitude()||0},t.Vector.prototype.toArray=function(){for(var n=new Array(this.elements.length/2),i=1,s=0;i<this.elements.length;i+=2,s++)n[s]=this.elements[i];return n},t.Vector.prototype.toJSON=function(){return this.elements};/*!
 * lunr.stemmer
 * Copyright (C) 2020 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */t.stemmer=(function(){var n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},i={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},s="[^aeiou]",o="[aeiouy]",a=s+"[^aeiouy]*",l=o+"[aeiou]*",d="^("+a+")?"+l+a,y="^("+a+")?"+l+a+"("+l+")?$",h="^("+a+")?"+l+a+l+a,g="^("+a+")?"+o,x=new RegExp(d),f=new RegExp(h),u=new RegExp(y),c=new RegExp(g),v=/^(.+?)(ss|i)es$/,m=/^(.+?)([^s])s$/,p=/^(.+?)eed$/,b=/^(.+?)(ed|ing)$/,O=/.$/,I=/(at|bl|iz)$/,_=new RegExp("([^aeiouylsz])\\1$"),R=new RegExp("^"+a+o+"[^aeiouwxy]$"),C=/^(.+?[^aeiou])y$/,B=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,U=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,W=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,te=/^(.+?)(s|t)(ion)$/,S=/^(.+?)e$/,L=/ll$/,q=new RegExp("^"+a+o+"[^aeiouwxy]$"),M=function(E){var Q,Y,z,k,D,$,J;if(E.length<3)return E;if(z=E.substr(0,1),z=="y"&&(E=z.toUpperCase()+E.substr(1)),k=v,D=m,k.test(E)?E=E.replace(k,"$1$2"):D.test(E)&&(E=E.replace(D,"$1$2")),k=p,D=b,k.test(E)){var F=k.exec(E);k=x,k.test(F[1])&&(k=O,E=E.replace(k,""))}else if(D.test(E)){var F=D.exec(E);Q=F[1],D=c,D.test(Q)&&(E=Q,D=I,$=_,J=R,D.test(E)?E=E+"e":$.test(E)?(k=O,E=E.replace(k,"")):J.test(E)&&(E=E+"e"))}if(k=C,k.test(E)){var F=k.exec(E);Q=F[1],E=Q+"i"}if(k=B,k.test(E)){var F=k.exec(E);Q=F[1],Y=F[2],k=x,k.test(Q)&&(E=Q+n[Y])}if(k=U,k.test(E)){var F=k.exec(E);Q=F[1],Y=F[2],k=x,k.test(Q)&&(E=Q+i[Y])}if(k=W,D=te,k.test(E)){var F=k.exec(E);Q=F[1],k=f,k.test(Q)&&(E=Q)}else if(D.test(E)){var F=D.exec(E);Q=F[1]+F[2],D=f,D.test(Q)&&(E=Q)}if(k=S,k.test(E)){var F=k.exec(E);Q=F[1],k=f,D=u,$=q,(k.test(Q)||D.test(Q)&&!$.test(Q))&&(E=Q)}return k=L,D=f,k.test(E)&&D.test(E)&&(k=O,E=E.replace(k,"")),z=="y"&&(E=z.toLowerCase()+E.substr(1)),E};return function(V){return V.update(M)}})(),t.Pipeline.registerFunction(t.stemmer,"stemmer");/*!
 * lunr.stopWordFilter
 * Copyright (C) 2020 Oliver Nightingale
 */t.generateStopWordFilter=function(n){var i=n.reduce(function(s,o){return s[o]=o,s},{});return function(s){if(s&&i[s.toString()]!==s.toString())return s}},t.stopWordFilter=t.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),t.Pipeline.registerFunction(t.stopWordFilter,"stopWordFilter");/*!
 * lunr.trimmer
 * Copyright (C) 2020 Oliver Nightingale
 */t.trimmer=function(n){return n.update(function(i){return i.replace(/^\W+/,"").replace(/\W+$/,"")})},t.Pipeline.registerFunction(t.trimmer,"trimmer");/*!
 * lunr.TokenSet
 * Copyright (C) 2020 Oliver Nightingale
 */t.TokenSet=function(){this.final=!1,this.edges={},this.id=t.TokenSet._nextId,t.TokenSet._nextId+=1},t.TokenSet._nextId=1,t.TokenSet.fromArray=function(n){for(var i=new t.TokenSet.Builder,s=0,o=n.length;s<o;s++)i.insert(n[s]);return i.finish(),i.root},t.TokenSet.fromClause=function(n){return"editDistance"in n?t.TokenSet.fromFuzzyString(n.term,n.editDistance):t.TokenSet.fromString(n.term)},t.TokenSet.fromFuzzyString=function(n,i){for(var s=new t.TokenSet,o=[{node:s,editsRemaining:i,str:n}];o.length;){var a=o.pop();if(a.str.length>0){var l=a.str.charAt(0),d;l in a.node.edges?d=a.node.edges[l]:(d=new t.TokenSet,a.node.edges[l]=d),a.str.length==1&&(d.final=!0),o.push({node:d,editsRemaining:a.editsRemaining,str:a.str.slice(1)})}if(a.editsRemaining!=0){if("*"in a.node.edges)var y=a.node.edges["*"];else{var y=new t.TokenSet;a.node.edges["*"]=y}if(a.str.length==0&&(y.final=!0),o.push({node:y,editsRemaining:a.editsRemaining-1,str:a.str}),a.str.length>1&&o.push({node:a.node,editsRemaining:a.editsRemaining-1,str:a.str.slice(1)}),a.str.length==1&&(a.node.final=!0),a.str.length>=1){if("*"in a.node.edges)var h=a.node.edges["*"];else{var h=new t.TokenSet;a.node.edges["*"]=h}a.str.length==1&&(h.final=!0),o.push({node:h,editsRemaining:a.editsRemaining-1,str:a.str.slice(1)})}if(a.str.length>1){var g=a.str.charAt(0),x=a.str.charAt(1),f;x in a.node.edges?f=a.node.edges[x]:(f=new t.TokenSet,a.node.edges[x]=f),a.str.length==1&&(f.final=!0),o.push({node:f,editsRemaining:a.editsRemaining-1,str:g+a.str.slice(2)})}}}return s},t.TokenSet.fromString=function(n){for(var i=new t.TokenSet,s=i,o=0,a=n.length;o<a;o++){var l=n[o],d=o==a-1;if(l=="*")i.edges[l]=i,i.final=d;else{var y=new t.TokenSet;y.final=d,i.edges[l]=y,i=y}}return s},t.TokenSet.prototype.toArray=function(){for(var n=[],i=[{prefix:"",node:this}];i.length;){var s=i.pop(),o=Object.keys(s.node.edges),a=o.length;s.node.final&&(s.prefix.charAt(0),n.push(s.prefix));for(var l=0;l<a;l++){var d=o[l];i.push({prefix:s.prefix.concat(d),node:s.node.edges[d]})}}return n},t.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var n=this.final?"1":"0",i=Object.keys(this.edges).sort(),s=i.length,o=0;o<s;o++){var a=i[o],l=this.edges[a];n=n+a+l.id}return n},t.TokenSet.prototype.intersect=function(n){for(var i=new t.TokenSet,s=void 0,o=[{qNode:n,output:i,node:this}];o.length;){s=o.pop();for(var a=Object.keys(s.qNode.edges),l=a.length,d=Object.keys(s.node.edges),y=d.length,h=0;h<l;h++)for(var g=a[h],x=0;x<y;x++){var f=d[x];if(f==g||g=="*"){var u=s.node.edges[f],c=s.qNode.edges[g],v=u.final&&c.final,m=void 0;f in s.output.edges?(m=s.output.edges[f],m.final=m.final||v):(m=new t.TokenSet,m.final=v,s.output.edges[f]=m),o.push({qNode:c,output:m,node:u})}}}return i},t.TokenSet.Builder=function(){this.previousWord="",this.root=new t.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},t.TokenSet.Builder.prototype.insert=function(n){var i,s=0;if(n<this.previousWord)throw new Error("Out of order word insertion");for(var o=0;o<n.length&&o<this.previousWord.length&&n[o]==this.previousWord[o];o++)s++;this.minimize(s),this.uncheckedNodes.length==0?i=this.root:i=this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(var o=s;o<n.length;o++){var a=new t.TokenSet,l=n[o];i.edges[l]=a,this.uncheckedNodes.push({parent:i,char:l,child:a}),i=a}i.final=!0,this.previousWord=n},t.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},t.TokenSet.Builder.prototype.minimize=function(n){for(var i=this.uncheckedNodes.length-1;i>=n;i--){var s=this.uncheckedNodes[i],o=s.child.toString();o in this.minimizedNodes?s.parent.edges[s.char]=this.minimizedNodes[o]:(s.child._str=o,this.minimizedNodes[o]=s.child),this.uncheckedNodes.pop()}};/*!
 * lunr.Index
 * Copyright (C) 2020 Oliver Nightingale
 */t.Index=function(n){this.invertedIndex=n.invertedIndex,this.fieldVectors=n.fieldVectors,this.tokenSet=n.tokenSet,this.fields=n.fields,this.pipeline=n.pipeline},t.Index.prototype.search=function(n){return this.query(function(i){var s=new t.QueryParser(n,i);s.parse()})},t.Index.prototype.query=function(n){for(var i=new t.Query(this.fields),s=Object.create(null),o=Object.create(null),a=Object.create(null),l=Object.create(null),d=Object.create(null),y=0;y<this.fields.length;y++)o[this.fields[y]]=new t.Vector;n.call(i,i);for(var y=0;y<i.clauses.length;y++){var h=i.clauses[y],g=null,x=t.Set.empty;h.usePipeline?g=this.pipeline.runString(h.term,{fields:h.fields}):g=[h.term];for(var f=0;f<g.length;f++){var u=g[f];h.term=u;var c=t.TokenSet.fromClause(h),v=this.tokenSet.intersect(c).toArray();if(v.length===0&&h.presence===t.Query.presence.REQUIRED){for(var m=0;m<h.fields.length;m++){var p=h.fields[m];l[p]=t.Set.empty}break}for(var b=0;b<v.length;b++)for(var O=v[b],I=this.invertedIndex[O],_=I._index,m=0;m<h.fields.length;m++){var p=h.fields[m],R=I[p],C=Object.keys(R),B=O+"/"+p,U=new t.Set(C);if(h.presence==t.Query.presence.REQUIRED&&(x=x.union(U),l[p]===void 0&&(l[p]=t.Set.complete)),h.presence==t.Query.presence.PROHIBITED){d[p]===void 0&&(d[p]=t.Set.empty),d[p]=d[p].union(U);continue}if(o[p].upsert(_,h.boost,function(_n,wn){return _n+wn}),!a[B]){for(var W=0;W<C.length;W++){var te=C[W],S=new t.FieldRef(te,p),L=R[te],q;(q=s[S])===void 0?s[S]=new t.MatchData(O,p,L):q.add(O,p,L)}a[B]=!0}}}if(h.presence===t.Query.presence.REQUIRED)for(var m=0;m<h.fields.length;m++){var p=h.fields[m];l[p]=l[p].intersect(x)}}for(var M=t.Set.complete,V=t.Set.empty,y=0;y<this.fields.length;y++){var p=this.fields[y];l[p]&&(M=M.intersect(l[p])),d[p]&&(V=V.union(d[p]))}var E=Object.keys(s),Q=[],Y=Object.create(null);if(i.isNegated()){E=Object.keys(this.fieldVectors);for(var y=0;y<E.length;y++){var S=E[y],z=t.FieldRef.fromString(S);s[S]=new t.MatchData}}for(var y=0;y<E.length;y++){var z=t.FieldRef.fromString(E[y]),k=z.docRef;if(M.contains(k)&&!V.contains(k)){var D=this.fieldVectors[z],$=o[z.fieldName].similarity(D),J;if((J=Y[k])!==void 0)J.score+=$,J.matchData.combine(s[z]);else{var F={ref:k,score:$,matchData:s[z]};Y[k]=F,Q.push(F)}}}return Q.sort(function(me,ae){return ae.score-me.score})},t.Index.prototype.toJSON=function(){var n=Object.keys(this.invertedIndex).sort().map(function(s){return[s,this.invertedIndex[s]]},this),i=Object.keys(this.fieldVectors).map(function(s){return[s,this.fieldVectors[s].toJSON()]},this);return{version:t.version,fields:this.fields,fieldVectors:i,invertedIndex:n,pipeline:this.pipeline.toJSON()}},t.Index.load=function(n){var i={},s={},o=n.fieldVectors,a=Object.create(null),l=n.invertedIndex,d=new t.TokenSet.Builder,y=t.Pipeline.load(n.pipeline);n.version!=t.version&&t.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+t.version+"' does not match serialized index '"+n.version+"'");for(var h=0;h<o.length;h++){var g=o[h],x=g[0],f=g[1];s[x]=new t.Vector(f)}for(var h=0;h<l.length;h++){var g=l[h],u=g[0],c=g[1];d.insert(u),a[u]=c}return d.finish(),i.fields=n.fields,i.fieldVectors=s,i.invertedIndex=a,i.tokenSet=d.root,i.pipeline=y,new t.Index(i)};/*!
 * lunr.Builder
 * Copyright (C) 2020 Oliver Nightingale
 */t.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=t.tokenizer,this.pipeline=new t.Pipeline,this.searchPipeline=new t.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},t.Builder.prototype.ref=function(n){this._ref=n},t.Builder.prototype.field=function(n,i){if(/\//.test(n))throw new RangeError("Field '"+n+"' contains illegal character '/'");this._fields[n]=i||{}},t.Builder.prototype.b=function(n){n<0?this._b=0:n>1?this._b=1:this._b=n},t.Builder.prototype.k1=function(n){this._k1=n},t.Builder.prototype.add=function(n,i){var s=n[this._ref],o=Object.keys(this._fields);this._documents[s]=i||{},this.documentCount+=1;for(var a=0;a<o.length;a++){var l=o[a],d=this._fields[l].extractor,y=d?d(n):n[l],h=this.tokenizer(y,{fields:[l]}),g=this.pipeline.run(h),x=new t.FieldRef(s,l),f=Object.create(null);this.fieldTermFrequencies[x]=f,this.fieldLengths[x]=0,this.fieldLengths[x]+=g.length;for(var u=0;u<g.length;u++){var c=g[u];if(f[c]==null&&(f[c]=0),f[c]+=1,this.invertedIndex[c]==null){var v=Object.create(null);v._index=this.termIndex,this.termIndex+=1;for(var m=0;m<o.length;m++)v[o[m]]=Object.create(null);this.invertedIndex[c]=v}this.invertedIndex[c][l][s]==null&&(this.invertedIndex[c][l][s]=Object.create(null));for(var p=0;p<this.metadataWhitelist.length;p++){var b=this.metadataWhitelist[p],O=c.metadata[b];this.invertedIndex[c][l][s][b]==null&&(this.invertedIndex[c][l][s][b]=[]),this.invertedIndex[c][l][s][b].push(O)}}}},t.Builder.prototype.calculateAverageFieldLengths=function(){for(var n=Object.keys(this.fieldLengths),i=n.length,s={},o={},a=0;a<i;a++){var l=t.FieldRef.fromString(n[a]),d=l.fieldName;o[d]||(o[d]=0),o[d]+=1,s[d]||(s[d]=0),s[d]+=this.fieldLengths[l]}for(var y=Object.keys(this._fields),a=0;a<y.length;a++){var h=y[a];s[h]=s[h]/o[h]}this.averageFieldLength=s},t.Builder.prototype.createFieldVectors=function(){for(var n={},i=Object.keys(this.fieldTermFrequencies),s=i.length,o=Object.create(null),a=0;a<s;a++){for(var l=t.FieldRef.fromString(i[a]),d=l.fieldName,y=this.fieldLengths[l],h=new t.Vector,g=this.fieldTermFrequencies[l],x=Object.keys(g),f=x.length,u=this._fields[d].boost||1,c=this._documents[l.docRef].boost||1,v=0;v<f;v++){var m=x[v],p=g[m],b=this.invertedIndex[m]._index,O,I,_;o[m]===void 0?(O=t.idf(this.invertedIndex[m],this.documentCount),o[m]=O):O=o[m],I=O*((this._k1+1)*p)/(this._k1*(1-this._b+this._b*(y/this.averageFieldLength[d]))+p),I*=u,I*=c,_=Math.round(I*1e3)/1e3,h.insert(b,_)}n[l]=h}this.fieldVectors=n},t.Builder.prototype.createTokenSet=function(){this.tokenSet=t.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},t.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new t.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},t.Builder.prototype.use=function(n){var i=Array.prototype.slice.call(arguments,1);i.unshift(this),n.apply(this,i)},t.MatchData=function(n,i,s){for(var o=Object.create(null),a=Object.keys(s||{}),l=0;l<a.length;l++){var d=a[l];o[d]=s[d].slice()}this.metadata=Object.create(null),n!==void 0&&(this.metadata[n]=Object.create(null),this.metadata[n][i]=o)},t.MatchData.prototype.combine=function(n){for(var i=Object.keys(n.metadata),s=0;s<i.length;s++){var o=i[s],a=Object.keys(n.metadata[o]);this.metadata[o]==null&&(this.metadata[o]=Object.create(null));for(var l=0;l<a.length;l++){var d=a[l],y=Object.keys(n.metadata[o][d]);this.metadata[o][d]==null&&(this.metadata[o][d]=Object.create(null));for(var h=0;h<y.length;h++){var g=y[h];this.metadata[o][d][g]==null?this.metadata[o][d][g]=n.metadata[o][d][g]:this.metadata[o][d][g]=this.metadata[o][d][g].concat(n.metadata[o][d][g])}}}},t.MatchData.prototype.add=function(n,i,s){if(!(n in this.metadata)){this.metadata[n]=Object.create(null),this.metadata[n][i]=s;return}if(!(i in this.metadata[n])){this.metadata[n][i]=s;return}for(var o=Object.keys(s),a=0;a<o.length;a++){var l=o[a];l in this.metadata[n][i]?this.metadata[n][i][l]=this.metadata[n][i][l].concat(s[l]):this.metadata[n][i][l]=s[l]}},t.Query=function(n){this.clauses=[],this.allFields=n},t.Query.wildcard=new String("*"),t.Query.wildcard.NONE=0,t.Query.wildcard.LEADING=1,t.Query.wildcard.TRAILING=2,t.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},t.Query.prototype.clause=function(n){return"fields"in n||(n.fields=this.allFields),"boost"in n||(n.boost=1),"usePipeline"in n||(n.usePipeline=!0),"wildcard"in n||(n.wildcard=t.Query.wildcard.NONE),n.wildcard&t.Query.wildcard.LEADING&&n.term.charAt(0)!=t.Query.wildcard&&(n.term="*"+n.term),n.wildcard&t.Query.wildcard.TRAILING&&n.term.slice(-1)!=t.Query.wildcard&&(n.term=""+n.term+"*"),"presence"in n||(n.presence=t.Query.presence.OPTIONAL),this.clauses.push(n),this},t.Query.prototype.isNegated=function(){for(var n=0;n<this.clauses.length;n++)if(this.clauses[n].presence!=t.Query.presence.PROHIBITED)return!1;return!0},t.Query.prototype.term=function(n,i){if(Array.isArray(n))return n.forEach(function(o){this.term(o,t.utils.clone(i))},this),this;var s=i||{};return s.term=n.toString(),this.clause(s),this},t.QueryParseError=function(n,i,s){this.name="QueryParseError",this.message=n,this.start=i,this.end=s},t.QueryParseError.prototype=new Error,t.QueryLexer=function(n){this.lexemes=[],this.str=n,this.length=n.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},t.QueryLexer.prototype.run=function(){for(var n=t.QueryLexer.lexText;n;)n=n(this)},t.QueryLexer.prototype.sliceString=function(){for(var n=[],i=this.start,s=this.pos,o=0;o<this.escapeCharPositions.length;o++)s=this.escapeCharPositions[o],n.push(this.str.slice(i,s)),i=s+1;return n.push(this.str.slice(i,this.pos)),this.escapeCharPositions.length=0,n.join("")},t.QueryLexer.prototype.emit=function(n){this.lexemes.push({type:n,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},t.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},t.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return t.QueryLexer.EOS;var n=this.str.charAt(this.pos);return this.pos+=1,n},t.QueryLexer.prototype.width=function(){return this.pos-this.start},t.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},t.QueryLexer.prototype.backup=function(){this.pos-=1},t.QueryLexer.prototype.acceptDigitRun=function(){var n,i;do n=this.next(),i=n.charCodeAt(0);while(i>47&&i<58);n!=t.QueryLexer.EOS&&this.backup()},t.QueryLexer.prototype.more=function(){return this.pos<this.length},t.QueryLexer.EOS="EOS",t.QueryLexer.FIELD="FIELD",t.QueryLexer.TERM="TERM",t.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",t.QueryLexer.BOOST="BOOST",t.QueryLexer.PRESENCE="PRESENCE",t.QueryLexer.lexField=function(n){return n.backup(),n.emit(t.QueryLexer.FIELD),n.ignore(),t.QueryLexer.lexText},t.QueryLexer.lexTerm=function(n){if(n.width()>1&&(n.backup(),n.emit(t.QueryLexer.TERM)),n.ignore(),n.more())return t.QueryLexer.lexText},t.QueryLexer.lexEditDistance=function(n){return n.ignore(),n.acceptDigitRun(),n.emit(t.QueryLexer.EDIT_DISTANCE),t.QueryLexer.lexText},t.QueryLexer.lexBoost=function(n){return n.ignore(),n.acceptDigitRun(),n.emit(t.QueryLexer.BOOST),t.QueryLexer.lexText},t.QueryLexer.lexEOS=function(n){n.width()>0&&n.emit(t.QueryLexer.TERM)},t.QueryLexer.termSeparator=t.tokenizer.separator,t.QueryLexer.lexText=function(n){for(;;){var i=n.next();if(i==t.QueryLexer.EOS)return t.QueryLexer.lexEOS;if(i.charCodeAt(0)==92){n.escapeCharacter();continue}if(i==":")return t.QueryLexer.lexField;if(i=="~")return n.backup(),n.width()>0&&n.emit(t.QueryLexer.TERM),t.QueryLexer.lexEditDistance;if(i=="^")return n.backup(),n.width()>0&&n.emit(t.QueryLexer.TERM),t.QueryLexer.lexBoost;if(i=="+"&&n.width()===1||i=="-"&&n.width()===1)return n.emit(t.QueryLexer.PRESENCE),t.QueryLexer.lexText;if(i.match(t.QueryLexer.termSeparator))return t.QueryLexer.lexTerm}},t.QueryParser=function(n,i){this.lexer=new t.QueryLexer(n),this.query=i,this.currentClause={},this.lexemeIdx=0},t.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var n=t.QueryParser.parseClause;n;)n=n(this);return this.query},t.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},t.QueryParser.prototype.consumeLexeme=function(){var n=this.peekLexeme();return this.lexemeIdx+=1,n},t.QueryParser.prototype.nextClause=function(){var n=this.currentClause;this.query.clause(n),this.currentClause={}},t.QueryParser.parseClause=function(n){var i=n.peekLexeme();if(i!=null)switch(i.type){case t.QueryLexer.PRESENCE:return t.QueryParser.parsePresence;case t.QueryLexer.FIELD:return t.QueryParser.parseField;case t.QueryLexer.TERM:return t.QueryParser.parseTerm;default:var s="expected either a field or a term, found "+i.type;throw i.str.length>=1&&(s+=" with value '"+i.str+"'"),new t.QueryParseError(s,i.start,i.end)}},t.QueryParser.parsePresence=function(n){var i=n.consumeLexeme();if(i!=null){switch(i.str){case"-":n.currentClause.presence=t.Query.presence.PROHIBITED;break;case"+":n.currentClause.presence=t.Query.presence.REQUIRED;break;default:var s="unrecognised presence operator'"+i.str+"'";throw new t.QueryParseError(s,i.start,i.end)}var o=n.peekLexeme();if(o==null){var s="expecting term or field, found nothing";throw new t.QueryParseError(s,i.start,i.end)}switch(o.type){case t.QueryLexer.FIELD:return t.QueryParser.parseField;case t.QueryLexer.TERM:return t.QueryParser.parseTerm;default:var s="expecting term or field, found '"+o.type+"'";throw new t.QueryParseError(s,o.start,o.end)}}},t.QueryParser.parseField=function(n){var i=n.consumeLexeme();if(i!=null){if(n.query.allFields.indexOf(i.str)==-1){var s=n.query.allFields.map(function(l){return"'"+l+"'"}).join(", "),o="unrecognised field '"+i.str+"', possible fields: "+s;throw new t.QueryParseError(o,i.start,i.end)}n.currentClause.fields=[i.str];var a=n.peekLexeme();if(a==null){var o="expecting term, found nothing";throw new t.QueryParseError(o,i.start,i.end)}switch(a.type){case t.QueryLexer.TERM:return t.QueryParser.parseTerm;default:var o="expecting term, found '"+a.type+"'";throw new t.QueryParseError(o,a.start,a.end)}}},t.QueryParser.parseTerm=function(n){var i=n.consumeLexeme();if(i!=null){n.currentClause.term=i.str.toLowerCase(),i.str.indexOf("*")!=-1&&(n.currentClause.usePipeline=!1);var s=n.peekLexeme();if(s==null){n.nextClause();return}switch(s.type){case t.QueryLexer.TERM:return n.nextClause(),t.QueryParser.parseTerm;case t.QueryLexer.FIELD:return n.nextClause(),t.QueryParser.parseField;case t.QueryLexer.EDIT_DISTANCE:return t.QueryParser.parseEditDistance;case t.QueryLexer.BOOST:return t.QueryParser.parseBoost;case t.QueryLexer.PRESENCE:return n.nextClause(),t.QueryParser.parsePresence;default:var o="Unexpected lexeme type '"+s.type+"'";throw new t.QueryParseError(o,s.start,s.end)}}},t.QueryParser.parseEditDistance=function(n){var i=n.consumeLexeme();if(i!=null){var s=parseInt(i.str,10);if(isNaN(s)){var o="edit distance must be numeric";throw new t.QueryParseError(o,i.start,i.end)}n.currentClause.editDistance=s;var a=n.peekLexeme();if(a==null){n.nextClause();return}switch(a.type){case t.QueryLexer.TERM:return n.nextClause(),t.QueryParser.parseTerm;case t.QueryLexer.FIELD:return n.nextClause(),t.QueryParser.parseField;case t.QueryLexer.EDIT_DISTANCE:return t.QueryParser.parseEditDistance;case t.QueryLexer.BOOST:return t.QueryParser.parseBoost;case t.QueryLexer.PRESENCE:return n.nextClause(),t.QueryParser.parsePresence;default:var o="Unexpected lexeme type '"+a.type+"'";throw new t.QueryParseError(o,a.start,a.end)}}},t.QueryParser.parseBoost=function(n){var i=n.consumeLexeme();if(i!=null){var s=parseInt(i.str,10);if(isNaN(s)){var o="boost must be numeric";throw new t.QueryParseError(o,i.start,i.end)}n.currentClause.boost=s;var a=n.peekLexeme();if(a==null){n.nextClause();return}switch(a.type){case t.QueryLexer.TERM:return n.nextClause(),t.QueryParser.parseTerm;case t.QueryLexer.FIELD:return n.nextClause(),t.QueryParser.parseField;case t.QueryLexer.EDIT_DISTANCE:return t.QueryParser.parseEditDistance;case t.QueryLexer.BOOST:return t.QueryParser.parseBoost;case t.QueryLexer.PRESENCE:return n.nextClause(),t.QueryParser.parsePresence;default:var o="Unexpected lexeme type '"+a.type+"'";throw new t.QueryParseError(o,a.start,a.end)}}},(function(n,i){e.exports=i()})(this,function(){return t})})()})(dt)),dt.exports}var On=Sn();const xt=xn(On);let ht;async function kn(){return ht===void 0&&(ht=(async()=>{const r=await(await fetch("/search-index.json")).json();return{en:{index:xt.Index.load(r.index),store:r.store}}})()),et.optionify(await ht)}function Rn(e,r,t){return e.query(n=>{const i=xt.tokenizer(t);n.term(i,{boost:100,usePipeline:!0}),n.term(i,{boost:10,usePipeline:!1,wildcard:xt.Query.wildcard.TRAILING}),n.term(i,{boost:1})}).map(({ref:n})=>({...r[n]}))}async function Pn(e){const r=(await kn()).map(t=>t.en);return et.optionify(e).filter(Boolean).andThen(t=>r.map(({index:n,store:i})=>({index:n,store:i,query:t}))).map(({index:t,store:n,query:i})=>Rn(t,n,i)).unwrapOr([])}const Tr=["shift","alt","meta","mod","ctrl","control"],Tn={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function he(e){return(Tn[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function Ar(e){return Tr.includes(e)}function pt(e,r=","){return e.toLowerCase().split(r)}function vt(e,r="+",t=">",n=!1,i){let s=[],o=!1;e=e.trim(),e.includes(t)?(o=!0,s=e.toLocaleLowerCase().split(t).map(d=>he(d))):s=e.toLocaleLowerCase().split(r).map(d=>he(d));const a={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),shift:s.includes("shift"),meta:s.includes("meta"),mod:s.includes("mod"),useKey:n},l=s.filter(d=>!Tr.includes(d));return{...a,keys:l,description:i,isSequence:o,hotkey:e}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&Lr([he(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&Ir([he(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{ce.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{ce.clear()},0)}));const ce=new Set;function Ft(e){return Array.isArray(e)}function An(e,r=","){return(Ft(e)?e:e.split(r)).every(t=>ce.has(t.trim().toLowerCase()))}function Lr(e){const r=Array.isArray(e)?e:[e];ce.has("meta")&&ce.forEach(t=>!Ar(t)&&ce.delete(t.toLowerCase())),r.forEach(t=>ce.add(t.toLowerCase()))}function Ir(e){const r=Array.isArray(e)?e:[e];e==="meta"?ce.clear():r.forEach(t=>ce.delete(t.toLowerCase()))}function Ln(e,r,t){(typeof t=="function"&&t(e,r)||t===!0)&&e.preventDefault()}function In(e,r,t){return typeof t=="function"?t(e,r):t===!0||t===void 0}const Qn=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function Cn(e){return Qr(e,Qn)}function Qr(e,r=!1){const{target:t,composed:n}=e;let i,s;return Fn(t)&&n?(i=e.composedPath()[0]&&e.composedPath()[0].tagName,s=e.composedPath()[0]&&e.composedPath()[0].role):(i=t&&t.tagName,s=t&&t.role),Ft(r)?!!(i&&r&&r.some(o=>o.toLowerCase()===i.toLowerCase()||o===s)):!!(i&&r&&r)}function Fn(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function jn(e,r){return e.length===0&&r?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):r?e.some(t=>r.includes(t))||e.includes("*"):!0}const Nn=(e,r,t=!1)=>{const{alt:n,meta:i,mod:s,shift:o,ctrl:a,keys:l,useKey:d}=r,{code:y,key:h,ctrlKey:g,metaKey:x,shiftKey:f,altKey:u}=e,c=he(y);if(d&&l?.length===1&&l.includes(h))return!0;if(!l?.includes(c)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(c))return!1;if(!t){if(n!==u&&c!=="alt"||o!==f&&c!=="shift")return!1;if(s){if(!x&&!g)return!1}else if(i!==x&&c!=="meta"&&c!=="os"||a!==g&&c!=="ctrl"&&c!=="control")return!1}return l&&l.length===1&&l.includes(c)?!0:l?An(l):!l},Vn=P.createContext(void 0),Dn=()=>P.useContext(Vn);function Cr(e,r){return e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(e).length===Object.keys(r).length&&Object.keys(e).reduce((t,n)=>t&&Cr(e[n],r[n]),!0):e===r}const zn=P.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),Mn=()=>P.useContext(zn);function qn(e){const r=P.useRef(void 0);return Cr(r.current,e)||(r.current=e),r.current}const tr=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},$n=typeof window<"u"?P.useLayoutEffect:P.useEffect;function Et(e,r,t,n){const i=P.useRef(null),s=P.useRef(!1),o=Array.isArray(t)?Array.isArray(n)?void 0:n:t,a=Ft(e)?e.join(o?.delimiter):e,l=Array.isArray(t)?t:Array.isArray(n)?n:void 0,d=P.useCallback(r,l??[]),y=P.useRef(d);l?y.current=d:y.current=r;const h=qn(o),{activeScopes:g}=Mn(),x=Dn();return $n(()=>{if(h?.enabled===!1||!jn(g,h?.scopes))return;let f=[],u;const c=(b,O=!1)=>{if(!(Cn(b)&&!Qr(b,h?.enableOnFormTags))){if(i.current!==null){const I=i.current.getRootNode();if((I instanceof Document||I instanceof ShadowRoot)&&I.activeElement!==i.current&&!i.current.contains(I.activeElement)){tr(b);return}}b.target?.isContentEditable&&!h?.enableOnContentEditable||pt(a,h?.delimiter).forEach(I=>{if(I.includes(h?.splitKey??"+")&&I.includes(h?.sequenceSplitKey??">")){console.warn(`Hotkey ${I} contains both ${h?.splitKey??"+"} and ${h?.sequenceSplitKey??">"} which is not supported.`);return}const _=vt(I,h?.splitKey,h?.sequenceSplitKey,h?.useKey,h?.description);if(_.isSequence){u=setTimeout(()=>{f=[]},h?.sequenceTimeoutMs??1e3);const R=_.useKey?b.key:he(b.code);if(Ar(R.toLowerCase()))return;f.push(R);const C=_.keys?.[f.length-1];if(R!==C){f=[],u&&clearTimeout(u);return}f.length===_.keys?.length&&(y.current(b,_),u&&clearTimeout(u),f=[])}else if(Nn(b,_,h?.ignoreModifiers)||_.keys?.includes("*")){if(h?.ignoreEventWhen?.(b)||O&&s.current)return;if(Ln(b,_,h?.preventDefault),!In(b,_,h?.enabled)){tr(b);return}y.current(b,_),O||(s.current=!0)}})}},v=b=>{b.code!==void 0&&(Lr(he(b.code)),(h?.keydown===void 0&&h?.keyup!==!0||h?.keydown)&&c(b))},m=b=>{b.code!==void 0&&(Ir(he(b.code)),s.current=!1,h?.keyup&&c(b,!0))},p=i.current||o?.document||document;return p.addEventListener("keyup",m,o?.eventListenerOptions),p.addEventListener("keydown",v,o?.eventListenerOptions),x&&pt(a,h?.delimiter).forEach(b=>x.addHotkey(vt(b,h?.splitKey,h?.sequenceSplitKey,h?.useKey,h?.description))),()=>{p.removeEventListener("keyup",m,o?.eventListenerOptions),p.removeEventListener("keydown",v,o?.eventListenerOptions),x&&pt(a,h?.delimiter).forEach(b=>x.removeHotkey(vt(b,h?.splitKey,h?.sequenceSplitKey,h?.useKey,h?.description))),f=[],u&&clearTimeout(u)}},[a,h,g]),i}function Bn(e){return r=>{for(const t of e)St(t,r)}}function Un(e){return r=>{const t=[];for(const n of e){const i=St(n,r),s=typeof i=="function";t.push(s?i:()=>St(n,null))}return()=>{for(const n of t)n()}}}function St(e,r){if(typeof e=="function")return e(r);e&&(e.current=r)}var Wn=parseInt(P.version.split(".")[0],10)>=19?Un:Bn;function ke(e,r){var t=r===void 0?{type:e}:{type:e,payload:r};return t}function Gn(e){window.location.assign(e)}var ve=(e=>(e.SET_QUERY="SET_QUERY",e.SET_RESULTS="SET_RESULTS",e.NEXT_SELECTION="NEXT_SELECTION",e.PREVIOUS_SELECTION="PREVIOUS_SELECTION",e.RESET="RESET",e))(ve||{});const _e={setQuery:e=>ke("SET_QUERY",e),setResults:e=>ke("SET_RESULTS",e),nextSelection:()=>ke("NEXT_SELECTION"),previousSelection:()=>ke("PREVIOUS_SELECTION"),reset:()=>ke("RESET")};function Hn(e,r){et.optionify(r[e.current]).map(t=>Gn(t.url))}class Kn{constructor(r,t){this.dispatch=r,this.api=t}query=async r=>{this.dispatch(_e.setQuery(r)),(await et.resultify(this.api(r))).ok().map(t=>this.dispatch(_e.setResults(t)))}}function jt(e,r){return(t=r,n=void 0)=>{const i=n===void 0?void 0:e[n.type];return n!==void 0&&i!==null&&i!==void 0?i(t,n):t}}function Yn(e){return(r,t)=>{const n=r??{},i={};let s=!1;for(const o in e)if(Object.hasOwn(e,o)){const a=n[o],l=e[o](a,t);i[o]=l,s=s||a!==l}return s?i:n}}const Jn=jt({[ve.SET_QUERY]:(e,r)=>r.payload},""),Xn=jt({[ve.SET_RESULTS]:(e,r)=>r.payload},[]),Zn=jt({[ve.NEXT_SELECTION]:e=>({...e,current:Math.min(e.current+1,e.max)}),[ve.PREVIOUS_SELECTION]:e=>({...e,current:Math.max(e.current-1,0)}),[ve.SET_RESULTS]:(e,r)=>{const t=r?Math.max(r.payload.length-1,0):0;return{...e,current:Math.min(e.current,t),max:t}}},{current:0,max:0}),ei=Yn({query:Jn,results:Xn,selection:Zn});function ti(e,r){return r&&r.type===ve.RESET?void 0:e}function rr(e,r){const t=ti(e,r);return ei(t,r)}const ri=({value:e,onChange:r})=>{const t=P.useRef(null);return Et("mod+k",()=>t.current?.focus()),ee.jsx("input",{className:`
        w-full
        bg-transparent
        border
        border-accent
        rounded-sm
        text-background
        m-0
        outline-none
        py-1
        px-3
        transition-colors
        duration-500
        focus:bg-background
        focus:border-transparent
        focus:text-primary
        hover:bg-background
        hover:border-transparent
        hover:text-primary
        not-placeholder-shown:bg-background
        not-placeholder-shown:text-primary
      `,ref:t,type:"search",name:"query",placeholder:"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,value:e,onChange:n=>r(n.target.value),onFocus:()=>setTimeout(()=>t.current?.select())})};var Fr=(function(){if(typeof Map<"u")return Map;function e(r,t){var n=-1;return r.some(function(i,s){return i[0]===t?(n=s,!0):!1}),n}return(function(){function r(){this.__entries__=[]}return Object.defineProperty(r.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),r.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},r.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},r.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},r.prototype.has=function(t){return!!~e(this.__entries__,t)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];t.call(n,o[1],o[0])}},r})()})(),Ot=typeof window<"u"&&typeof document<"u"&&window.document===document,Ge=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),ni=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ge):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}})(),ii=2;function si(e,r){var t=!1,n=!1,i=0;function s(){t&&(t=!1,e()),n&&a()}function o(){ni(s)}function a(){var l=Date.now();if(t){if(l-i<ii)return;n=!0}else t=!0,n=!1,setTimeout(o,r);i=l}return a}var oi=20,ai=["top","right","bottom","left","width","height","size","weight"],ui=typeof MutationObserver<"u",ci=(function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=si(this.refresh.bind(this),oi)}return e.prototype.addObserver=function(r){~this.observers_.indexOf(r)||this.observers_.push(r),this.connected_||this.connect_()},e.prototype.removeObserver=function(r){var t=this.observers_,n=t.indexOf(r);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var r=this.updateObservers_();r&&this.refresh()},e.prototype.updateObservers_=function(){var r=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return r.forEach(function(t){return t.broadcastActive()}),r.length>0},e.prototype.connect_=function(){!Ot||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ui?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!Ot||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(r){var t=r.propertyName,n=t===void 0?"":t,i=ai.some(function(s){return!!~n.indexOf(s)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e})(),jr=(function(e,r){for(var t=0,n=Object.keys(r);t<n.length;t++){var i=n[t];Object.defineProperty(e,i,{value:r[i],enumerable:!1,writable:!1,configurable:!0})}return e}),Ee=(function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||Ge}),Nr=tt(0,0,0,0);function He(e){return parseFloat(e)||0}function nr(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return r.reduce(function(n,i){var s=e["border-"+i+"-width"];return n+He(s)},0)}function li(e){for(var r=["top","right","bottom","left"],t={},n=0,i=r;n<i.length;n++){var s=i[n],o=e["padding-"+s];t[s]=He(o)}return t}function fi(e){var r=e.getBBox();return tt(0,0,r.width,r.height)}function di(e){var r=e.clientWidth,t=e.clientHeight;if(!r&&!t)return Nr;var n=Ee(e).getComputedStyle(e),i=li(n),s=i.left+i.right,o=i.top+i.bottom,a=He(n.width),l=He(n.height);if(n.boxSizing==="border-box"&&(Math.round(a+s)!==r&&(a-=nr(n,"left","right")+s),Math.round(l+o)!==t&&(l-=nr(n,"top","bottom")+o)),!pi(e)){var d=Math.round(a+s)-r,y=Math.round(l+o)-t;Math.abs(d)!==1&&(a-=d),Math.abs(y)!==1&&(l-=y)}return tt(i.left,i.top,a,l)}var hi=(function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Ee(e).SVGGraphicsElement}:function(e){return e instanceof Ee(e).SVGElement&&typeof e.getBBox=="function"}})();function pi(e){return e===Ee(e).document.documentElement}function vi(e){return Ot?hi(e)?fi(e):di(e):Nr}function yi(e){var r=e.x,t=e.y,n=e.width,i=e.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return jr(o,{x:r,y:t,width:n,height:i,top:t,right:r+n,bottom:i+t,left:r}),o}function tt(e,r,t,n){return{x:e,y:r,width:t,height:n}}var mi=(function(){function e(r){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=tt(0,0,0,0),this.target=r}return e.prototype.isActive=function(){var r=vi(this.target);return this.contentRect_=r,r.width!==this.broadcastWidth||r.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var r=this.contentRect_;return this.broadcastWidth=r.width,this.broadcastHeight=r.height,r},e})(),gi=(function(){function e(r,t){var n=yi(t);jr(this,{target:r,contentRect:n})}return e})(),_i=(function(){function e(r,t,n){if(this.activeObservations_=[],this.observations_=new Fr,typeof r!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=r,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof Ee(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(r)||(t.set(r,new mi(r)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof Ee(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(r)&&(t.delete(r),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var r=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&r.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var r=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new gi(n.target,n.broadcastRect())});this.callback_.call(r,t,r),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e})(),Vr=typeof WeakMap<"u"?new WeakMap:new Fr,Dr=(function(){function e(r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=ci.getInstance(),n=new _i(r,t,this);Vr.set(this,n)}return e})();["observe","unobserve","disconnect"].forEach(function(e){Dr.prototype[e]=function(){var r;return(r=Vr.get(this))[e].apply(r,arguments)}});var wi=(function(){return typeof Ge.ResizeObserver<"u"?Ge.ResizeObserver:Dr})();function bi(){const e=P.useRef(null),[r,t]=P.useState({left:0,top:0,width:0,height:0}),[n]=P.useState(()=>new wi(([i])=>t(i.contentRect)));return P.useEffect(()=>(e.current&&n.observe(e.current),()=>n.disconnect()),[n]),[{ref:e},r]}var Nt=$e(),T=e=>qe(e,Nt),Vt=$e();T.write=e=>qe(e,Vt);var rt=$e();T.onStart=e=>qe(e,rt);var Dt=$e();T.onFrame=e=>qe(e,Dt);var zt=$e();T.onFinish=e=>qe(e,zt);var be=[];T.setTimeout=(e,r)=>{const t=T.now()+r,n=()=>{const s=be.findIndex(o=>o.cancel==n);~s&&be.splice(s,1),de-=~s?1:0},i={time:t,handler:e,cancel:n};return be.splice(zr(t),0,i),de+=1,Mr(),i};var zr=e=>~(~be.findIndex(r=>r.time>e)||~be.length);T.cancel=e=>{rt.delete(e),Dt.delete(e),zt.delete(e),Nt.delete(e),Vt.delete(e)};T.sync=e=>{kt=!0,T.batchedUpdates(e),kt=!1};T.throttle=e=>{let r;function t(){try{e(...r)}finally{r=null}}function n(...i){r=i,T.onStart(t)}return n.handler=e,n.cancel=()=>{rt.delete(t),r=null},n};var Mt=typeof window<"u"?window.requestAnimationFrame:(()=>{});T.use=e=>Mt=e;T.now=typeof performance<"u"?()=>performance.now():Date.now;T.batchedUpdates=e=>e();T.catch=console.error;T.frameLoop="always";T.advance=()=>{T.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):$r()};var fe=-1,de=0,kt=!1;function qe(e,r){kt?(r.delete(e),e(0)):(r.add(e),Mr())}function Mr(){fe<0&&(fe=0,T.frameLoop!=="demand"&&Mt(qr))}function xi(){fe=-1}function qr(){~fe&&(Mt(qr),T.batchedUpdates($r))}function $r(){const e=fe;fe=T.now();const r=zr(fe);if(r&&(Br(be.splice(0,r),t=>t.handler()),de-=r),!de){xi();return}rt.flush(),Nt.flush(e?Math.min(64,fe-e):16.667),Dt.flush(),Vt.flush(),zt.flush()}function $e(){let e=new Set,r=e;return{add(t){de+=r==e&&!e.has(t)?1:0,e.add(t)},delete(t){return de-=r==e&&e.has(t)?1:0,e.delete(t)},flush(t){r.size&&(e=new Set,de-=r.size,Br(r,n=>n(t)&&e.add(n)),de+=e.size,r=e)}}}function Br(e,r){e.forEach(t=>{try{r(t)}catch(n){T.catch(n)}})}var Ei=Object.defineProperty,Si=(e,r)=>{for(var t in r)Ei(e,t,{get:r[t],enumerable:!0})},ie={};Si(ie,{assign:()=>ki,colors:()=>pe,createStringInterpolator:()=>$t,skipAnimation:()=>Wr,to:()=>Ur,willAdvance:()=>Bt});function Rt(){}var Oi=(e,r,t)=>Object.defineProperty(e,r,{value:t,writable:!0,configurable:!0}),w={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function ue(e,r){if(w.arr(e)){if(!w.arr(r)||e.length!==r.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}return e===r}var A=(e,r)=>e.forEach(r);function oe(e,r,t){if(w.arr(e)){for(let n=0;n<e.length;n++)r.call(t,e[n],`${n}`);return}for(const n in e)e.hasOwnProperty(n)&&r.call(t,e[n],n)}var G=e=>w.und(e)?[]:w.arr(e)?e:[e];function Le(e,r){if(e.size){const t=Array.from(e);e.clear(),A(t,r)}}var Ae=(e,...r)=>Le(e,t=>t(...r)),qt=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),$t,Ur,pe=null,Wr=!1,Bt=Rt,ki=e=>{e.to&&(Ur=e.to),e.now&&(T.now=e.now),e.colors!==void 0&&(pe=e.colors),e.skipAnimation!=null&&(Wr=e.skipAnimation),e.createStringInterpolator&&($t=e.createStringInterpolator),e.requestAnimationFrame&&T.use(e.requestAnimationFrame),e.batchedUpdates&&(T.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Bt=e.willAdvance),e.frameLoop&&(T.frameLoop=e.frameLoop)},Ie=new Set,Z=[],yt=[],Ke=0,nt={get idle(){return!Ie.size&&!Z.length},start(e){Ke>e.priority?(Ie.add(e),T.onStart(Ri)):(Gr(e),T(Pt))},advance:Pt,sort(e){if(Ke)T.onFrame(()=>nt.sort(e));else{const r=Z.indexOf(e);~r&&(Z.splice(r,1),Hr(e))}},clear(){Z=[],Ie.clear()}};function Ri(){Ie.forEach(Gr),Ie.clear(),T(Pt)}function Gr(e){Z.includes(e)||Hr(e)}function Hr(e){Z.splice(Pi(Z,r=>r.priority>e.priority),0,e)}function Pt(e){const r=yt;for(let t=0;t<Z.length;t++){const n=Z[t];Ke=n.priority,n.idle||(Bt(n),n.advance(e),n.idle||r.push(n))}return Ke=0,yt=Z,yt.length=0,Z=r,Z.length>0}function Pi(e,r){const t=e.findIndex(r);return t<0?e.length:t}var Ti={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ne="[-+]?\\d*\\.?\\d+",Ye=ne+"%";function it(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Ai=new RegExp("rgb"+it(ne,ne,ne)),Li=new RegExp("rgba"+it(ne,ne,ne,ne)),Ii=new RegExp("hsl"+it(ne,Ye,Ye)),Qi=new RegExp("hsla"+it(ne,Ye,Ye,ne)),Ci=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Fi=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ji=/^#([0-9a-fA-F]{6})$/,Ni=/^#([0-9a-fA-F]{8})$/;function Vi(e){let r;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(r=ji.exec(e))?parseInt(r[1]+"ff",16)>>>0:pe&&pe[e]!==void 0?pe[e]:(r=Ai.exec(e))?(ge(r[1])<<24|ge(r[2])<<16|ge(r[3])<<8|255)>>>0:(r=Li.exec(e))?(ge(r[1])<<24|ge(r[2])<<16|ge(r[3])<<8|or(r[4]))>>>0:(r=Ci.exec(e))?parseInt(r[1]+r[1]+r[2]+r[2]+r[3]+r[3]+"ff",16)>>>0:(r=Ni.exec(e))?parseInt(r[1],16)>>>0:(r=Fi.exec(e))?parseInt(r[1]+r[1]+r[2]+r[2]+r[3]+r[3]+r[4]+r[4],16)>>>0:(r=Ii.exec(e))?(ir(sr(r[1]),Be(r[2]),Be(r[3]))|255)>>>0:(r=Qi.exec(e))?(ir(sr(r[1]),Be(r[2]),Be(r[3]))|or(r[4]))>>>0:null}function mt(e,r,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+(r-e)*6*t:t<1/2?r:t<2/3?e+(r-e)*(2/3-t)*6:e}function ir(e,r,t){const n=t<.5?t*(1+r):t+r-t*r,i=2*t-n,s=mt(i,n,e+1/3),o=mt(i,n,e),a=mt(i,n,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function ge(e){const r=parseInt(e,10);return r<0?0:r>255?255:r}function sr(e){return(parseFloat(e)%360+360)%360/360}function or(e){const r=parseFloat(e);return r<0?0:r>1?255:Math.round(r*255)}function Be(e){const r=parseFloat(e);return r<0?0:r>100?1:r/100}function ar(e){let r=Vi(e);if(r===null)return e;r=r||0;const t=(r&4278190080)>>>24,n=(r&16711680)>>>16,i=(r&65280)>>>8,s=(r&255)/255;return`rgba(${t}, ${n}, ${i}, ${s})`}var Fe=(e,r,t)=>{if(w.fun(e))return e;if(w.arr(e))return Fe({range:e,output:r,extrapolate:t});if(w.str(e.output[0]))return $t(e);const n=e,i=n.output,s=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",a=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(d=>d);return d=>{const y=zi(d,s);return Di(d,s[y],s[y+1],i[y],i[y+1],l,o,a,n.map)}};function Di(e,r,t,n,i,s,o,a,l){let d=l?l(e):e;if(d<r){if(o==="identity")return d;o==="clamp"&&(d=r)}if(d>t){if(a==="identity")return d;a==="clamp"&&(d=t)}return n===i?n:r===t?e<=r?n:i:(r===-1/0?d=-d:t===1/0?d=d-r:d=(d-r)/(t-r),d=s(d),n===-1/0?d=-d:i===1/0?d=d+n:d=d*(i-n)+n,d)}function zi(e,r){for(var t=1;t<r.length-1&&!(r[t]>=e);++t);return t-1}var Mi={linear:e=>e},je=Symbol.for("FluidValue.get"),Se=Symbol.for("FluidValue.observers"),X=e=>!!(e&&e[je]),H=e=>e&&e[je]?e[je]():e,ur=e=>e[Se]||null;function qi(e,r){e.eventObserved?e.eventObserved(r):e(r)}function Ne(e,r){const t=e[Se];t&&t.forEach(n=>{qi(n,r)})}var Kr=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");$i(this,e)}},$i=(e,r)=>Yr(e,je,r);function Oe(e,r){if(e[je]){let t=e[Se];t||Yr(e,Se,t=new Set),t.has(r)||(t.add(r),e.observerAdded&&e.observerAdded(t.size,r))}return r}function Ve(e,r){const t=e[Se];if(t&&t.has(r)){const n=t.size-1;n?t.delete(r):e[Se]=null,e.observerRemoved&&e.observerRemoved(n,r)}}var Yr=(e,r,t)=>Object.defineProperty(e,r,{value:t,writable:!0,configurable:!0}),Ue=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Bi=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,cr=new RegExp(`(${Ue.source})(%|[a-z]+)`,"i"),Ui=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,st=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Jr=e=>{const[r,t]=Wi(e);if(!r||qt())return e;const n=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(n)return n.trim();if(t&&t.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);return i||e}else{if(t&&st.test(t))return Jr(t);if(t)return t}return e},Wi=e=>{const r=st.exec(e);if(!r)return[,];const[,t,n]=r;return[t,n]},gt,Gi=(e,r,t,n,i)=>`rgba(${Math.round(r)}, ${Math.round(t)}, ${Math.round(n)}, ${i})`,Xr=e=>{gt||(gt=pe?new RegExp(`(${Object.keys(pe).join("|")})(?!\\w)`,"g"):/^\b$/);const r=e.output.map(s=>H(s).replace(st,Jr).replace(Bi,ar).replace(gt,ar)),t=r.map(s=>s.match(Ue).map(Number)),i=t[0].map((s,o)=>t.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Fe({...e,output:s}));return s=>{const o=!cr.test(r[0])&&r.find(l=>cr.test(l))?.replace(Ue,"");let a=0;return r[0].replace(Ue,()=>`${i[a++](s)}${o||""}`).replace(Ui,Gi)}},Ut="react-spring: ",Zr=e=>{const r=e;let t=!1;if(typeof r!="function")throw new TypeError(`${Ut}once requires a function parameter`);return(...n)=>{t||(r(...n),t=!0)}},Hi=Zr(console.warn);function Ki(){Hi(`${Ut}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Yi=Zr(console.warn);function Ji(){Yi(`${Ut}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function ot(e){return w.str(e)&&(e[0]=="#"||/\d/.test(e)||!qt()&&st.test(e)||e in(pe||{}))}var we=qt()?P.useEffect:P.useLayoutEffect,Xi=()=>{const e=P.useRef(!1);return we(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function en(){const e=P.useState()[1],r=Xi();return()=>{r.current&&e(Math.random())}}var tn=e=>P.useEffect(e,Zi),Zi=[];function es(e){const r=P.useRef(void 0);return P.useEffect(()=>{r.current=e}),r.current}var De=Symbol.for("Animated:node"),ts=e=>!!e&&e[De]===e,se=e=>e&&e[De],Wt=(e,r)=>Oi(e,De,r),at=e=>e&&e[De]&&e[De].getPayload(),rn=class{constructor(){Wt(this,this)}getPayload(){return this.payload||[]}},ut=class nn extends rn{constructor(r){super(),this._value=r,this.done=!0,this.durationProgress=0,w.num(this._value)&&(this.lastPosition=this._value)}static create(r){return new nn(r)}getPayload(){return[this]}getValue(){return this._value}setValue(r,t){return w.num(r)&&(this.lastPosition=r,t&&(r=Math.round(r/t)*t,this.done&&(this.lastPosition=r))),this._value===r?!1:(this._value=r,!0)}reset(){const{done:r}=this;this.done=!1,w.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,r&&(this.lastVelocity=null),this.v0=null)}},Je=class sn extends ut{constructor(r){super(0),this._string=null,this._toString=Fe({output:[r,r]})}static create(r){return new sn(r)}getValue(){const r=this._string;return r??(this._string=this._toString(this._value))}setValue(r){if(w.str(r)){if(r==this._string)return!1;this._string=r,this._value=1}else if(super.setValue(r))this._string=null;else return!1;return!0}reset(r){r&&(this._toString=Fe({output:[this.getValue(),r]})),this._value=0,super.reset()}},Xe={dependencies:null},ct=class extends rn{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const r={};return oe(this.source,(t,n)=>{ts(t)?r[n]=t.getValue(e):X(t)?r[n]=H(t):e||(r[n]=t)}),r}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&A(this.payload,e=>e.reset())}_makePayload(e){if(e){const r=new Set;return oe(e,this._addToPayload,r),Array.from(r)}}_addToPayload(e){Xe.dependencies&&X(e)&&Xe.dependencies.add(e);const r=at(e);r&&A(r,t=>this.add(t))}},rs=class on extends ct{constructor(r){super(r)}static create(r){return new on(r)}getValue(){return this.source.map(r=>r.getValue())}setValue(r){const t=this.getPayload();return r.length==t.length?t.map((n,i)=>n.setValue(r[i])).some(Boolean):(super.setValue(r.map(ns)),!0)}};function ns(e){return(ot(e)?Je:ut).create(e)}function Tt(e){const r=se(e);return r?r.constructor:w.arr(e)?rs:ot(e)?Je:ut}var lr=(e,r)=>{const t=!w.fun(e)||e.prototype&&e.prototype.isReactComponent;return P.forwardRef((n,i)=>{const s=P.useRef(null),o=t&&P.useCallback(f=>{s.current=os(i,f)},[i]),[a,l]=ss(n,r),d=en(),y=()=>{const f=s.current;if(t&&!f)return;(f?r.applyAnimatedValues(f,a.getValue(!0)):!1)===!1&&d()},h=new is(y,l),g=P.useRef(void 0);we(()=>(g.current=h,A(l,f=>Oe(f,h)),()=>{g.current&&(A(g.current.deps,f=>Ve(f,g.current)),T.cancel(g.current.update))})),P.useEffect(y,[]),tn(()=>()=>{const f=g.current;A(f.deps,u=>Ve(u,f))});const x=r.getComponentProps(a.getValue());return P.createElement(e,{...x,ref:o})})},is=class{constructor(e,r){this.update=e,this.deps=r}eventObserved(e){e.type=="change"&&T.write(this.update)}};function ss(e,r){const t=new Set;return Xe.dependencies=t,e.style&&(e={...e,style:r.createAnimatedStyle(e.style)}),e=new ct(e),Xe.dependencies=null,[e,t]}function os(e,r){return e&&(w.fun(e)?e(r):e.current=r),r}var fr=Symbol.for("AnimatedComponent"),as=(e,{applyAnimatedValues:r=()=>!1,createAnimatedStyle:t=i=>new ct(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:r,createAnimatedStyle:t,getComponentProps:n},s=o=>{const a=dr(o)||"Anonymous";return w.str(o)?o=s[o]||(s[o]=lr(o,i)):o=o[fr]||(o[fr]=lr(o,i)),o.displayName=`Animated(${a})`,o};return oe(e,(o,a)=>{w.arr(e)&&(a=dr(o)),s[a]=s(o)}),{animated:s}},dr=e=>w.str(e)?e:e&&w.str(e.displayName)?e.displayName:w.fun(e)&&e.name||null;function K(e,...r){return w.fun(e)?e(...r):e}var Qe=(e,r)=>e===!0||!!(r&&e&&(w.fun(e)?e(r):G(e).includes(r))),an=(e,r)=>w.obj(e)?r&&e[r]:e,un=(e,r)=>e.default===!0?e[r]:e.default?e.default[r]:void 0,us=e=>e,Gt=(e,r=us)=>{let t=cs;e.default&&e.default!==!0&&(e=e.default,t=Object.keys(e));const n={};for(const i of t){const s=r(e[i],i);w.und(s)||(n[i]=s)}return n},cs=["config","onProps","onStart","onChange","onPause","onResume","onRest"],ls={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function fs(e){const r={};let t=0;if(oe(e,(n,i)=>{ls[i]||(r[i]=n,t++)}),t)return r}function Ht(e){const r=fs(e);if(r){const t={to:r};return oe(e,(n,i)=>i in r||(t[i]=n)),t}return{...e}}function ze(e){return e=H(e),w.arr(e)?e.map(ze):ot(e)?ie.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function ds(e){for(const r in e)return!0;return!1}function At(e){return w.fun(e)||w.arr(e)&&w.obj(e[0])}function hr(e,r){e.ref?.delete(e),r?.delete(e)}function hs(e,r){r&&e.ref!==r&&(e.ref?.delete(e),r.add(e),e.ref=r)}var ps={default:{tension:170,friction:26}},Lt={...ps.default,mass:1,damping:1,easing:Mi.linear,clamp:!1},vs=class{constructor(){this.velocity=0,Object.assign(this,Lt)}};function ys(e,r,t){t&&(t={...t},pr(t,r),r={...t,...r}),pr(e,r),Object.assign(e,r);for(const o in Lt)e[o]==null&&(e[o]=Lt[o]);let{frequency:n,damping:i}=e;const{mass:s}=e;return w.und(n)||(n<.01&&(n=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/n,2)*s,e.friction=4*Math.PI*i*s/n),e}function pr(e,r){if(!w.und(r.decay))e.duration=void 0;else{const t=!w.und(r.tension)||!w.und(r.friction);(t||!w.und(r.frequency)||!w.und(r.damping)||!w.und(r.mass))&&(e.duration=void 0,e.decay=void 0),t&&(e.frequency=void 0)}}var vr=[],ms=class{constructor(){this.changed=!1,this.values=vr,this.toValues=null,this.fromValues=vr,this.config=new vs,this.immediate=!1}};function cn(e,{key:r,props:t,defaultProps:n,state:i,actions:s}){return new Promise((o,a)=>{let l,d,y=Qe(t.cancel??n?.cancel,r);if(y)x();else{w.und(t.pause)||(i.paused=Qe(t.pause,r));let f=n?.pause;f!==!0&&(f=i.paused||Qe(f,r)),l=K(t.delay||0,r),f?(i.resumeQueue.add(g),s.pause()):(s.resume(),g())}function h(){i.resumeQueue.add(g),i.timeouts.delete(d),d.cancel(),l=d.time-T.now()}function g(){l>0&&!ie.skipAnimation?(i.delayed=!0,d=T.setTimeout(x,l),i.pauseQueue.add(h),i.timeouts.add(d)):x()}function x(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(d),e<=(i.cancelId||0)&&(y=!0);try{s.start({...t,callId:e,cancel:y},o)}catch(f){a(f)}}})}var Kt=(e,r)=>r.length==1?r[0]:r.some(t=>t.cancelled)?xe(e.get()):r.every(t=>t.noop)?ln(e.get()):re(e.get(),r.every(t=>t.finished)),ln=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),re=(e,r,t=!1)=>({value:e,finished:r,cancelled:t}),xe=e=>({value:e,cancelled:!0,finished:!1});function fn(e,r,t,n){const{callId:i,parentId:s,onRest:o}=r,{asyncTo:a,promise:l}=t;return!s&&e===a&&!r.reset?l:t.promise=(async()=>{t.asyncId=i,t.asyncTo=e;const d=Gt(r,(c,v)=>v==="onRest"?void 0:c);let y,h;const g=new Promise((c,v)=>(y=c,h=v)),x=c=>{const v=i<=(t.cancelId||0)&&xe(n)||i!==t.asyncId&&re(n,!1);if(v)throw c.result=v,h(c),c},f=(c,v)=>{const m=new yr,p=new mr;return(async()=>{if(ie.skipAnimation)throw Me(t),p.result=re(n,!1),h(p),p;x(m);const b=w.obj(c)?{...c}:{...v,to:c};b.parentId=i,oe(d,(I,_)=>{w.und(b[_])&&(b[_]=I)});const O=await n.start(b);return x(m),t.paused&&await new Promise(I=>{t.resumeQueue.add(I)}),O})()};let u;if(ie.skipAnimation)return Me(t),re(n,!1);try{let c;w.arr(e)?c=(async v=>{for(const m of v)await f(m)})(e):c=Promise.resolve(e(f,n.stop.bind(n))),await Promise.all([c.then(y),g]),u=re(n.get(),!0,!1)}catch(c){if(c instanceof yr)u=c.result;else if(c instanceof mr)u=c.result;else throw c}finally{i==t.asyncId&&(t.asyncId=s,t.asyncTo=s?a:void 0,t.promise=s?l:void 0)}return w.fun(o)&&T.batchedUpdates(()=>{o(u,n,n.item)}),u})()}function Me(e,r){Le(e.timeouts,t=>t.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,r&&(e.cancelId=r)}var yr=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},mr=class extends Error{constructor(){super("SkipAnimationSignal")}},It=e=>e instanceof Yt,gs=1,Yt=class extends Kr{constructor(){super(...arguments),this.id=gs++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=se(this);return e&&e.getValue()}to(...e){return ie.to(this,e)}interpolate(...e){return Ki(),ie.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,r=!1){Ne(this,{type:"change",parent:this,value:e,idle:r})}_onPriorityChange(e){this.idle||nt.sort(this),Ne(this,{type:"priority",parent:this,priority:e})}},ye=Symbol.for("SpringPhase"),dn=1,Qt=2,Ct=4,_t=e=>(e[ye]&dn)>0,le=e=>(e[ye]&Qt)>0,Re=e=>(e[ye]&Ct)>0,gr=(e,r)=>r?e[ye]|=Qt|dn:e[ye]&=~Qt,_r=(e,r)=>r?e[ye]|=Ct:e[ye]&=~Ct,_s=class extends Yt{constructor(e,r){if(super(),this.animation=new ms,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!w.und(e)||!w.und(r)){const t=w.obj(e)?{...e}:{...r,from:e};w.und(t.default)&&(t.default=!0),this.start(t)}}get idle(){return!(le(this)||this._state.asyncTo)||Re(this)}get goal(){return H(this.animation.to)}get velocity(){const e=se(this);return e instanceof ut?e.lastVelocity||0:e.getPayload().map(r=>r.lastVelocity||0)}get hasAnimated(){return _t(this)}get isAnimating(){return le(this)}get isPaused(){return Re(this)}get isDelayed(){return this._state.delayed}advance(e){let r=!0,t=!1;const n=this.animation;let{toValues:i}=n;const{config:s}=n,o=at(n.to);!o&&X(n.to)&&(i=G(H(n.to))),n.values.forEach((d,y)=>{if(d.done)return;const h=d.constructor==Je?1:o?o[y].lastPosition:i[y];let g=n.immediate,x=h;if(!g){if(x=d.lastPosition,s.tension<=0){d.done=!0;return}let f=d.elapsedTime+=e;const u=n.fromValues[y],c=d.v0!=null?d.v0:d.v0=w.arr(s.velocity)?s.velocity[y]:s.velocity;let v;const m=s.precision||(u==h?.005:Math.min(1,Math.abs(h-u)*.001));if(w.und(s.duration))if(s.decay){const p=s.decay===!0?.998:s.decay,b=Math.exp(-(1-p)*f);x=u+c/(1-p)*(1-b),g=Math.abs(d.lastPosition-x)<=m,v=c*b}else{v=d.lastVelocity==null?c:d.lastVelocity;const p=s.restVelocity||m/10,b=s.clamp?0:s.bounce,O=!w.und(b),I=u==h?d.v0>0:u<h;let _,R=!1;const C=1,B=Math.ceil(e/C);for(let U=0;U<B&&(_=Math.abs(v)>p,!(!_&&(g=Math.abs(h-x)<=m,g)));++U){O&&(R=x==h||x>h==I,R&&(v=-v*b,x=h));const W=-s.tension*1e-6*(x-h),te=-s.friction*.001*v,S=(W+te)/s.mass;v=v+S*C,x=x+v*C}}else{let p=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,d.durationProgress>0&&(d.elapsedTime=s.duration*d.durationProgress,f=d.elapsedTime+=e)),p=(s.progress||0)+f/this._memoizedDuration,p=p>1?1:p<0?0:p,d.durationProgress=p),x=u+s.easing(p)*(h-u),v=(x-d.lastPosition)/e,g=p==1}d.lastVelocity=v,Number.isNaN(x)&&(console.warn("Got NaN while animating:",this),g=!0)}o&&!o[y].done&&(g=!1),g?d.done=!0:r=!1,d.setValue(x,s.round)&&(t=!0)});const a=se(this),l=a.getValue();if(r){const d=H(n.to);(l!==d||t)&&!s.decay?(a.setValue(d),this._onChange(d)):t&&s.decay&&this._onChange(l),this._stop()}else t&&this._onChange(l)}set(e){return T.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(le(this)){const{to:e,config:r}=this.animation;T.batchedUpdates(()=>{this._onStart(),r.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,r){let t;return w.und(e)?(t=this.queue||[],this.queue=[]):t=[w.obj(e)?e:{...r,to:e}],Promise.all(t.map(n=>this._update(n))).then(n=>Kt(this,n))}stop(e){const{to:r}=this.animation;return this._focus(this.get()),Me(this._state,e&&this._lastCallId),T.batchedUpdates(()=>this._stop(r,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const r=this.key||"";let{to:t,from:n}=e;t=w.obj(t)?t[r]:t,(t==null||At(t))&&(t=void 0),n=w.obj(n)?n[r]:n,n==null&&(n=void 0);const i={to:t,from:n};return _t(this)||(e.reverse&&([t,n]=[n,t]),n=H(n),w.und(n)?se(this)||this._set(t):this._set(n)),i}_update({...e},r){const{key:t,defaultProps:n}=this;e.default&&Object.assign(n,Gt(e,(o,a)=>/^on/.test(a)?an(o,t):o)),br(this,e,"onProps"),Te(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return cn(++this._lastCallId,{key:t,props:e,defaultProps:n,state:s,actions:{pause:()=>{Re(this)||(_r(this,!0),Ae(s.pauseQueue),Te(this,"onPause",re(this,Pe(this,this.animation.to)),this))},resume:()=>{Re(this)&&(_r(this,!1),le(this)&&this._resume(),Ae(s.resumeQueue),Te(this,"onResume",re(this,Pe(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(e.loop&&o.finished&&!(r&&o.noop)){const a=hn(e);if(a)return this._update(a,!0)}return o})}_merge(e,r,t){if(r.cancel)return this.stop(!0),t(xe(this));const n=!w.und(e.to),i=!w.und(e.from);if(n||i)if(r.callId>this._lastToId)this._lastToId=r.callId;else return t(xe(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:d}=a;let{to:y=l,from:h=d}=e;i&&!n&&(!r.default||w.und(y))&&(y=h),r.reverse&&([y,h]=[h,y]);const g=!ue(h,d);g&&(a.from=h),h=H(h);const x=!ue(y,l);x&&this._focus(y);const f=At(r.to),{config:u}=a,{decay:c,velocity:v}=u;(n||i)&&(u.velocity=0),r.config&&!f&&ys(u,K(r.config,s),r.config!==o.config?K(o.config,s):void 0);let m=se(this);if(!m||w.und(y))return t(re(this,!0));const p=w.und(r.reset)?i&&!r.default:!w.und(h)&&Qe(r.reset,s),b=p?h:this.get(),O=ze(y),I=w.num(O)||w.arr(O)||ot(O),_=!f&&(!I||Qe(o.immediate||r.immediate,s));if(x){const U=Tt(y);if(U!==m.constructor)if(_)m=this._set(O);else throw Error(`Cannot animate between ${m.constructor.name} and ${U.name}, as the "to" prop suggests`)}const R=m.constructor;let C=X(y),B=!1;if(!C){const U=p||!_t(this)&&g;(x||U)&&(B=ue(ze(b),O),C=!B),(!ue(a.immediate,_)&&!_||!ue(u.decay,c)||!ue(u.velocity,v))&&(C=!0)}if(B&&le(this)&&(a.changed&&!p?C=!0:C||this._stop(l)),!f&&((C||X(l))&&(a.values=m.getPayload(),a.toValues=X(y)?null:R==Je?[1]:G(O)),a.immediate!=_&&(a.immediate=_,!_&&!p&&this._set(l)),C)){const{onRest:U}=a;A(ws,te=>br(this,r,te));const W=re(this,Pe(this,l));Ae(this._pendingCalls,W),this._pendingCalls.add(t),a.changed&&T.batchedUpdates(()=>{a.changed=!p,U?.(W,this),p?K(o.onRest,W):a.onStart?.(W,this)})}p&&this._set(b),f?t(fn(r.to,r,this._state,this)):C?this._start():le(this)&&!x?this._pendingCalls.add(t):t(ln(b))}_focus(e){const r=this.animation;e!==r.to&&(ur(this)&&this._detach(),r.to=e,ur(this)&&this._attach())}_attach(){let e=0;const{to:r}=this.animation;X(r)&&(Oe(r,this),It(r)&&(e=r.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;X(e)&&Ve(e,this)}_set(e,r=!0){const t=H(e);if(!w.und(t)){const n=se(this);if(!n||!ue(t,n.getValue())){const i=Tt(t);!n||n.constructor!=i?Wt(this,i.create(t)):n.setValue(t),n&&T.batchedUpdates(()=>{this._onChange(t,r)})}}return se(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Te(this,"onStart",re(this,Pe(this,e.to)),this))}_onChange(e,r){r||(this._onStart(),K(this.animation.onChange,e,this)),K(this.defaultProps.onChange,e,this),super._onChange(e,r)}_start(){const e=this.animation;se(this).reset(H(e.to)),e.immediate||(e.fromValues=e.values.map(r=>r.lastPosition)),le(this)||(gr(this,!0),Re(this)||this._resume())}_resume(){ie.skipAnimation?this.finish():nt.start(this)}_stop(e,r){if(le(this)){gr(this,!1);const t=this.animation;A(t.values,i=>{i.done=!0}),t.toValues&&(t.onChange=t.onPause=t.onResume=void 0),Ne(this,{type:"idle",parent:this});const n=r?xe(this.get()):re(this.get(),Pe(this,e??t.to));Ae(this._pendingCalls,n),t.changed&&(t.changed=!1,Te(this,"onRest",n,this))}}};function Pe(e,r){const t=ze(r),n=ze(e.get());return ue(n,t)}function hn(e,r=e.loop,t=e.to){const n=K(r);if(n){const i=n!==!0&&Ht(n),s=(i||e).reverse,o=!i||i.reset;return Ze({...e,loop:r,default:!1,pause:void 0,to:!s||At(t)?t:void 0,from:o?e.from:void 0,reset:o,...i})}}function Ze(e){const{to:r,from:t}=e=Ht(e),n=new Set;return w.obj(r)&&wr(r,n),w.obj(t)&&wr(t,n),e.keys=n.size?Array.from(n):null,e}function wr(e,r){oe(e,(t,n)=>t!=null&&r.add(n))}var ws=["onStart","onRest","onChange","onPause","onResume"];function br(e,r,t){e.animation[t]=r[t]!==un(r,t)?an(r[t],e.key):void 0}function Te(e,r,...t){e.animation[r]?.(...t),e.defaultProps[r]?.(...t)}var bs=["onStart","onChange","onRest"],xs=1,Es=class{constructor(e,r){this.id=xs++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),r&&(this._flush=r),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((r,t)=>e[t]=r.get()),e}set(e){for(const r in e){const t=e[r];w.und(t)||this.springs[r].set(t)}}update(e){return e&&this.queue.push(Ze(e)),this}start(e){let{queue:r}=this;return e?r=G(e).map(Ze):this.queue=[],this._flush?this._flush(this,r):(mn(this,r),Ss(this,r))}stop(e,r){if(e!==!!e&&(r=e),r){const t=this.springs;A(G(r),n=>t[n].stop(!!e))}else Me(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(w.und(e))this.start({pause:!0});else{const r=this.springs;A(G(e),t=>r[t].pause())}return this}resume(e){if(w.und(e))this.start({pause:!1});else{const r=this.springs;A(G(e),t=>r[t].resume())}return this}each(e){oe(this.springs,e)}_onFrame(){const{onStart:e,onChange:r,onRest:t}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,Le(e,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!n&&this._started,o=i||s&&t.size?this.get():null;i&&r.size&&Le(r,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,Le(t,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;T.onFrame(this._onFrame)}};function Ss(e,r){return Promise.all(r.map(t=>pn(e,t))).then(t=>Kt(e,t))}async function pn(e,r,t){const{keys:n,to:i,from:s,loop:o,onRest:a,onResolve:l}=r,d=w.obj(r.default)&&r.default;o&&(r.loop=!1),i===!1&&(r.to=null),s===!1&&(r.from=null);const y=w.arr(i)||w.fun(i)?i:void 0;y?(r.to=void 0,r.onRest=void 0,d&&(d.onRest=void 0)):A(bs,u=>{const c=r[u];if(w.fun(c)){const v=e._events[u];r[u]=({finished:m,cancelled:p})=>{const b=v.get(c);b?(m||(b.finished=!1),p&&(b.cancelled=!0)):v.set(c,{value:null,finished:m||!1,cancelled:p||!1})},d&&(d[u]=r[u])}});const h=e._state;r.pause===!h.paused?(h.paused=r.pause,Ae(r.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(r.pause=!0);const g=(n||Object.keys(e.springs)).map(u=>e.springs[u].start(r)),x=r.cancel===!0||un(r,"cancel")===!0;(y||x&&h.asyncId)&&g.push(cn(++e._lastAsyncId,{props:r,state:h,actions:{pause:Rt,resume:Rt,start(u,c){x?(Me(h,e._lastAsyncId),c(xe(e))):(u.onRest=a,c(fn(y,u,h,e)))}}})),h.paused&&await new Promise(u=>{h.resumeQueue.add(u)});const f=Kt(e,await Promise.all(g));if(o&&f.finished&&!(t&&f.noop)){const u=hn(r,o,i);if(u)return mn(e,[u]),pn(e,u,!0)}return l&&T.batchedUpdates(()=>l(f,e,e.item)),f}function Os(e,r){const t={...e.springs};return r&&A(G(r),n=>{w.und(n.keys)&&(n=Ze(n)),w.obj(n.to)||(n={...n,to:void 0}),yn(t,n,i=>vn(i))}),ks(e,t),t}function ks(e,r){oe(r,(t,n)=>{e.springs[n]||(e.springs[n]=t,Oe(t,e))})}function vn(e,r){const t=new _s;return t.key=e,r&&Oe(t,r),t}function yn(e,r,t){r.keys&&A(r.keys,n=>{(e[n]||(e[n]=t(n)))._prepareNode(r)})}function mn(e,r){A(r,t=>{yn(e.springs,t,n=>vn(n,e))})}var Rs=P.createContext({pause:!1,immediate:!1}),Ps=()=>{const e=[],r=function(n){Ji();const i=[];return A(e,(s,o)=>{if(w.und(n))i.push(s.start());else{const a=t(n,s,o);a&&i.push(s.start(a))}}),i};r.current=e,r.add=function(n){e.includes(n)||e.push(n)},r.delete=function(n){const i=e.indexOf(n);~i&&e.splice(i,1)},r.pause=function(){return A(e,n=>n.pause(...arguments)),this},r.resume=function(){return A(e,n=>n.resume(...arguments)),this},r.set=function(n){A(e,(i,s)=>{const o=w.fun(n)?n(s,i):n;o&&i.set(o)})},r.start=function(n){const i=[];return A(e,(s,o)=>{if(w.und(n))i.push(s.start());else{const a=this._getProps(n,s,o);a&&i.push(s.start(a))}}),i},r.stop=function(){return A(e,n=>n.stop(...arguments)),this},r.update=function(n){return A(e,(i,s)=>i.update(this._getProps(n,i,s))),this};const t=function(n,i,s){return w.fun(n)?n(s,i):n};return r._getProps=t,r};function Ts(e,r,t){const n=w.fun(r)&&r,{reset:i,sort:s,trail:o=0,expires:a=!0,exitBeforeEnter:l=!1,onDestroyed:d,ref:y,config:h}=n?n():r,g=P.useMemo(()=>n||arguments.length==3?Ps():void 0,[]),x=G(e),f=[],u=P.useRef(null),c=i?null:u.current;we(()=>{u.current=f}),tn(()=>(A(f,S=>{g?.add(S.ctrl),S.ctrl.ref=g}),()=>{A(u.current,S=>{S.expired&&clearTimeout(S.expirationId),hr(S.ctrl,g),S.ctrl.stop(!0)})}));const v=Ls(x,n?n():r,c),m=i&&u.current||[];we(()=>A(m,({ctrl:S,item:L,key:q})=>{hr(S,g),K(d,L,q)}));const p=[];if(c&&A(c,(S,L)=>{S.expired?(clearTimeout(S.expirationId),m.push(S)):(L=p[L]=v.indexOf(S.key),~L&&(f[L]=S))}),A(x,(S,L)=>{f[L]||(f[L]={key:v[L],item:S,phase:"mount",ctrl:new Es},f[L].ctrl.item=S)}),p.length){let S=-1;const{leave:L}=n?n():r;A(p,(q,M)=>{const V=c[M];~q?(S=f.indexOf(V),f[S]={...V,item:x[q]}):L&&f.splice(++S,0,V)})}w.fun(s)&&f.sort((S,L)=>s(S.item,L.item));let b=-o;const O=en(),I=Gt(r),_=new Map,R=P.useRef(new Map),C=P.useRef(!1);A(f,(S,L)=>{const q=S.key,M=S.phase,V=n?n():r;let E,Q;const Y=K(V.delay||0,q);if(M=="mount")E=V.enter,Q="enter";else{const $=v.indexOf(q)<0;if(M!="leave")if($)E=V.leave,Q="leave";else if(E=V.update)Q="update";else return;else if(!$)E=V.enter,Q="enter";else return}if(E=K(E,S.item,L),E=w.obj(E)?Ht(E):{to:E},!E.config){const $=h||I.config;E.config=K($,S.item,L,Q)}b+=o;const z={...I,delay:Y+b,ref:y,immediate:V.immediate,reset:!1,...E};if(Q=="enter"&&w.und(z.from)){const $=n?n():r,J=w.und($.initial)||c?$.from:$.initial;z.from=K(J,S.item,L)}const{onResolve:k}=z;z.onResolve=$=>{K(k,$);const J=u.current,F=J.find(me=>me.key===q);if(F&&!($.cancelled&&F.phase!="update")&&F.ctrl.idle){const me=J.every(ae=>ae.ctrl.idle);if(F.phase=="leave"){const ae=K(a,F.item);if(ae!==!1){const lt=ae===!0?0:ae;if(F.expired=!0,!me&&lt>0){lt<=2147483647&&(F.expirationId=setTimeout(O,lt));return}}}me&&J.some(ae=>ae.expired)&&(R.current.delete(F),l&&(C.current=!0),O())}};const D=Os(S.ctrl,z);Q==="leave"&&l?R.current.set(S,{phase:Q,springs:D,payload:z}):_.set(S,{phase:Q,springs:D,payload:z})});const B=P.useContext(Rs),U=es(B),W=B!==U&&ds(B);we(()=>{W&&A(f,S=>{S.ctrl.start({default:B})})},[B]),A(_,(S,L)=>{if(R.current.size){const q=f.findIndex(M=>M.key===L.key);f.splice(q,1)}}),we(()=>{A(R.current.size?R.current:_,({phase:S,payload:L},q)=>{const{ctrl:M}=q;q.phase=S,g?.add(M),W&&S=="enter"&&M.start({default:B}),L&&(hs(M,L.ref),(M.ref||g)&&!C.current?M.update(L):(M.start(L),C.current&&(C.current=!1)))})},i?void 0:t);const te=S=>P.createElement(P.Fragment,null,f.map((L,q)=>{const{springs:M}=_.get(L)||L.ctrl,V=S({...M},L.item,L,q),E=w.str(L.key)||w.num(L.key)?L.key:L.ctrl.id,Q=P.version<"19.0.0",Y=V?.props??{},z=Q?V?.ref:Y?.ref;return V&&V.type?P.createElement(V.type,{...Y,key:E,ref:z}):V}));return g?[te,g]:te}var As=1;function Ls(e,{key:r,keys:t=r},n){if(t===null){const i=new Set;return e.map(s=>{const o=n&&n.find(a=>a.item===s&&a.phase!=="leave"&&!i.has(a));return o?(i.add(o),o.key):As++})}return w.und(t)?e:w.fun(t)?e.map(t):G(t)}var Is=class extends Yt{constructor(e,r){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Fe(...r);const t=this._get(),n=Tt(t);Wt(this,n.create(t))}advance(e){const r=this._get(),t=this.get();ue(r,t)||(se(this).setValue(r),this._onChange(r,this.idle)),!this.idle&&xr(this._active)&&wt(this)}_get(){const e=w.arr(this.source)?this.source.map(H):G(H(this.source));return this.calc(...e)}_start(){this.idle&&!xr(this._active)&&(this.idle=!1,A(at(this),e=>{e.done=!1}),ie.skipAnimation?(T.batchedUpdates(()=>this.advance()),wt(this)):nt.start(this))}_attach(){let e=1;A(G(this.source),r=>{X(r)&&Oe(r,this),It(r)&&(r.idle||this._active.add(r),e=Math.max(e,r.priority+1))}),this.priority=e,this._start()}_detach(){A(G(this.source),e=>{X(e)&&Ve(e,this)}),this._active.clear(),wt(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=G(this.source).reduce((r,t)=>Math.max(r,(It(t)?t.priority:0)+1),0))}};function Qs(e){return e.idle!==!1}function xr(e){return!e.size||Array.from(e).every(Qs)}function wt(e){e.idle||(e.idle=!0,A(at(e),r=>{r.done=!0}),Ne(e,{type:"idle",parent:e}))}ie.assign({createStringInterpolator:Xr,to:(e,r)=>new Is(e,r)});var Cs=bn(),gn=/^--/;function Fs(e,r){return r==null||typeof r=="boolean"||r===""?"":typeof r=="number"&&r!==0&&!gn.test(e)&&!(Ce.hasOwnProperty(e)&&Ce[e])?r+"px":(""+r).trim()}var Er={};function js(e,r){if(!e.nodeType||!e.setAttribute)return!1;const t=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:n,style:i,children:s,scrollTop:o,scrollLeft:a,viewBox:l,...d}=r,y=Object.values(d),h=Object.keys(d).map(g=>t||e.hasAttribute(g)?g:Er[g]||(Er[g]=g.replace(/([A-Z])/g,x=>"-"+x.toLowerCase())));s!==void 0&&(e.textContent=s);for(const g in i)if(i.hasOwnProperty(g)){const x=Fs(g,i[g]);gn.test(g)?e.style.setProperty(g,x):e.style[g]=x}h.forEach((g,x)=>{e.setAttribute(g,y[x])}),n!==void 0&&(e.className=n),o!==void 0&&(e.scrollTop=o),a!==void 0&&(e.scrollLeft=a),l!==void 0&&e.setAttribute("viewBox",l)}var Ce={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ns=(e,r)=>e+r.charAt(0).toUpperCase()+r.substring(1),Vs=["Webkit","Ms","Moz","O"];Ce=Object.keys(Ce).reduce((e,r)=>(Vs.forEach(t=>e[Ns(t,r)]=e[r]),e),Ce);var Ds=/^(matrix|translate|scale|rotate|skew)/,zs=/^(translate)/,Ms=/^(rotate|skew)/,bt=(e,r)=>w.num(e)&&e!==0?e+r:e,We=(e,r)=>w.arr(e)?e.every(t=>We(t,r)):w.num(e)?e===r:parseFloat(e)===r,qs=class extends ct{constructor({x:e,y:r,z:t,...n}){const i=[],s=[];(e||r||t)&&(i.push([e||0,r||0,t||0]),s.push(o=>[`translate3d(${o.map(a=>bt(a,"px")).join(",")})`,We(o,0)])),oe(n,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if(Ds.test(a)){if(delete n[a],w.und(o))return;const l=zs.test(a)?"px":Ms.test(a)?"deg":"";i.push(G(o)),s.push(a==="rotate3d"?([d,y,h,g])=>[`rotate3d(${d},${y},${h},${bt(g,l)})`,We(g,0)]:d=>[`${a}(${d.map(y=>bt(y,l)).join(",")})`,We(d,a.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new $s(i,s)),super(n)}},$s=class extends Kr{constructor(e,r){super(),this.inputs=e,this.transforms=r,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",r=!0;return A(this.inputs,(t,n)=>{const i=H(t[0]),[s,o]=this.transforms[n](w.arr(i)?i:t.map(H));e+=" "+s,r=r&&o}),r?"none":e}observerAdded(e){e==1&&A(this.inputs,r=>A(r,t=>X(t)&&Oe(t,this)))}observerRemoved(e){e==0&&A(this.inputs,r=>A(r,t=>X(t)&&Ve(t,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Ne(this,e)}},Bs=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];ie.assign({batchedUpdates:Cs.unstable_batchedUpdates,createStringInterpolator:Xr,colors:Ti});var Us=as(Bs,{applyAnimatedValues:js,createAnimatedStyle:e=>new qs(e),getComponentProps:({scrollTop:e,scrollLeft:r,...t})=>t}),Sr=Us.animated;function Ws({height:e,children:r,...t}){const[{ref:n},{height:i}]=bi();return ee.jsx(Sr.div,{style:{height:e.to({output:[0,i]})},...t,children:ee.jsx(Sr.div,{ref:n,children:r})})}function Gs(e,r,t){const n=Ts(e,{keys:r,enter:{height:1},from:{height:0},leave:{height:0},trail:50});return i=>n((s,o,a,l)=>ee.jsx(Ws,{...t,...s,children:i(o,l)}))}const Hs=({selected:e,result:r,...t})=>ee.jsx("li",{className:`w-full m-0 p-3 ${e?"bg-primary/20":"bg-background"}`,...t,children:ee.jsx("a",{href:r.url,className:"text-primary",children:r.title})});function Ks({results:e,selection:r}){const t=Gs(e,n=>n.url,{});return ee.jsx("ul",{className:"absolute w-full mt-1 overflow-hidden list-none p-0 bg-background rounded-md shadow-lg z-50",children:t((n,i)=>ee.jsx(Hs,{selected:i===r,result:n},n.url))})}const Or={enableOnFormTags:!0,preventDefault:!0};function Ys({api:e}){const[{query:r,results:t,selection:n},i]=P.useReducer(rr,rr(void 0,_e.reset())),s=P.useMemo(()=>new Kn(i,e),[e]);P.useEffect(()=>{const y=()=>i(_e.reset());return document.addEventListener("astro:page-load",y),()=>document.removeEventListener("astro:page-load",y)},[]);const o=y=>{y.preventDefault(),Hn(n,t)},a=Et("up",()=>i(_e.previousSelection()),Or),l=Et("down",()=>i(_e.nextSelection()),Or),d=Wn([a,l]);return ee.jsxs("form",{className:"relative w-full m-0",onSubmit:o,ref:d,children:[ee.jsx(ri,{value:r,onChange:s.query}),ee.jsx(Ks,{results:t,selection:n.current})]})}const Js=kr(Pn,100),to=()=>ee.jsx(Ys,{api:Js});export{to as default};
