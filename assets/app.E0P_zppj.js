import{j as Q}from"./jsx-runtime.D_zvdyIk.js";import{r as R,a as Qi}from"./index.BzNeU_WD.js";import"./index.BLy_0GNg.js";const Cr=(e,t,n={})=>{if(!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let r,i,o=[];const s=()=>{clearTimeout(i),i=void 0;try{n.signal?.throwIfAborted()}catch(a){for(const{reject:c}of o)c(a);o=[]}};return function(...a){return new Promise((c,f)=>{try{n.signal?.throwIfAborted()}catch(h){f(h);return}const p=n.before&&!i;clearTimeout(i),i=setTimeout(async()=>{i=void 0;const h=o;o=[];try{const g=n.before?r:await e.apply(this,a);for(const{resolve:m}of h)m(g)}catch(g){for(const{reject:m}of h)m(g)}r=void 0,n.signal?.removeEventListener("abort",s)},t),p?(async()=>{try{r=await e.apply(this,a),c(r)}catch(h){f(h)}})():(o.push({resolve:c,reject:f}),n.signal&&o.length===1&&n.signal.addEventListener("abort",s,{once:!0}))})}};Cr.promise=(e,t={})=>{let n,r;return async function(...i){if(n)return t.after?(r??={resolvers:[]},r.arguments=i,r.context=this,new Promise((o,s)=>{r.resolvers.push({resolve:o,reject:s})})):n;n=(async()=>{let o,s;try{o=await e.apply(this,i)}catch(a){s=a}for(;r;){const a=r;r=void 0;try{const c=await e.apply(a.context,a.arguments);for(const{resolve:f}of a.resolvers)f(c)}catch(c){for(const{reject:f}of a.resolvers)f(c)}}if(s)throw s;return o})();try{return await n}finally{n=void 0}}};var Lt={},M={},D={},Fn;function Lr(){if(Fn)return D;Fn=1;var e=D&&D.__extends||(function(){var d=function(l,u){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(y[v]=b[v])},d(l,u)};return function(l,u){d(l,u);function y(){this.constructor=l}l.prototype=u===null?Object.create(u):(y.prototype=u.prototype,new y)}})(),t=D&&D.__awaiter||function(d,l,u,y){function b(v){return v instanceof u?v:new u(function(w){w(v)})}return new(u||(u=Promise))(function(v,w){function I(E){try{_(y.next(E))}catch(A){w(A)}}function O(E){try{_(y.throw(E))}catch(A){w(A)}}function _(E){E.done?v(E.value):b(E.value).then(I,O)}_((y=y.apply(d,l||[])).next())})},n=D&&D.__generator||function(d,l){var u={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},y,b,v,w;return w={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function I(_){return function(E){return O([_,E])}}function O(_){if(y)throw new TypeError("Generator is already executing.");for(;u;)try{if(y=1,b&&(v=_[0]&2?b.return:_[0]?b.throw||((v=b.return)&&v.call(b),0):b.next)&&!(v=v.call(b,_[1])).done)return v;switch(b=0,v&&(_=[_[0]&2,v.value]),_[0]){case 0:case 1:v=_;break;case 4:return u.label++,{value:_[1],done:!1};case 5:u.label++,b=_[1],_=[0];continue;case 7:_=u.ops.pop(),u.trys.pop();continue;default:if(v=u.trys,!(v=v.length>0&&v[v.length-1])&&(_[0]===6||_[0]===2)){u=0;continue}if(_[0]===3&&(!v||_[1]>v[0]&&_[1]<v[3])){u.label=_[1];break}if(_[0]===6&&u.label<v[1]){u.label=v[1],v=_;break}if(v&&u.label<v[2]){u.label=v[2],u.ops.push(_);break}v[2]&&u.ops.pop(),u.trys.pop();continue}_=l.call(d,u)}catch(E){_=[6,E],b=0}finally{y=v=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},r=D&&D.__read||function(d,l){var u=typeof Symbol=="function"&&d[Symbol.iterator];if(!u)return d;var y=u.call(d),b,v=[],w;try{for(;(l===void 0||l-- >0)&&!(b=y.next()).done;)v.push(b.value)}catch(I){w={error:I}}finally{try{b&&!b.done&&(u=y.return)&&u.call(y)}finally{if(w)throw w.error}}return v},i=D&&D.__spread||function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(r(arguments[l]));return d};Object.defineProperty(D,"__esModule",{value:!0}),D.zip2=D.join=D.optionify=D.AsyncNone=D.None=D.AsyncSome=D.Some=void 0;var o=zr(),s=(function(){function d(l){this._value=l}return d})(),a=(function(d){e(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.isSome=function(){return!0},l.prototype.isNone=function(){return!1},l.prototype.map=function(u){return new l(u(this._value))},l.prototype.mapNullable=function(u){return h(u(this._value))},l.prototype.mapOr=function(u,y){return new l(y(this._value))},l.prototype.mapOrElse=function(u,y){return y(this._value)},l.prototype.filter=function(u){return u(this._value)?new l(this._value):new f},l.prototype.and=function(u){return u},l.prototype.andThen=function(u){return u(this._value)},l.prototype.or=function(u){return new l(this._value)},l.prototype.orElse=function(u){return new l(this._value)},l.prototype.xor=function(u){var y=this;return u.mapOrElse(function(){return new l(y._value)},function(){return new f})},l.prototype.zip=function(u){var y=this;return u.andThen(function(b){return new l([y._value,b])})},l.prototype.okOr=function(u){return new o.Ok(this._value)},l.prototype.okOrElse=function(u){return new o.Ok(this._value)},l.prototype.unwrap=function(){return this._value},l.prototype.unwrapNullable=function(){return this._value},l.prototype.unwrapOr=function(u){return this._value},l.prototype.unwrapOrElse=function(u){return this._value},l.prototype.async=function(){return new c(this._value)},l})(s);D.Some=a;var c=(function(d){e(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.map=function(u){return t(this,void 0,void 0,function(){var y;return n(this,function(b){switch(b.label){case 0:return y=a.bind,[4,u(this._value)];case 1:return[2,new(y.apply(a,[void 0,b.sent()]))]}})})},l.prototype.mapNullable=function(u){return t(this,void 0,void 0,function(){var y;return n(this,function(b){switch(b.label){case 0:return y=h,[4,u(this._value)];case 1:return[2,y.apply(void 0,[b.sent()])]}})})},l.prototype.filter=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){switch(y.label){case 0:return[4,u(this._value)];case 1:return[2,y.sent()?new a(this._value):new f]}})})},l.prototype.andThen=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,u(this._value)]})})},l.prototype.unwrapOrElse=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,this._value]})})},l.prototype.orElse=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,new a(this._value)]})})},l.prototype.okOrElse=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,new o.Ok(this._value)]})})},l})(s);D.AsyncSome=c;var f=(function(){function d(){}return d.prototype.isSome=function(){return!1},d.prototype.isNone=function(){return!0},d.prototype.map=function(l){return new d},d.prototype.mapNullable=function(l){return new d},d.prototype.mapOr=function(l,u){return new a(l)},d.prototype.mapOrElse=function(l,u){return l()},d.prototype.filter=function(l){return new d},d.prototype.and=function(l){return new d},d.prototype.andThen=function(l){return new d},d.prototype.or=function(l){return l},d.prototype.orElse=function(l){return l()},d.prototype.xor=function(l){return l},d.prototype.zip=function(l){return new d},d.prototype.okOr=function(l){return new o.Err(l)},d.prototype.okOrElse=function(l){return new o.Err(l())},d.prototype.unwrap=function(){throw new Error("Unwrapped a None")},d.prototype.unwrapNullable=function(){return null},d.prototype.unwrapOr=function(l){return l},d.prototype.unwrapOrElse=function(l){return l()},d.prototype.async=function(){return new p},d})();D.None=f;var p=(function(){function d(){}return d.prototype.map=function(l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,new f]})})},d.prototype.mapNullable=function(l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,new f]})})},d.prototype.filter=function(l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,new f]})})},d.prototype.andThen=function(l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,new f]})})},d.prototype.orElse=function(l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,l()]})})},d.prototype.okOrElse=function(l){return t(this,void 0,void 0,function(){var u;return n(this,function(y){switch(y.label){case 0:return u=o.Err.bind,[4,l()];case 1:return[2,new(u.apply(o.Err,[void 0,y.sent()]))]}})})},d.prototype.unwrapOrElse=function(l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,l()]})})},d})();D.AsyncNone=p;function h(d){return d==null?new f:new a(d)}D.optionify=h;function g(d){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return l.reduce(function(y,b){return y.andThen(function(v){return b.map(function(w){return i(v,[w])})})},d.map(function(y){return[y]}))}D.join=g;function m(d,l){return d.andThen(function(u){return l.map(function(y){return[u,y]})})}return D.zip2=m,D}var Vn;function zr(){if(Vn)return M;Vn=1;var e=M&&M.__extends||(function(){var d=function(l,u){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(y[v]=b[v])},d(l,u)};return function(l,u){d(l,u);function y(){this.constructor=l}l.prototype=u===null?Object.create(u):(y.prototype=u.prototype,new y)}})(),t=M&&M.__awaiter||function(d,l,u,y){function b(v){return v instanceof u?v:new u(function(w){w(v)})}return new(u||(u=Promise))(function(v,w){function I(E){try{_(y.next(E))}catch(A){w(A)}}function O(E){try{_(y.throw(E))}catch(A){w(A)}}function _(E){E.done?v(E.value):b(E.value).then(I,O)}_((y=y.apply(d,l||[])).next())})},n=M&&M.__generator||function(d,l){var u={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},y,b,v,w;return w={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function I(_){return function(E){return O([_,E])}}function O(_){if(y)throw new TypeError("Generator is already executing.");for(;u;)try{if(y=1,b&&(v=_[0]&2?b.return:_[0]?b.throw||((v=b.return)&&v.call(b),0):b.next)&&!(v=v.call(b,_[1])).done)return v;switch(b=0,v&&(_=[_[0]&2,v.value]),_[0]){case 0:case 1:v=_;break;case 4:return u.label++,{value:_[1],done:!1};case 5:u.label++,b=_[1],_=[0];continue;case 7:_=u.ops.pop(),u.trys.pop();continue;default:if(v=u.trys,!(v=v.length>0&&v[v.length-1])&&(_[0]===6||_[0]===2)){u=0;continue}if(_[0]===3&&(!v||_[1]>v[0]&&_[1]<v[3])){u.label=_[1];break}if(_[0]===6&&u.label<v[1]){u.label=v[1],v=_;break}if(v&&u.label<v[2]){u.label=v[2],u.ops.push(_);break}v[2]&&u.ops.pop(),u.trys.pop();continue}_=l.call(d,u)}catch(E){_=[6,E],b=0}finally{y=v=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},r=M&&M.__read||function(d,l){var u=typeof Symbol=="function"&&d[Symbol.iterator];if(!u)return d;var y=u.call(d),b,v=[],w;try{for(;(l===void 0||l-- >0)&&!(b=y.next()).done;)v.push(b.value)}catch(I){w={error:I}}finally{try{b&&!b.done&&(u=y.return)&&u.call(y)}finally{if(w)throw w.error}}return v},i=M&&M.__spread||function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(r(arguments[l]));return d};Object.defineProperty(M,"__esModule",{value:!0}),M.asResult=M.resultify=M.AsyncErr=M.Err=M.AsyncOk=M.Ok=void 0;var o=Lr(),s=(function(){function d(l){this._value=l}return d})(),a=(function(d){e(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.isOk=function(){return!0},l.prototype.isErr=function(){return!1},l.prototype.map=function(u){return new l(u(this._value))},l.prototype.mapErr=function(u){return new l(this._value)},l.prototype.mapOr=function(u,y){return y(this._value)},l.prototype.mapOrElse=function(u,y){return y(this._value)},l.prototype.and=function(u){return u},l.prototype.andThen=function(u){return u(this._value)},l.prototype.or=function(u){return new l(this._value)},l.prototype.orElse=function(u){return new l(this._value)},l.prototype.ok=function(){return new o.Some(this._value)},l.prototype.unwrap=function(){return this._value},l.prototype.unwrapErr=function(){throw new Error("unwrapErr on an Ok()")},l.prototype.unwrapOr=function(u){return this._value},l.prototype.unwrapOrElse=function(u){return this._value},l.prototype.async=function(){return new c(this._value)},l})(s);M.Ok=a;var c=(function(d){e(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.map=function(u){return t(this,void 0,void 0,function(){var y;return n(this,function(b){switch(b.label){case 0:return y=a.bind,[4,u(this._value)];case 1:return[2,new(y.apply(a,[void 0,b.sent()]))]}})})},l.prototype.mapErr=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,new a(this._value)]})})},l.prototype.mapOr=function(u,y){return t(this,void 0,void 0,function(){return n(this,function(b){return[2,y(this._value)]})})},l.prototype.mapOrElse=function(u,y){return t(this,void 0,void 0,function(){return n(this,function(b){return[2,y(this._value)]})})},l.prototype.andThen=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,u(this._value)]})})},l.prototype.orElse=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,new a(this._value)]})})},l.prototype.unwrapOrElse=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,this._value]})})},l})(s);M.AsyncOk=c;var f=(function(){function d(l){this._error=l}return d})(),p=(function(d){e(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.isOk=function(){return!1},l.prototype.isErr=function(){return!0},l.prototype.map=function(u){return new l(this._error)},l.prototype.mapErr=function(u){return new l(u(this._error))},l.prototype.mapOr=function(u,y){return u},l.prototype.mapOrElse=function(u,y){return u(this._error)},l.prototype.and=function(u){return new l(this._error)},l.prototype.andThen=function(u){return new l(this._error)},l.prototype.or=function(u){return u},l.prototype.orElse=function(u){return u(this._error)},l.prototype.ok=function(){return new o.None},l.prototype.unwrap=function(){throw this._error},l.prototype.unwrapErr=function(){return this._error},l.prototype.unwrapOr=function(u){return u},l.prototype.unwrapOrElse=function(u){return u(this._error)},l.prototype.async=function(){return new h(this._error)},l})(f);M.Err=p;var h=(function(d){e(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.map=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,new p(this._error)]})})},l.prototype.mapErr=function(u){return t(this,void 0,void 0,function(){var y;return n(this,function(b){switch(b.label){case 0:return y=p.bind,[4,u(this._error)];case 1:return[2,new(y.apply(p,[void 0,b.sent()]))]}})})},l.prototype.mapOr=function(u,y){return t(this,void 0,void 0,function(){return n(this,function(b){return[2,u]})})},l.prototype.mapOrElse=function(u,y){return t(this,void 0,void 0,function(){return n(this,function(b){return[2,u(this._error)]})})},l.prototype.andThen=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,new p(this._error)]})})},l.prototype.orElse=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,u(this._error)]})})},l.prototype.unwrapOrElse=function(u){return t(this,void 0,void 0,function(){return n(this,function(y){return[2,u(this._error)]})})},l})(f);M.AsyncErr=h;function g(d){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,d.then(function(u){return new a(u)},function(u){return new p(u)})]})})}M.resultify=g;function m(d){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];try{return new a(d.apply(void 0,i(l)))}catch(y){return new p(y)}}return M.asResult=m,M}var Bn;function Xi(){return Bn||(Bn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.zip2=e.optionify=e.join=e.resultify=void 0;var t=zr();Object.defineProperty(e,"resultify",{enumerable:!0,get:function(){return t.resultify}});var n=Lr();Object.defineProperty(e,"join",{enumerable:!0,get:function(){return n.join}}),Object.defineProperty(e,"optionify",{enumerable:!0,get:function(){return n.optionify}}),Object.defineProperty(e,"zip2",{enumerable:!0,get:function(){return n.zip2}})})(Lt)),Lt}var fn=Xi();const Ur={arabic:"ar",armenian:"am",bulgarian:"bg",czech:"cz",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"},Zi={dutch:/[^A-Za-zàèéìòóù0-9_'-]+/gim,english:/[^A-Za-zàèéìòóù0-9_'-]+/gim,french:/[^a-z0-9äâàéèëêïîöôùüûœç-]+/gim,italian:/[^A-Za-zàèéìòóù0-9_'-]+/gim,norwegian:/[^a-z0-9_æøåÆØÅäÄöÖüÜ]+/gim,portuguese:/[^a-z0-9à-úÀ-Ú]/gim,russian:/[^a-z0-9а-яА-ЯёЁ]+/gim,spanish:/[^a-z0-9A-Zá-úÁ-ÚñÑüÜ]+/gim,swedish:/[^a-z0-9_åÅäÄöÖüÜ-]+/gim,german:/[^a-z0-9A-ZäöüÄÖÜß]+/gim,finnish:/[^a-z0-9äöÄÖ]+/gim,danish:/[^a-z0-9æøåÆØÅ]+/gim,hungarian:/[^a-z0-9áéíóöőúüűÁÉÍÓÖŐÚÜŰ]+/gim,romanian:/[^a-z0-9ăâîșțĂÂÎȘȚ]+/gim,serbian:/[^a-z0-9čćžšđČĆŽŠĐ]+/gim,turkish:/[^a-z0-9çÇğĞıİöÖşŞüÜ]+/gim,lithuanian:/[^a-z0-9ąčęėįšųūžĄČĘĖĮŠŲŪŽ]+/gim,arabic:/[^a-z0-9أ-ي]+/gim,nepali:/[^a-z0-9अ-ह]+/gim,irish:/[^a-z0-9áéíóúÁÉÍÓÚ]+/gim,indian:/[^a-z0-9अ-ह]+/gim,armenian:/[^a-z0-9ա-ֆ]+/gim,greek:/[^a-z0-9α-ωά-ώ]+/gim,indonesian:/[^a-z0-9]+/gim,ukrainian:/[^a-z0-9а-яА-ЯіїєІЇЄ]+/gim,slovenian:/[^a-z0-9čžšČŽŠ]+/gim,bulgarian:/[^a-z0-9а-яА-Я]+/gim,tamil:/[^a-z0-9அ-ஹ]+/gim,sanskrit:/[^a-z0-9A-Zāīūṛḷṃṁḥśṣṭḍṇṅñḻḹṝ]+/gim,czech:/[^A-Z0-9a-zěščřžýáíéúůóťďĚŠČŘŽÝÁÍÉÓÚŮŤĎ-]+/gim},dn=Object.keys(Ur);function eo(e){return e!==void 0&&dn.includes(e)?Ur[e]:void 0}const to=Date.now().toString().slice(5);let no=0;const $n=BigInt(1e3),jn=BigInt(1e6),Wn=BigInt(1e9),zt=65535;function Fr(e,t){if(t.length<zt)Array.prototype.push.apply(e,t);else{const n=t.length;for(let r=0;r<n;r+=zt)Array.prototype.push.apply(e,t.slice(r,r+zt))}}function ro(e,...t){return e.replace(/%(?:(?<position>\d+)\$)?(?<width>-?\d*\.?\d*)(?<type>[dfs])/g,function(...n){const r=n[n.length-1],{width:i,type:o,position:s}=r,a=s?t[Number.parseInt(s)-1]:t.shift(),c=i===""?0:Number.parseInt(i);switch(o){case"d":return a.toString().padStart(c,"0");case"f":{let f=a;const[p,h]=i.split(".").map(g=>Number.parseFloat(g));return typeof h=="number"&&h>=0&&(f=f.toFixed(h)),typeof p=="number"&&p>=0?f.toString().padStart(c,"0"):f.toString()}case"s":return c<0?a.toString().padEnd(-c," "):a.toString().padStart(c," ");default:return a}})}function io(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function oo(){return typeof process<"u"&&process.release&&process.release.name==="node"}function qn(){return BigInt(Math.floor(performance.now()*1e6))}function hn(e){return typeof e=="number"&&(e=BigInt(e)),e<$n?`${e}ns`:e<jn?`${e/$n}μs`:e<Wn?`${e/jn}ms`:`${e/Wn}s`}function Ae(){return io()?qn():oo()||typeof process<"u"&&typeof process?.hrtime?.bigint=="function"?process.hrtime.bigint():typeof performance<"u"?qn():BigInt(0)}function Vr(){return`${to}-${no++}`}function Ut(e,t){return Object.hasOwn===void 0?Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0:Object.hasOwn(e,t)?e[t]:void 0}function Br(e,t){return t[1]===e[1]?e[0]-t[0]:t[1]-e[1]}function so(e){if(e.length===0)return[];if(e.length===1)return e[0];for(let n=1;n<e.length;n++)if(e[n].length<e[0].length){const r=e[0];e[0]=e[n],e[n]=r}const t=new Map;for(const n of e[0])t.set(n,1);for(let n=1;n<e.length;n++){let r=0;for(const i of e[n]){const o=t.get(i);o===n&&(t.set(i,o+1),r++)}if(r===0)return[]}return e[0].filter(n=>{const r=t.get(n);return r!==void 0&&t.set(n,0),r===e.length})}function $r(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i],s=o.split(".");let a=e;const c=s.length;for(let f=0;f<c;f++)if(a=a[s[f]],typeof a=="object"){if(a!==null&&"lat"in a&&"lon"in a&&typeof a.lat=="number"&&typeof a.lon=="number"){a=n[o]=a;break}else if(!Array.isArray(a)&&a!==null&&f===c-1){a=void 0;break}}else if((a===null||typeof a!="object")&&f<c-1){a=void 0;break}typeof a<"u"&&(n[o]=a)}return n}function pn(e,t){return $r(e,[t])[t]}const ao={cm:.01,m:1,km:1e3,ft:.3048,yd:.9144,mi:1609.344};function jr(e,t){const n=ao[t];if(n===void 0)throw new Error(k("INVALID_DISTANCE_SUFFIX",e).message);return e*n}function Wr(e,t){e.hits=e.hits.map(n=>({...n,document:{...n.document,...t.reduce((r,i)=>{const o=i.split("."),s=o.pop();let a=r;for(const c of o)a[c]=a[c]??{},a=a[c];return a[s]=null,r},n.document)}}))}function F(e){return Array.isArray(e)?e.some(t=>F(t)):e?.constructor?.name==="AsyncFunction"}const Gn="intersection"in new Set;function Kn(...e){if(e.length===0)return new Set;if(e.length===1)return e[0];if(e.length===2){const r=e[0],i=e[1];if(Gn)return r.intersection(i);const o=new Set,s=r.size<i.size?r:i,a=s===r?i:r;for(const c of s)a.has(c)&&o.add(c);return o}const t={index:0,size:e[0].size};for(let r=1;r<e.length;r++)e[r].size<t.size&&(t.index=r,t.size=e[r].size);if(Gn){let r=e[t.index];for(let i=0;i<e.length;i++)i!==t.index&&(r=r.intersection(e[i]));return r}const n=e[t.index];for(let r=0;r<e.length;r++){if(r===t.index)continue;const i=e[r];for(const o of n)i.has(o)||n.delete(o)}return n}const co="union"in new Set;function tt(e,t){return co?e?e.union(t):t:e?new Set([...e,...t]):new Set(t)}function uo(e,t){const n=new Set;for(const r of e)t.has(r)||n.add(r);return n}function qr(e){if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){const t=new Int32Array(new SharedArrayBuffer(4));if((e>0&&e<1/0)===!1)throw typeof e!="number"&&typeof e!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(t,0,0,Number(e))}else if((e>0&&e<1/0)===!1)throw typeof e!="number"&&typeof e!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}const lo=dn.join(`
 - `),fo={NO_LANGUAGE_WITH_CUSTOM_TOKENIZER:"Do not pass the language option to create when using a custom tokenizer.",LANGUAGE_NOT_SUPPORTED:`Language "%s" is not supported.
Supported languages are:
 - ${lo}`,INVALID_STEMMER_FUNCTION_TYPE:"config.stemmer property must be a function.",MISSING_STEMMER:'As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the "%s" stemmer from the package @orama/stemmers. See https://docs.orama.com/docs/orama-js/text-analysis/stemming for more information.',CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY:"Custom stop words array must only contain strings.",UNSUPPORTED_COMPONENT:'Unsupported component "%s".',COMPONENT_MUST_BE_FUNCTION:'The component "%s" must be a function.',COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS:'The component "%s" must be a function or an array of functions.',INVALID_SCHEMA_TYPE:'Unsupported schema type "%s" at "%s". Expected "string", "boolean" or "number" or array of them.',DOCUMENT_ID_MUST_BE_STRING:'Document id must be of type "string". Got "%s" instead.',DOCUMENT_ALREADY_EXISTS:'A document with id "%s" already exists.',DOCUMENT_DOES_NOT_EXIST:'A document with id "%s" does not exists.',MISSING_DOCUMENT_PROPERTY:'Missing searchable property "%s".',INVALID_DOCUMENT_PROPERTY:'Invalid document property "%s": expected "%s", got "%s"',UNKNOWN_INDEX:'Invalid property name "%s". Expected a wildcard string ("*") or array containing one of the following properties: %s',INVALID_BOOST_VALUE:"Boost value must be a number greater than, or less than 0.",INVALID_FILTER_OPERATION:"You can only use one operation per filter, you requested %d.",SCHEMA_VALIDATION_FAILURE:'Cannot insert document due schema validation failure on "%s" property.',INVALID_SORT_SCHEMA_TYPE:'Unsupported sort schema type "%s" at "%s". Expected "string" or "number".',CANNOT_SORT_BY_ARRAY:'Cannot configure sort for "%s" because it is an array (%s).',UNABLE_TO_SORT_ON_UNKNOWN_FIELD:'Unable to sort on unknown field "%s". Allowed fields: %s',SORT_DISABLED:"Sort is disabled. Please read the documentation at https://docs.orama.com/docs/orama-js for more information.",UNKNOWN_GROUP_BY_PROPERTY:'Unknown groupBy property "%s".',INVALID_GROUP_BY_PROPERTY:'Invalid groupBy property "%s". Allowed types: "%s", but given "%s".',UNKNOWN_FILTER_PROPERTY:'Unknown filter property "%s".',UNKNOWN_VECTOR_PROPERTY:'Unknown vector property "%s". Make sure the property exists in the schema and is configured as a vector.',INVALID_VECTOR_SIZE:'Vector size must be a number greater than 0. Got "%s" instead.',INVALID_VECTOR_VALUE:'Vector value must be a number greater than 0. Got "%s" instead.',INVALID_INPUT_VECTOR:`Property "%s" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.
Input vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,WRONG_SEARCH_PROPERTY_TYPE:'Property "%s" is not searchable. Only "string" properties are searchable.',FACET_NOT_SUPPORTED:`Facet doens't support the type "%s".`,INVALID_DISTANCE_SUFFIX:'Invalid distance suffix "%s". Valid suffixes are: cm, m, km, mi, yd, ft.',INVALID_SEARCH_MODE:'Invalid search mode "%s". Valid modes are: "fulltext", "vector", "hybrid".',MISSING_VECTOR_AND_SECURE_PROXY:"No vector was provided and no secure proxy was configured. Please provide a vector or configure an Orama Secure Proxy to perform hybrid search.",MISSING_TERM:'"term" is a required parameter when performing hybrid search. Please provide a search term.',INVALID_VECTOR_INPUT:'Invalid "vector" property. Expected an object with "value" and "property" properties, but got "%s" instead.',PLUGIN_CRASHED:"A plugin crashed during initialization. Please check the error message for more information:",PLUGIN_SECURE_PROXY_NOT_FOUND:`Could not find '@orama/secure-proxy-plugin' installed in your Orama instance.
Please install it before proceeding with creating an answer session.
Read more at https://docs.orama.com/docs/orama-js/plugins/plugin-secure-proxy#plugin-secure-proxy
`,PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL:`Could not find a chat model defined in the secure proxy plugin configuration.
Please provide a chat model before proceeding with creating an answer session.
Read more at https://docs.orama.com/docs/orama-js/plugins/plugin-secure-proxy#plugin-secure-proxy
`,ANSWER_SESSION_LAST_MESSAGE_IS_NOT_ASSISTANT:"The last message in the session is not an assistant message. Cannot regenerate non-assistant messages.",PLUGIN_COMPONENT_CONFLICT:'The component "%s" is already defined. The plugin "%s" is trying to redefine it.'};function k(e,...t){const n=new Error(ro(fo[e]??`Unsupported Orama Error code: ${e}`,...t));return n.code=e,"captureStackTrace"in Error.prototype&&Error.captureStackTrace(n),n}function ho(e){return{raw:Number(e),formatted:hn(e)}}function po(e){if(e.id){if(typeof e.id!="string")throw k("DOCUMENT_ID_MUST_BE_STRING",typeof e.id);return e.id}return Vr()}function Gr(e,t){for(const[n,r]of Object.entries(t)){const i=e[n];if(!(typeof i>"u")&&!(r==="geopoint"&&typeof i=="object"&&typeof i.lon=="number"&&typeof i.lat=="number")&&!(r==="enum"&&(typeof i=="string"||typeof i=="number"))){if(r==="enum[]"&&Array.isArray(i)){const o=i.length;for(let s=0;s<o;s++)if(typeof i[s]!="string"&&typeof i[s]!="number")return n+"."+s;continue}if(xe(r)){const o=Hr(r);if(!Array.isArray(i)||i.length!==o)throw k("INVALID_INPUT_VECTOR",n,o,i.length);continue}if(bt(r)){if(!Array.isArray(i))return n;const o=Kr(r),s=i.length;for(let a=0;a<s;a++)if(typeof i[a]!==o)return n+"."+a;continue}if(typeof r=="object"){if(!i||typeof i!="object")return n;const o=Gr(i,r);if(o)return n+"."+o;continue}if(typeof i!==r)return n}}}const go={string:!1,number:!1,boolean:!1,enum:!1,geopoint:!1,"string[]":!0,"number[]":!0,"boolean[]":!0,"enum[]":!0},yo={"string[]":"string","number[]":"number","boolean[]":"boolean","enum[]":"enum"};function mo(e){return e==="geopoint"}function xe(e){return typeof e=="string"&&/^vector\[\d+\]$/.test(e)}function bt(e){return typeof e=="string"&&go[e]}function Kr(e){return yo[e]}function Hr(e){const t=Number(e.slice(7,-1));switch(!0){case isNaN(t):throw k("INVALID_VECTOR_VALUE",e);case t<=0:throw k("INVALID_VECTOR_SIZE",e);default:return t}}function vo(){return{idToInternalId:new Map,internalIdToId:[],save:bo,load:wo}}function bo(e){return{internalIdToId:e.internalIdToId}}function wo(e,t){const{internalIdToId:n}=t;e.internalDocumentIDStore.idToInternalId.clear(),e.internalDocumentIDStore.internalIdToId=[];const r=n.length;for(let i=0;i<r;i++){const o=n[i];e.internalDocumentIDStore.idToInternalId.set(o,i+1),e.internalDocumentIDStore.internalIdToId.push(o)}}function V(e,t){if(typeof t=="string"){const n=e.idToInternalId.get(t);if(n)return n;const r=e.idToInternalId.size+1;return e.idToInternalId.set(t,r),e.internalIdToId.push(t),r}return t>e.internalIdToId.length?V(e,t.toString()):t}function wt(e,t){if(e.internalIdToId.length<t)throw new Error(`Invalid internalId ${t}`);return e.internalIdToId[t-1]}function _o(e,t){return{sharedInternalDocumentStore:t,docs:{},count:0}}function So(e,t){const n=V(e.sharedInternalDocumentStore,t);return e.docs[n]}function Io(e,t){const n=t.length,r=Array.from({length:n});for(let i=0;i<n;i++){const o=V(e.sharedInternalDocumentStore,t[i]);r[i]=e.docs[o]}return r}function Eo(e){return e.docs}function Oo(e,t,n,r){return typeof e.docs[n]<"u"?!1:(e.docs[n]=r,e.count++,!0)}function To(e,t){const n=V(e.sharedInternalDocumentStore,t);return typeof e.docs[n]>"u"?!1:(delete e.docs[n],e.count--,!0)}function Ao(e){return e.count}function Ro(e,t){const n=t;return{docs:n.docs,count:n.count,sharedInternalDocumentStore:e}}function Po(e){return{docs:e.docs,count:e.count}}function xo(){return{create:_o,get:So,getMultiple:Io,getAll:Eo,store:Oo,remove:To,count:Ao,load:Ro,save:Po}}const No=["beforeInsert","afterInsert","beforeRemove","afterRemove","beforeUpdate","afterUpdate","beforeUpsert","afterUpsert","beforeSearch","afterSearch","beforeInsertMultiple","afterInsertMultiple","beforeRemoveMultiple","afterRemoveMultiple","beforeUpdateMultiple","afterUpdateMultiple","beforeUpsertMultiple","afterUpsertMultiple","beforeLoad","afterLoad","afterCreate"];function ko(e,t){const n=[],r=e.plugins?.length;if(!r)return n;for(let i=0;i<r;i++)try{const o=e.plugins[i];typeof o[t]=="function"&&n.push(o[t])}catch(o){throw console.error("Caught error in getAllPluginsByHook:",o),k("PLUGIN_CRASHED")}return n}const Do=["tokenizer","index","documentsStore","sorter","pinning"],Hn=["validateSchema","getDocumentIndexId","getDocumentProperties","formatElapsedTime"];function ct(e,t,n,r){if(e.some(F))return(async()=>{for(const o of e)await o(t,n,r)})();for(const o of e)o(t,n,r)}function Yr(e,t,n){if(e.some(F))return(async()=>{for(const i of e)await i(t,n)})();for(const i of e)i(t,n)}function gn(e,t,n,r,i){if(e.some(F))return(async()=>{for(const s of e)await s(t,n,r,i)})();for(const s of e)s(t,n,r,i)}function yn(e,t,n,r){if(e.some(F))return(async()=>{for(const o of e)await o(t,n,r)})();for(const o of e)o(t,n,r)}function Mo(e,t){if(e.some(F))return(async()=>{for(const r of e)await r(t)})();for(const r of e)r(t)}class K{k;v;l=null;r=null;h=1;constructor(t,n){this.k=t,this.v=new Set(n)}updateHeight(){this.h=Math.max(K.getHeight(this.l),K.getHeight(this.r))+1}static getHeight(t){return t?t.h:0}getBalanceFactor(){return K.getHeight(this.l)-K.getHeight(this.r)}rotateLeft(){const t=this.r;return this.r=t.l,t.l=this,this.updateHeight(),t.updateHeight(),t}rotateRight(){const t=this.l;return this.l=t.r,t.r=this,this.updateHeight(),t.updateHeight(),t}toJSON(){return{k:this.k,v:Array.from(this.v),l:this.l?this.l.toJSON():null,r:this.r?this.r.toJSON():null,h:this.h}}static fromJSON(t){const n=new K(t.k,t.v);return n.l=t.l?K.fromJSON(t.l):null,n.r=t.r?K.fromJSON(t.r):null,n.h=t.h,n}}class _t{root=null;insertCount=0;constructor(t,n){t!==void 0&&n!==void 0&&(this.root=new K(t,n))}insert(t,n,r=1e3){this.root=this.insertNode(this.root,t,n,r)}insertMultiple(t,n,r=1e3){for(const i of n)this.insert(t,i,r)}rebalance(){this.root&&(this.root=this.rebalanceNode(this.root))}toJSON(){return{root:this.root?this.root.toJSON():null,insertCount:this.insertCount}}static fromJSON(t){const n=new _t;return n.root=t.root?K.fromJSON(t.root):null,n.insertCount=t.insertCount||0,n}insertNode(t,n,r,i){if(t===null)return new K(n,[r]);const o=[];let s=t,a=null;for(;s!==null;)if(o.push({parent:a,node:s}),n<s.k)if(s.l===null){s.l=new K(n,[r]),o.push({parent:s,node:s.l});break}else a=s,s=s.l;else if(n>s.k)if(s.r===null){s.r=new K(n,[r]),o.push({parent:s,node:s.r});break}else a=s,s=s.r;else return s.v.add(r),t;let c=!1;this.insertCount++%i===0&&(c=!0);for(let f=o.length-1;f>=0;f--){const{parent:p,node:h}=o[f];if(h.updateHeight(),c){const g=this.rebalanceNode(h);p?p.l===h?p.l=g:p.r===h&&(p.r=g):t=g}}return t}rebalanceNode(t){const n=t.getBalanceFactor();if(n>1){if(t.l&&t.l.getBalanceFactor()>=0)return t.rotateRight();if(t.l)return t.l=t.l.rotateLeft(),t.rotateRight()}if(n<-1){if(t.r&&t.r.getBalanceFactor()<=0)return t.rotateLeft();if(t.r)return t.r=t.r.rotateRight(),t.rotateLeft()}return t}find(t){const n=this.findNodeByKey(t);return n?n.v:null}contains(t){return this.find(t)!==null}getSize(){let t=0;const n=[];let r=this.root;for(;r||n.length>0;){for(;r;)n.push(r),r=r.l;r=n.pop(),t++,r=r.r}return t}isBalanced(){if(!this.root)return!0;const t=[this.root];for(;t.length>0;){const n=t.pop(),r=n.getBalanceFactor();if(Math.abs(r)>1)return!1;n.l&&t.push(n.l),n.r&&t.push(n.r)}return!0}remove(t){this.root=this.removeNode(this.root,t)}removeDocument(t,n){const r=this.findNodeByKey(t);r&&(r.v.size===1?this.root=this.removeNode(this.root,t):r.v=new Set([...r.v.values()].filter(i=>i!==n)))}findNodeByKey(t){let n=this.root;for(;n;)if(t<n.k)n=n.l;else if(t>n.k)n=n.r;else return n;return null}removeNode(t,n){if(t===null)return null;const r=[];let i=t;for(;i!==null&&i.k!==n;)r.push(i),n<i.k?i=i.l:i=i.r;if(i===null)return t;if(i.l===null||i.r===null){const o=i.l?i.l:i.r;if(r.length===0)t=o;else{const s=r[r.length-1];s.l===i?s.l=o:s.r=o}}else{let o=i,s=i.r;for(;s.l!==null;)o=s,s=s.l;i.k=s.k,i.v=s.v,o.l===s?o.l=s.r:o.r=s.r,i=o}r.push(i);for(let o=r.length-1;o>=0;o--){const s=r[o];s.updateHeight();const a=this.rebalanceNode(s);if(o>0){const c=r[o-1];c.l===s?c.l=a:c.r===s&&(c.r=a)}else t=a}return t}rangeSearch(t,n){const r=new Set,i=[];let o=this.root;for(;o||i.length>0;){for(;o;)i.push(o),o=o.l;if(o=i.pop(),o.k>=t&&o.k<=n)for(const s of o.v)r.add(s);if(o.k>n)break;o=o.r}return r}greaterThan(t,n=!1){const r=new Set,i=[];let o=this.root;for(;o||i.length>0;){for(;o;)i.push(o),o=o.r;if(o=i.pop(),n&&o.k>=t||!n&&o.k>t)for(const s of o.v)r.add(s);else if(o.k<=t)break;o=o.l}return r}lessThan(t,n=!1){const r=new Set,i=[];let o=this.root;for(;o||i.length>0;){for(;o;)i.push(o),o=o.l;if(o=i.pop(),n&&o.k<=t||!n&&o.k<t)for(const s of o.v)r.add(s);else if(o.k>t)break;o=o.r}return r}}class St{numberToDocumentId;constructor(){this.numberToDocumentId=new Map}insert(t,n){this.numberToDocumentId.has(t)?this.numberToDocumentId.get(t).add(n):this.numberToDocumentId.set(t,new Set([n]))}find(t){const n=this.numberToDocumentId.get(t);return n?Array.from(n):null}remove(t){this.numberToDocumentId.delete(t)}removeDocument(t,n){const r=this.numberToDocumentId.get(n);r&&(r.delete(t),r.size===0&&this.numberToDocumentId.delete(n))}contains(t){return this.numberToDocumentId.has(t)}getSize(){let t=0;for(const n of this.numberToDocumentId.values())t+=n.size;return t}filter(t){const n=Object.keys(t);if(n.length!==1)throw new Error("Invalid operation");const r=n[0];switch(r){case"eq":{const i=t[r],o=this.numberToDocumentId.get(i);return o?Array.from(o):[]}case"in":{const i=t[r],o=new Set;for(const s of i){const a=this.numberToDocumentId.get(s);if(a)for(const c of a)o.add(c)}return Array.from(o)}case"nin":{const i=new Set(t[r]),o=new Set;for(const[s,a]of this.numberToDocumentId.entries())if(!i.has(s))for(const c of a)o.add(c);return Array.from(o)}default:throw new Error("Invalid operation")}}filterArr(t){const n=Object.keys(t);if(n.length!==1)throw new Error("Invalid operation");const r=n[0];switch(r){case"containsAll":{const o=t[r].map(a=>this.numberToDocumentId.get(a)??new Set);if(o.length===0)return[];const s=o.reduce((a,c)=>new Set([...a].filter(f=>c.has(f))));return Array.from(s)}case"containsAny":{const o=t[r].map(a=>this.numberToDocumentId.get(a)??new Set);if(o.length===0)return[];const s=o.reduce((a,c)=>new Set([...a,...c]));return Array.from(s)}default:throw new Error("Invalid operation")}}static fromJSON(t){if(!t.numberToDocumentId)throw new Error("Invalid Flat Tree JSON");const n=new St;for(const[r,i]of t.numberToDocumentId)n.numberToDocumentId.set(r,new Set(i));return n}toJSON(){return{numberToDocumentId:Array.from(this.numberToDocumentId.entries()).map(([t,n])=>[t,Array.from(n)])}}}function Co(e,t,n){if(n<0)return-1;if(e===t)return 0;const r=e.length,i=t.length;if(r===0)return i<=n?i:-1;if(i===0)return r<=n?r:-1;const o=Math.abs(r-i);if(e.startsWith(t))return o<=n?o:-1;if(t.startsWith(e))return 0;if(o>n)return-1;const s=[];for(let a=0;a<=r;a++){s[a]=[a];for(let c=1;c<=i;c++)s[a][c]=a===0?c:0}for(let a=1;a<=r;a++){let c=1/0;for(let f=1;f<=i;f++)e[a-1]===t[f-1]?s[a][f]=s[a-1][f-1]:s[a][f]=Math.min(s[a-1][f]+1,s[a][f-1]+1,s[a-1][f-1]+1),c=Math.min(c,s[a][f]);if(c>n)return-1}return s[r][i]<=n?s[r][i]:-1}function Yn(e,t,n){const r=Co(e,t,n);return{distance:r,isBounded:r>=0}}class he{k;s;c=new Map;d=new Set;e;w="";constructor(t,n,r){this.k=t,this.s=n,this.e=r}updateParent(t){this.w=t.w+this.s}addDocument(t){this.d.add(t)}removeDocument(t){return this.d.delete(t)}findAllWords(t,n,r,i){const o=[this];for(;o.length>0;){const s=o.pop();if(s.e){const{w:a,d:c}=s;if(r&&a!==n)continue;if(Ut(t,a)!==null)if(i)if(Math.abs(n.length-a.length)<=i&&Yn(n,a,i).isBounded)t[a]=[];else continue;else t[a]=[];if(Ut(t,a)!=null&&c.size>0){const f=t[a];for(const p of c)f.includes(p)||f.push(p)}}s.c.size>0&&o.push(...s.c.values())}return t}insert(t,n){let r=this,i=0;const o=t.length;for(;i<o;){const s=t[i],a=r.c.get(s);if(a){const c=a.s,f=c.length;let p=0;for(;p<f&&i+p<o&&c[p]===t[i+p];)p++;if(p===f){if(r=a,i+=p,i===o){a.e||(a.e=!0),a.addDocument(n);return}continue}const h=c.slice(0,p),g=c.slice(p),m=t.slice(i+p),d=new he(h[0],h,!1);if(r.c.set(h[0],d),d.updateParent(r),a.s=g,a.k=g[0],d.c.set(g[0],a),a.updateParent(d),m){const l=new he(m[0],m,!0);l.addDocument(n),d.c.set(m[0],l),l.updateParent(d)}else d.e=!0,d.addDocument(n);return}else{const c=new he(s,t.slice(i),!0);c.addDocument(n),r.c.set(s,c),c.updateParent(r);return}}r.e||(r.e=!0),r.addDocument(n)}_findLevenshtein(t,n,r,i,o){const s=[{node:this,index:n,tolerance:r}];for(;s.length>0;){const{node:a,index:c,tolerance:f}=s.pop();if(a.w.startsWith(t)){a.findAllWords(o,t,!1,0);continue}if(f<0)continue;if(a.e){const{w:h,d:g}=a;if(h&&(Yn(t,h,i).isBounded&&(o[h]=[]),Ut(o,h)!==void 0&&g.size>0)){const m=new Set(o[h]);for(const d of g)m.add(d);o[h]=Array.from(m)}}if(c>=t.length)continue;const p=t[c];if(a.c.has(p)){const h=a.c.get(p);s.push({node:h,index:c+1,tolerance:f})}s.push({node:a,index:c+1,tolerance:f-1});for(const[h,g]of a.c)s.push({node:g,index:c,tolerance:f-1}),h!==p&&s.push({node:g,index:c+1,tolerance:f-1})}}find(t){const{term:n,exact:r,tolerance:i}=t;if(i&&!r){const o={};return this._findLevenshtein(n,0,i,i,o),o}else{let o=this,s=0;const a=n.length;for(;s<a;){const f=n[s],p=o.c.get(f);if(p){const h=p.s,g=h.length;let m=0;for(;m<g&&s+m<a&&h[m]===n[s+m];)m++;if(m===g)o=p,s+=m;else if(s+m===a)if(m===a-s){if(r)return{};{const d={};return p.findAllWords(d,n,r,i),d}}else return{};else return{}}else return{}}const c={};return o.findAllWords(c,n,r,i),c}}contains(t){let n=this,r=0;const i=t.length;for(;r<i;){const o=t[r],s=n.c.get(o);if(s){const a=s.s,c=a.length;let f=0;for(;f<c&&r+f<i&&a[f]===t[r+f];)f++;if(f<c)return!1;r+=c,n=s}else return!1}return!0}removeWord(t){if(!t)return!1;let n=this;const r=t.length,i=[];for(let o=0;o<r;o++){const s=t[o];if(n.c.has(s)){const a=n.c.get(s);i.push({parent:n,character:s}),o+=a.s.length-1,n=a}else return!1}for(n.d.clear(),n.e=!1;i.length>0&&n.c.size===0&&!n.e&&n.d.size===0;){const{parent:o,character:s}=i.pop();o.c.delete(s),n=o}return!0}removeDocumentByWord(t,n,r=!0){if(!t)return!0;let i=this;const o=t.length;for(let s=0;s<o;s++){const a=t[s];if(i.c.has(a)){const c=i.c.get(a);s+=c.s.length-1,i=c,r&&i.w!==t||i.removeDocument(n)}else return!1}return!0}static getCommonPrefix(t,n){const r=Math.min(t.length,n.length);let i=0;for(;i<r&&t.charCodeAt(i)===n.charCodeAt(i);)i++;return t.slice(0,i)}toJSON(){return{w:this.w,s:this.s,e:this.e,k:this.k,d:Array.from(this.d),c:Array.from(this.c?.entries())?.map(([t,n])=>[t,n.toJSON()])}}static fromJSON(t){const n=new he(t.k,t.s,t.e);return n.w=t.w,n.d=new Set(t.d),n.c=new Map(t?.c?.map(([r,i])=>[r,he.fromJSON(i)])||[]),n}}class It extends he{constructor(){super("","",!1)}static fromJSON(t){const n=new It;return n.w=t.w,n.s=t.s,n.e=t.e,n.k=t.k,n.d=new Set(t.d),n.c=new Map(t?.c?.map(([r,i])=>[r,he.fromJSON(i)])||[]),n}toJSON(){return super.toJSON()}}const Lo=2,zo=6371e3;class Ee{point;docIDs;left;right;parent;constructor(t,n){this.point=t,this.docIDs=new Set(n),this.left=null,this.right=null,this.parent=null}toJSON(){return{point:this.point,docIDs:Array.from(this.docIDs),left:this.left?this.left.toJSON():null,right:this.right?this.right.toJSON():null}}static fromJSON(t,n=null){const r=new Ee(t.point,t.docIDs);return r.parent=n,t.left&&(r.left=Ee.fromJSON(t.left,r)),t.right&&(r.right=Ee.fromJSON(t.right,r)),r}}class H{root;nodeMap;constructor(){this.root=null,this.nodeMap=new Map}getPointKey(t){return`${t.lon},${t.lat}`}insert(t,n){const r=this.getPointKey(t),i=this.nodeMap.get(r);if(i){n.forEach(c=>i.docIDs.add(c));return}const o=new Ee(t,n);if(this.nodeMap.set(r,o),this.root==null){this.root=o;return}let s=this.root,a=0;for(;;){if(a%Lo===0)if(t.lon<s.point.lon){if(s.left==null){s.left=o,o.parent=s;return}s=s.left}else{if(s.right==null){s.right=o,o.parent=s;return}s=s.right}else if(t.lat<s.point.lat){if(s.left==null){s.left=o,o.parent=s;return}s=s.left}else{if(s.right==null){s.right=o,o.parent=s;return}s=s.right}a++}}contains(t){const n=this.getPointKey(t);return this.nodeMap.has(n)}getDocIDsByCoordinates(t){const n=this.getPointKey(t),r=this.nodeMap.get(n);return r?Array.from(r.docIDs):null}removeDocByID(t,n){const r=this.getPointKey(t),i=this.nodeMap.get(r);i&&(i.docIDs.delete(n),i.docIDs.size===0&&(this.nodeMap.delete(r),this.deleteNode(i)))}deleteNode(t){const n=t.parent,r=t.left?t.left:t.right;r&&(r.parent=n),n?n.left===t?n.left=r:n.right===t&&(n.right=r):(this.root=r,this.root&&(this.root.parent=null))}searchByRadius(t,n,r=!0,i="asc",o=!1){const s=o?H.vincentyDistance:H.haversineDistance,a=[{node:this.root,depth:0}],c=[];for(;a.length>0;){const{node:f,depth:p}=a.pop();if(f==null)continue;const h=s(t,f.point);(r?h<=n:h>n)&&c.push({point:f.point,docIDs:Array.from(f.docIDs)}),f.left!=null&&a.push({node:f.left,depth:p+1}),f.right!=null&&a.push({node:f.right,depth:p+1})}return i&&c.sort((f,p)=>{const h=s(t,f.point),g=s(t,p.point);return i.toLowerCase()==="asc"?h-g:g-h}),c}searchByPolygon(t,n=!0,r=null,i=!1){const o=[{node:this.root,depth:0}],s=[];for(;o.length>0;){const{node:c,depth:f}=o.pop();if(c==null)continue;c.left!=null&&o.push({node:c.left,depth:f+1}),c.right!=null&&o.push({node:c.right,depth:f+1});const p=H.isPointInPolygon(t,c.point);(p&&n||!p&&!n)&&s.push({point:c.point,docIDs:Array.from(c.docIDs)})}const a=H.calculatePolygonCentroid(t);if(r){const c=i?H.vincentyDistance:H.haversineDistance;s.sort((f,p)=>{const h=c(a,f.point),g=c(a,p.point);return r.toLowerCase()==="asc"?h-g:g-h})}return s}toJSON(){return{root:this.root?this.root.toJSON():null}}static fromJSON(t){const n=new H;return t.root&&(n.root=Ee.fromJSON(t.root),n.buildNodeMap(n.root)),n}buildNodeMap(t){if(t==null)return;const n=this.getPointKey(t.point);this.nodeMap.set(n,t),t.left&&this.buildNodeMap(t.left),t.right&&this.buildNodeMap(t.right)}static calculatePolygonCentroid(t){let n=0,r=0,i=0;const o=t.length;for(let a=0,c=o-1;a<o;c=a++){const f=t[a].lon,p=t[a].lat,h=t[c].lon,g=t[c].lat,m=f*g-h*p;n+=m,r+=(f+h)*m,i+=(p+g)*m}n/=2;const s=6*n;return r/=s,i/=s,{lon:r,lat:i}}static isPointInPolygon(t,n){let r=!1;const i=n.lon,o=n.lat,s=t.length;for(let a=0,c=s-1;a<s;c=a++){const f=t[a].lon,p=t[a].lat,h=t[c].lon,g=t[c].lat;p>o!=g>o&&i<(h-f)*(o-p)/(g-p)+f&&(r=!r)}return r}static haversineDistance(t,n){const r=Math.PI/180,i=t.lat*r,o=n.lat*r,s=(n.lat-t.lat)*r,a=(n.lon-t.lon)*r,c=Math.sin(s/2)*Math.sin(s/2)+Math.cos(i)*Math.cos(o)*Math.sin(a/2)*Math.sin(a/2),f=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return zo*f}static vincentyDistance(t,n){const i=.0033528106647474805,o=(1-i)*6378137,s=Math.PI/180,a=t.lat*s,c=n.lat*s,f=(n.lon-t.lon)*s,p=Math.atan((1-i)*Math.tan(a)),h=Math.atan((1-i)*Math.tan(c)),g=Math.sin(p),m=Math.cos(p),d=Math.sin(h),l=Math.cos(h);let u=f,y,b=1e3,v,w,I,O,_,E;do{const T=Math.sin(u),x=Math.cos(u);if(v=Math.sqrt(l*T*(l*T)+(m*d-g*l*x)*(m*d-g*l*x)),v===0)return 0;w=g*d+m*l*x,I=Math.atan2(v,w),O=m*l*T/v,_=1-O*O,E=w-2*g*d/_,isNaN(E)&&(E=0);const L=i/16*_*(4+i*(4-3*_));y=u,u=f+(1-L)*i*O*(I+L*v*(E+L*w*(-1+2*E*E)))}while(Math.abs(u-y)>1e-12&&--b>0);if(b===0)return NaN;const A=_*(6378137*6378137-o*o)/(o*o),z=1+A/16384*(4096+A*(-768+A*(320-175*A))),C=A/1024*(256+A*(-128+A*(74-47*A))),G=C*v*(E+C/4*(w*(-1+2*E*E)-C/6*E*(-3+4*v*v)*(-3+4*E*E)));return o*z*(I-G)}}class Et{true;false;constructor(){this.true=new Set,this.false=new Set}insert(t,n){n?this.true.add(t):this.false.add(t)}delete(t,n){n?this.true.delete(t):this.false.delete(t)}getSize(){return this.true.size+this.false.size}toJSON(){return{true:Array.from(this.true),false:Array.from(this.false)}}static fromJSON(t){const n=new Et;return n.true=new Set(t.true),n.false=new Set(t.false),n}}function Uo(e,t,n,r,i,{k:o,b:s,d:a}){return Math.log(1+(n-t+.5)/(t+.5))*(a+e*(o+1))/(e+o*(1-s+s*r/i))}const Fo=.8;class Ot{size;vectors=new Map;constructor(t){this.size=t}add(t,n){n instanceof Float32Array||(n=new Float32Array(n));const r=Jr(n,this.size);this.vectors.set(t,[r,n])}remove(t){this.vectors.delete(t)}find(t,n,r){return t instanceof Float32Array||(t=new Float32Array(t)),Vo(t,r,this.vectors,this.size,n)}toJSON(){const t=[];for(const[n,[r,i]]of this.vectors)t.push([n,[r,Array.from(i)]]);return{size:this.size,vectors:t}}static fromJSON(t){const n=t,r=new Ot(n.size);for(const[i,[o,s]]of n.vectors)r.vectors.set(i,[o,new Float32Array(s)]);return r}}function Jr(e,t){let n=0;for(let r=0;r<t;r++)n+=e[r]*e[r];return Math.sqrt(n)}function Vo(e,t,n,r,i){const o=Jr(e,r),s=[],a=t||n.keys();for(const c of a){const f=n.get(c);if(!f)continue;const p=f[0],h=f[1];let g=0;for(let d=0;d<r;d++)g+=e[d]*h[d];const m=g/(o*p);m>=i&&s.push([c,m])}return s}function Bo(e,t,n,r,i){const o=V(e.sharedInternalDocumentStore,n);e.avgFieldLength[t]=((e.avgFieldLength[t]??0)*(i-1)+r.length)/i,e.fieldLengths[t][o]=r.length,e.frequencies[t][o]={}}function $o(e,t,n,r,i){let o=0;for(const c of r)c===i&&o++;const s=V(e.sharedInternalDocumentStore,n),a=o/r.length;e.frequencies[t][s][i]=a,i in e.tokenOccurrences[t]||(e.tokenOccurrences[t][i]=0),e.tokenOccurrences[t][i]=(e.tokenOccurrences[t][i]??0)+1}function jo(e,t,n,r){const i=V(e.sharedInternalDocumentStore,n);r>1?e.avgFieldLength[t]=(e.avgFieldLength[t]*r-e.fieldLengths[t][i])/(r-1):e.avgFieldLength[t]=void 0,e.fieldLengths[t][i]=void 0,e.frequencies[t][i]=void 0}function Wo(e,t,n){e.tokenOccurrences[t][n]--}function Qr(e,t,n,r,i=""){r||(r={sharedInternalDocumentStore:t,indexes:{},vectorIndexes:{},searchableProperties:[],searchablePropertiesWithTypes:{},frequencies:{},tokenOccurrences:{},avgFieldLength:{},fieldLengths:{}});for(const[o,s]of Object.entries(n)){const a=`${i}${i?".":""}${o}`;if(typeof s=="object"&&!Array.isArray(s)){Qr(e,t,s,r,a);continue}if(xe(s))r.searchableProperties.push(a),r.searchablePropertiesWithTypes[a]=s,r.vectorIndexes[a]={type:"Vector",node:new Ot(Hr(s)),isArray:!1};else{const c=/\[/.test(s);switch(s){case"boolean":case"boolean[]":r.indexes[a]={type:"Bool",node:new Et,isArray:c};break;case"number":case"number[]":r.indexes[a]={type:"AVL",node:new _t(0,[]),isArray:c};break;case"string":case"string[]":r.indexes[a]={type:"Radix",node:new It,isArray:c},r.avgFieldLength[a]=0,r.frequencies[a]={},r.tokenOccurrences[a]={},r.fieldLengths[a]={};break;case"enum":case"enum[]":r.indexes[a]={type:"Flat",node:new St,isArray:c};break;case"geopoint":r.indexes[a]={type:"BKD",node:new H,isArray:c};break;default:throw k("INVALID_SCHEMA_TYPE",Array.isArray(s)?"array":s,a)}r.searchableProperties.push(a),r.searchablePropertiesWithTypes[a]=s}}return r}function qo(e,t,n,r,i,o,s,a){return c=>{const{type:f,node:p}=t.indexes[n];switch(f){case"Bool":{p[c?"true":"false"].add(r);break}case"AVL":{const h=a?.avlRebalanceThreshold??1;p.insert(c,r,h);break}case"Radix":{const h=o.tokenize(c,i,n,!1);e.insertDocumentScoreParameters(t,n,r,h,s);for(const g of h)e.insertTokenScoreParameters(t,n,r,h,g),p.insert(g,r);break}case"Flat":{p.insert(c,r);break}case"BKD":{p.insert(c,[r]);break}}}}function Go(e,t,n,r,i,o,s,a,c,f,p){if(xe(s))return Ko(t,n,o,r,i);const h=qo(e,t,n,i,a,c,f,p);if(!bt(s))return h(o);const g=o,m=g.length;for(let d=0;d<m;d++)h(g[d])}function Ko(e,t,n,r,i){e.vectorIndexes[t].node.add(i,n)}function Jn(e,t,n,r,i,o,s,a,c,f){if(xe(s))return t.vectorIndexes[n].node.remove(i),!0;const{type:p,node:h}=t.indexes[n];switch(p){case"AVL":return h.removeDocument(o,i),!0;case"Bool":return h[o?"true":"false"].delete(i),!0;case"Radix":{const g=c.tokenize(o,a,n);e.removeDocumentScoreParameters(t,n,r,f);for(const m of g)e.removeTokenScoreParameters(t,n,m),h.removeDocumentByWord(m,i);return!0}case"Flat":return h.removeDocument(i,o),!0;case"BKD":return h.removeDocByID(o,i),!1}}function Ho(e,t,n,r,i,o,s,a,c,f){if(!bt(s))return Jn(e,t,n,r,i,o,s,a,c,f);const p=Kr(s),h=o,g=h.length;for(let m=0;m<g;m++)Jn(e,t,n,r,i,h[m],p,a,c,f);return!0}function Xr(e,t,n,r,i,o,s,a,c,f){const p=Array.from(r),h=e.avgFieldLength[t],g=e.fieldLengths[t],m=e.tokenOccurrences[t],d=e.frequencies[t],l=typeof m[n]=="number"?m[n]??0:0,u=p.length;for(let y=0;y<u;y++){const b=p[y];if(c&&!c.has(b))continue;f.has(b)||f.set(b,new Map);const v=f.get(b);v.set(t,(v.get(t)||0)+1);const w=d?.[b]?.[n]??0,I=Uo(w,l,i,g[b],h,o);s.has(b)?s.set(b,s.get(b)+I*a):s.set(b,I*a)}}function Yo(e,t,n,r,i,o,s,a,c,f,p,h=0){const g=n.tokenize(t,r),m=g.length||1,d=new Map,l=new Map,u=new Map;for(const v of i){if(!(v in e.indexes))continue;const w=e.indexes[v],{type:I}=w;if(I!=="Radix")throw k("WRONG_SEARCH_PROPERTY_TYPE",v);const O=a[v]??1;if(O<=0)throw k("INVALID_BOOST_VALUE",O);g.length===0&&!t&&g.push("");const _=g.length;for(let E=0;E<_;E++){const A=g[E],z=w.node.find({term:A,exact:o,tolerance:s}),C=Object.keys(z);C.length>0&&l.set(A,!0);const G=C.length;for(let X=0;X<G;X++){const T=C[X],x=z[T];Xr(e,v,T,x,f,c,u,O,p,d)}}}const y=Array.from(u.entries()).map(([v,w])=>[v,w]).sort((v,w)=>w[1]-v[1]);if(y.length===0)return[];if(h===1)return y;if(h===0){if(m===1)return y;for(const w of g)if(!l.get(w))return[];return y.filter(([w])=>{const I=d.get(w);return I?Array.from(I.values()).some(O=>O===m):!1})}const b=y.filter(([v])=>{const w=d.get(v);return w?Array.from(w.values()).some(I=>I===m):!1});if(b.length>0){const v=y.filter(([I])=>!b.some(([O])=>O===I)),w=Math.ceil(v.length*h);return[...b,...v.slice(0,w)]}return y}function ot(e,t,n,r){if("and"in n&&n.and&&Array.isArray(n.and)){const s=n.and;if(s.length===0)return new Set;const a=s.map(c=>ot(e,t,c,r));return Kn(...a)}if("or"in n&&n.or&&Array.isArray(n.or)){const s=n.or;return s.length===0?new Set:s.map(c=>ot(e,t,c,r)).reduce((c,f)=>tt(c,f),new Set)}if("not"in n&&n.not){const s=n.not,a=new Set,c=e.sharedInternalDocumentStore;for(let p=1;p<=c.internalIdToId.length;p++)a.add(p);const f=ot(e,t,s,r);return uo(a,f)}const i=Object.keys(n),o=i.reduce((s,a)=>({[a]:new Set,...s}),{});for(const s of i){const a=n[s];if(typeof e.indexes[s]>"u")throw k("UNKNOWN_FILTER_PROPERTY",s);const{node:c,type:f,isArray:p}=e.indexes[s];if(f==="Bool"){const g=c,m=a?g.true:g.false;o[s]=tt(o[s],m);continue}if(f==="BKD"){let g;if("radius"in a)g="radius";else if("polygon"in a)g="polygon";else throw new Error(`Invalid operation ${a}`);if(g==="radius"){const{value:m,coordinates:d,unit:l="m",inside:u=!0,highPrecision:y=!1}=a[g],b=jr(m,l),v=c.searchByRadius(d,b,u,void 0,y);o[s]=Qn(o[s],v)}else{const{coordinates:m,inside:d=!0,highPrecision:l=!1}=a[g],u=c.searchByPolygon(m,d,void 0,l);o[s]=Qn(o[s],u)}continue}if(f==="Radix"&&(typeof a=="string"||Array.isArray(a))){for(const g of[a].flat()){const m=t.tokenize(g,r,s);for(const d of m){const l=c.find({term:d,exact:!0});o[s]=rs(o[s],l)}}continue}const h=Object.keys(a);if(h.length>1)throw k("INVALID_FILTER_OPERATION",h.length);if(f==="Flat"){const g=new Set(p?c.filterArr(a):c.filter(a));o[s]=tt(o[s],g);continue}if(f==="AVL"){const g=h[0],m=a[g];let d;switch(g){case"gt":{d=c.greaterThan(m,!1);break}case"gte":{d=c.greaterThan(m,!0);break}case"lt":{d=c.lessThan(m,!1);break}case"lte":{d=c.lessThan(m,!0);break}case"eq":{d=c.find(m)??new Set;break}case"between":{const[l,u]=m;d=c.rangeSearch(l,u);break}default:throw k("INVALID_FILTER_OPERATION",g)}o[s]=tt(o[s],d)}}return Kn(...Object.values(o))}function Jo(e){return e.searchableProperties}function Qo(e){return e.searchablePropertiesWithTypes}function Xo(e,t){const{indexes:n,vectorIndexes:r,searchableProperties:i,searchablePropertiesWithTypes:o,frequencies:s,tokenOccurrences:a,avgFieldLength:c,fieldLengths:f}=t,p={},h={};for(const g of Object.keys(n)){const{node:m,type:d,isArray:l}=n[g];switch(d){case"Radix":p[g]={type:"Radix",node:It.fromJSON(m),isArray:l};break;case"Flat":p[g]={type:"Flat",node:St.fromJSON(m),isArray:l};break;case"AVL":p[g]={type:"AVL",node:_t.fromJSON(m),isArray:l};break;case"BKD":p[g]={type:"BKD",node:H.fromJSON(m),isArray:l};break;case"Bool":p[g]={type:"Bool",node:Et.fromJSON(m),isArray:l};break;default:p[g]=n[g]}}for(const g of Object.keys(r))h[g]={type:"Vector",isArray:!1,node:Ot.fromJSON(r[g])};return{sharedInternalDocumentStore:e,indexes:p,vectorIndexes:h,searchableProperties:i,searchablePropertiesWithTypes:o,frequencies:s,tokenOccurrences:a,avgFieldLength:c,fieldLengths:f}}function Zo(e){const{indexes:t,vectorIndexes:n,searchableProperties:r,searchablePropertiesWithTypes:i,frequencies:o,tokenOccurrences:s,avgFieldLength:a,fieldLengths:c}=e,f={};for(const h of Object.keys(n))f[h]=n[h].node.toJSON();const p={};for(const h of Object.keys(t)){const{type:g,node:m,isArray:d}=t[h];g==="Flat"||g==="Radix"||g==="AVL"||g==="BKD"||g==="Bool"?p[h]={type:g,node:m.toJSON(),isArray:d}:(p[h]=t[h],p[h].node=p[h].node.toJSON())}return{indexes:p,vectorIndexes:f,searchableProperties:r,searchablePropertiesWithTypes:i,frequencies:o,tokenOccurrences:s,avgFieldLength:a,fieldLengths:c}}function es(){return{create:Qr,insert:Go,remove:Ho,insertDocumentScoreParameters:Bo,insertTokenScoreParameters:$o,removeDocumentScoreParameters:jo,removeTokenScoreParameters:Wo,calculateResultScores:Xr,search:Yo,searchByWhereClause:ot,getSearchableProperties:Jo,getSearchablePropertiesWithTypes:Qo,load:Xo,save:Zo}}function Qn(e,t){e||(e=new Set);const n=t.length;for(let r=0;r<n;r++){const i=t[r].docIDs,o=i.length;for(let s=0;s<o;s++)e.add(i[s])}return e}function Xn(e,t,n=!1){const r=n?H.vincentyDistance:H.haversineDistance,i=[],o=[];for(const{point:c}of e)o.push(r(t,c));const s=Math.max(...o);let a=0;for(const{docIDs:c}of e){const f=o[a],p=s-f+1;for(const h of c)i.push([h,p]);a++}return i.sort((c,f)=>f[1]-c[1]),i}function ts(e,t){const n=Object.keys(e);if(n.length!==1)return{isGeoOnly:!1};const r=n[0],i=e[r];if(typeof t.indexes[r]>"u")return{isGeoOnly:!1};const{type:o}=t.indexes[r];return o==="BKD"&&i&&("radius"in i||"polygon"in i)?{isGeoOnly:!0,geoProperty:r,geoOperation:i}:{isGeoOnly:!1}}function ns(e,t){const n=e,r=ts(t,n);if(!r.isGeoOnly||!r.geoProperty||!r.geoOperation)return null;const{node:i}=n.indexes[r.geoProperty],o=r.geoOperation,s=i;let a;if("radius"in o){const{value:c,coordinates:f,unit:p="m",inside:h=!0,highPrecision:g=!1}=o.radius,m=f,d=jr(c,p);return a=s.searchByRadius(m,d,h,"asc",g),Xn(a,m,g)}else if("polygon"in o){const{coordinates:c,inside:f=!0,highPrecision:p=!1}=o.polygon;a=s.searchByPolygon(c,f,"asc",p);const h=H.calculatePolygonCentroid(c);return Xn(a,h,p)}return null}function rs(e,t){e||(e=new Set);const n=Object.keys(t),r=n.length;for(let i=0;i<r;i++){const o=t[n[i]],s=o.length;for(let a=0;a<s;a++)e.add(o[a])}return e}function Zr(e,t,n,r,i){const o={language:e.tokenizer.language,sharedInternalDocumentStore:t,enabled:!0,isSorted:!0,sortableProperties:[],sortablePropertiesWithTypes:{},sorts:{}};for(const[s,a]of Object.entries(n)){const c=`${i}${i?".":""}${s}`;if(!r.includes(c)){if(typeof a=="object"&&!Array.isArray(a)){const f=Zr(e,t,a,r,c);Fr(o.sortableProperties,f.sortableProperties),o.sorts={...o.sorts,...f.sorts},o.sortablePropertiesWithTypes={...o.sortablePropertiesWithTypes,...f.sortablePropertiesWithTypes};continue}if(!xe(a))switch(a){case"boolean":case"number":case"string":o.sortableProperties.push(c),o.sortablePropertiesWithTypes[c]=a,o.sorts[c]={docs:new Map,orderedDocsToRemove:new Map,orderedDocs:[],type:a};break;case"geopoint":case"enum":continue;case"enum[]":case"boolean[]":case"number[]":case"string[]":continue;default:throw k("INVALID_SORT_SCHEMA_TYPE",Array.isArray(a)?"array":a,c)}}}return o}function is(e,t,n,r){return r?.enabled!==!1?Zr(e,t,n,(r||{}).unsortableProperties||[],""):{disabled:!0}}function os(e,t,n,r){if(!e.enabled)return;e.isSorted=!1;const i=V(e.sharedInternalDocumentStore,n),o=e.sorts[t];o.orderedDocsToRemove.has(i)&&mn(e,t),o.docs.set(i,o.orderedDocs.length),o.orderedDocs.push([i,r])}function ei(e){if(e.isSorted||!e.enabled)return;const t=Object.keys(e.sorts);for(const n of t)us(e,n);e.isSorted=!0}function ss(e,t,n){return t[1].localeCompare(n[1],eo(e))}function as(e,t){return e[1]-t[1]}function cs(e,t){return t[1]?-1:1}function us(e,t){const n=e.sorts[t];let r;switch(n.type){case"string":r=ss.bind(null,e.language);break;case"number":r=as.bind(null);break;case"boolean":r=cs.bind(null);break}n.orderedDocs.sort(r);const i=n.orderedDocs.length;for(let o=0;o<i;o++){const s=n.orderedDocs[o][0];n.docs.set(s,o)}}function ls(e){const t=Object.keys(e.sorts);for(const n of t)mn(e,n)}function mn(e,t){const n=e.sorts[t];n.orderedDocsToRemove.size&&(n.orderedDocs=n.orderedDocs.filter(r=>!n.orderedDocsToRemove.has(r[0])),n.orderedDocsToRemove.clear())}function fs(e,t,n){if(!e.enabled)return;const r=e.sorts[t],i=V(e.sharedInternalDocumentStore,n);r.docs.get(i)&&(r.docs.delete(i),r.orderedDocsToRemove.set(i,!0))}function ds(e,t,n){if(!e.enabled)throw k("SORT_DISABLED");const r=n.property,i=n.order==="DESC",o=e.sorts[r];if(!o)throw k("UNABLE_TO_SORT_ON_UNKNOWN_FIELD",r,e.sortableProperties.join(", "));return mn(e,r),ei(e),t.sort((s,a)=>{const c=o.docs.get(V(e.sharedInternalDocumentStore,s[0])),f=o.docs.get(V(e.sharedInternalDocumentStore,a[0])),p=typeof c<"u",h=typeof f<"u";return!p&&!h?0:p?h?i?f-c:c-f:-1:1}),t}function hs(e){return e.enabled?e.sortableProperties:[]}function ps(e){return e.enabled?e.sortablePropertiesWithTypes:{}}function gs(e,t){const n=t;if(!n.enabled)return{enabled:!1};const r=Object.keys(n.sorts).reduce((i,o)=>{const{docs:s,orderedDocs:a,type:c}=n.sorts[o];return i[o]={docs:new Map(Object.entries(s).map(([f,p])=>[+f,p])),orderedDocsToRemove:new Map,orderedDocs:a,type:c},i},{});return{sharedInternalDocumentStore:e,language:n.language,sortableProperties:n.sortableProperties,sortablePropertiesWithTypes:n.sortablePropertiesWithTypes,sorts:r,enabled:!0,isSorted:n.isSorted}}function ys(e){if(!e.enabled)return{enabled:!1};ls(e),ei(e);const t=Object.keys(e.sorts).reduce((n,r)=>{const{docs:i,orderedDocs:o,type:s}=e.sorts[r];return n[r]={docs:Object.fromEntries(i.entries()),orderedDocs:o,type:s},n},{});return{language:e.language,sortableProperties:e.sortableProperties,sortablePropertiesWithTypes:e.sortablePropertiesWithTypes,sorts:t,enabled:e.enabled,isSorted:e.isSorted}}function ms(){return{create:is,insert:os,remove:fs,save:ys,load:gs,sortBy:ds,getSortableProperties:hs,getSortablePropertiesWithTypes:ps}}const Zn=192,vs=383,bs=[65,65,65,65,65,65,65,67,69,69,69,69,73,73,73,73,69,78,79,79,79,79,79,null,79,85,85,85,85,89,80,115,97,97,97,97,97,97,97,99,101,101,101,101,105,105,105,105,101,110,111,111,111,111,111,null,111,117,117,117,117,121,112,121,65,97,65,97,65,97,67,99,67,99,67,99,67,99,68,100,68,100,69,101,69,101,69,101,69,101,69,101,71,103,71,103,71,103,71,103,72,104,72,104,73,105,73,105,73,105,73,105,73,105,73,105,74,106,75,107,107,76,108,76,108,76,108,76,108,76,108,78,110,78,110,78,110,110,78,110,79,111,79,111,79,111,79,111,82,114,82,114,82,114,83,115,83,115,83,115,83,115,84,116,84,116,84,116,85,117,85,117,85,117,85,117,85,117,85,117,87,119,89,121,89,90,122,90,122,90,122,115];function ws(e){return e<Zn||e>vs?e:bs[e-Zn]||e}function _s(e){const t=[];for(let n=0;n<e.length;n++)t[n]=ws(e.charCodeAt(n));return String.fromCharCode(...t)}const Ss={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},Is={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},Es="[^aeiou]",ut="[aeiouy]",oe=Es+"[^aeiouy]*",$e=ut+"[aeiou]*",Ft="^("+oe+")?"+$e+oe,Os="^("+oe+")?"+$e+oe+"("+$e+")?$",nt="^("+oe+")?"+$e+oe+$e+oe,er="^("+oe+")?"+ut;function Ts(e){let t,n,r,i,o,s;if(e.length<3)return e;const a=e.substring(0,1);if(a=="y"&&(e=a.toUpperCase()+e.substring(1)),r=/^(.+?)(ss|i)es$/,i=/^(.+?)([^s])s$/,r.test(e)?e=e.replace(r,"$1$2"):i.test(e)&&(e=e.replace(i,"$1$2")),r=/^(.+?)eed$/,i=/^(.+?)(ed|ing)$/,r.test(e)){const c=r.exec(e);r=new RegExp(Ft),r.test(c[1])&&(r=/.$/,e=e.replace(r,""))}else i.test(e)&&(t=i.exec(e)[1],i=new RegExp(er),i.test(t)&&(e=t,i=/(at|bl|iz)$/,o=new RegExp("([^aeiouylsz])\\1$"),s=new RegExp("^"+oe+ut+"[^aeiouwxy]$"),i.test(e)?e=e+"e":o.test(e)?(r=/.$/,e=e.replace(r,"")):s.test(e)&&(e=e+"e")));if(r=/^(.+?)y$/,r.test(e)&&(t=r.exec(e)?.[1],r=new RegExp(er),t&&r.test(t)&&(e=t+"i")),r=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,r.test(e)){const c=r.exec(e);t=c?.[1],n=c?.[2],r=new RegExp(Ft),t&&r.test(t)&&(e=t+Ss[n])}if(r=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,r.test(e)){const c=r.exec(e);t=c?.[1],n=c?.[2],r=new RegExp(Ft),t&&r.test(t)&&(e=t+Is[n])}if(r=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,i=/^(.+?)(s|t)(ion)$/,r.test(e))t=r.exec(e)?.[1],r=new RegExp(nt),t&&r.test(t)&&(e=t);else if(i.test(e)){const c=i.exec(e);t=c?.[1]??""+c?.[2]??"",i=new RegExp(nt),i.test(t)&&(e=t)}return r=/^(.+?)e$/,r.test(e)&&(t=r.exec(e)?.[1],r=new RegExp(nt),i=new RegExp(Os),o=new RegExp("^"+oe+ut+"[^aeiouwxy]$"),t&&(r.test(t)||i.test(t)&&!o.test(t))&&(e=t)),r=/ll$/,i=new RegExp(nt),r.test(e)&&i.test(e)&&(r=/.$/,e=e.replace(r,"")),a=="y"&&(e=a.toLowerCase()+e.substring(1)),e}function tr(e,t,n=!0){const r=`${this.language}:${e}:${t}`;return n&&this.normalizationCache.has(r)?this.normalizationCache.get(r):this.stopWords?.includes(t)?(n&&this.normalizationCache.set(r,""),""):(this.stemmer&&!this.stemmerSkipProperties.has(e)&&(t=this.stemmer(t)),t=_s(t),n&&this.normalizationCache.set(r,t),t)}function As(e){for(;e[e.length-1]==="";)e.pop();for(;e[0]==="";)e.shift();return e}function nr(e,t,n,r=!0){if(t&&t!==this.language)throw k("LANGUAGE_NOT_SUPPORTED",t);if(typeof e!="string")return[e];const i=this.normalizeToken.bind(this,n??"");let o;if(n&&this.tokenizeSkipProperties.has(n))o=[i(e,r)];else{const a=Zi[this.language];o=e.toLowerCase().split(a).map(c=>i(c,r)).filter(Boolean)}const s=As(o);return this.allowDuplicates?s:Array.from(new Set(s))}function rr(e={}){if(!e.language)e.language="english";else if(!dn.includes(e.language))throw k("LANGUAGE_NOT_SUPPORTED",e.language);let t;if(e.stemming||e.stemmer&&!("stemming"in e))if(e.stemmer){if(typeof e.stemmer!="function")throw k("INVALID_STEMMER_FUNCTION_TYPE");t=e.stemmer}else if(e.language==="english")t=Ts;else throw k("MISSING_STEMMER",e.language);let n;if(e.stopWords!==!1){if(n=[],Array.isArray(e.stopWords))n=e.stopWords;else if(typeof e.stopWords=="function")n=e.stopWords(n);else if(e.stopWords)throw k("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");if(!Array.isArray(n))throw k("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");for(const i of n)if(typeof i!="string")throw k("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY")}const r={tokenize:nr,language:e.language,stemmer:t,stemmerSkipProperties:new Set(e.stemmerSkipProperties?[e.stemmerSkipProperties].flat():[]),tokenizeSkipProperties:new Set(e.tokenizeSkipProperties?[e.tokenizeSkipProperties].flat():[]),stopWords:n,allowDuplicates:!!e.allowDuplicates,normalizeToken:tr,normalizationCache:new Map};return r.tokenize=nr.bind(r),r.normalizeToken=tr,r}function Rs(e){return{sharedInternalDocumentStore:e,rules:new Map}}function Ps(e,t){if(e.rules.has(t.id))throw new Error(`PINNING_RULE_ALREADY_EXISTS: A pinning rule with id "${t.id}" already exists. Use updateRule to modify it.`);e.rules.set(t.id,t)}function xs(e,t){if(!e.rules.has(t.id))throw new Error(`PINNING_RULE_NOT_FOUND: Cannot update pinning rule with id "${t.id}" because it does not exist. Use addRule to create it.`);e.rules.set(t.id,t)}function Ns(e,t){return e.rules.delete(t)}function ks(e,t){return e.rules.get(t)}function Ds(e){return Array.from(e.rules.values())}function Ms(e,t){const n=e.toLowerCase().trim(),r=t.pattern.toLowerCase().trim();switch(t.anchoring){case"is":return n===r;case"starts_with":return n.startsWith(r);case"contains":return n.includes(r);default:return!1}}function Cs(e,t){return e?t.conditions.every(n=>Ms(e,n)):!1}function ti(e,t){if(!t)return[];const n=[];for(const r of e.rules.values())Cs(t,r)&&n.push(r);return n}function Ls(e,t){const n=t;return{sharedInternalDocumentStore:e,rules:new Map(n?.rules??[])}}function zs(e){return{rules:Array.from(e.rules.entries())}}function Us(){return{create:Rs,addRule:Ps,updateRule:xs,removeRule:Ns,getRule:ks,getAllRules:Ds,getMatchingRules:ti,load:Ls,save:zs}}function Fs(e){const t={formatElapsedTime:ho,getDocumentIndexId:po,getDocumentProperties:$r,validateSchema:Gr};for(const n of Hn){const r=n;if(e[r]){if(typeof e[r]!="function")throw k("COMPONENT_MUST_BE_FUNCTION",r)}else e[r]=t[r]}for(const n of Object.keys(e))if(!Do.includes(n)&&!Hn.includes(n))throw k("UNSUPPORTED_COMPONENT",n)}function Vs({schema:e,sort:t,language:n,components:r,id:i,plugins:o}){r||(r={});for(const b of o??[]){if(!("getComponents"in b)||typeof b.getComponents!="function")continue;const v=b.getComponents(e),w=Object.keys(v);for(const I of w)if(r[I])throw k("PLUGIN_COMPONENT_CONFLICT",I,b.name);r={...r,...v}}i||(i=Vr());let s=r.tokenizer,a=r.index,c=r.documentsStore,f=r.sorter,p=r.pinning;if(s?s.tokenize?s=s:s=rr(s):s=rr({language:n??"english"}),r.tokenizer&&n)throw k("NO_LANGUAGE_WITH_CUSTOM_TOKENIZER");const h=vo();a||=es(),f||=ms(),c||=xo(),p||=Us(),Fs(r);const{getDocumentProperties:g,getDocumentIndexId:m,validateSchema:d,formatElapsedTime:l}=r,u={data:{},caches:{},schema:e,tokenizer:s,index:a,sorter:f,documentsStore:c,pinning:p,internalDocumentIDStore:h,getDocumentProperties:g,getDocumentIndexId:m,validateSchema:d,beforeInsert:[],afterInsert:[],beforeRemove:[],afterRemove:[],beforeUpdate:[],afterUpdate:[],beforeUpsert:[],afterUpsert:[],beforeSearch:[],afterSearch:[],beforeInsertMultiple:[],afterInsertMultiple:[],beforeRemoveMultiple:[],afterRemoveMultiple:[],beforeUpdateMultiple:[],afterUpdateMultiple:[],beforeUpsertMultiple:[],afterUpsertMultiple:[],afterCreate:[],formatElapsedTime:l,id:i,plugins:o,version:Bs()};u.data={index:u.index.create(u,h,e),docs:u.documentsStore.create(u,h),sorting:u.sorter.create(u,h,e,t),pinning:u.pinning.create(h)};for(const b of No)u[b]=(u[b]??[]).concat(ko(u,b));const y=u.afterCreate;return y&&Mo(y,u),u}function Bs(){return"{{VERSION}}"}function $s(e){return e.documentsStore.count(e.data.docs)}function vn(e,t,n,r,i){const o=e.validateSchema(t,e.schema);if(o)throw k("SCHEMA_VALIDATION_FAILURE",o);return F(e.beforeInsert)||F(e.afterInsert)||F(e.index.beforeInsert)||F(e.index.insert)||F(e.index.afterInsert)?qs(e,t,n,r,i):Gs(e,t,n,r,i)}const js=new Set(["enum","enum[]"]),Ws=new Set(["string","number"]);async function qs(e,t,n,r,i){const{index:o,docs:s}=e.data,a=e.getDocumentIndexId(t);if(typeof a!="string")throw k("DOCUMENT_ID_MUST_BE_STRING",typeof a);const c=V(e.internalDocumentIDStore,a);if(await ct(e.beforeInsert,e,a,t),!e.documentsStore.store(s,a,c,t))throw k("DOCUMENT_ALREADY_EXISTS",a);const f=e.documentsStore.count(s),p=e.index.getSearchableProperties(o),h=e.index.getSearchablePropertiesWithTypes(o),g=e.getDocumentProperties(t,p);for(const[m,d]of Object.entries(g)){if(typeof d>"u")continue;const l=typeof d,u=h[m];ni(l,u,m,d)}return await Ks(e,a,p,g,f,n,t,i),await ct(e.afterInsert,e,a,t),a}function Gs(e,t,n,r,i){const{index:o,docs:s}=e.data,a=e.getDocumentIndexId(t);if(typeof a!="string")throw k("DOCUMENT_ID_MUST_BE_STRING",typeof a);const c=V(e.internalDocumentIDStore,a);if(ct(e.beforeInsert,e,a,t),!e.documentsStore.store(s,a,c,t))throw k("DOCUMENT_ALREADY_EXISTS",a);const f=e.documentsStore.count(s),p=e.index.getSearchableProperties(o),h=e.index.getSearchablePropertiesWithTypes(o),g=e.getDocumentProperties(t,p);for(const[m,d]of Object.entries(g)){if(typeof d>"u")continue;const l=typeof d,u=h[m];ni(l,u,m,d)}return Hs(e,a,p,g,f,n,t,i),ct(e.afterInsert,e,a,t),a}function ni(e,t,n,r){if(!(mo(t)&&typeof r=="object"&&typeof r.lon=="number"&&typeof r.lat=="number")&&!(xe(t)&&Array.isArray(r))&&!(bt(t)&&Array.isArray(r))&&!(js.has(t)&&Ws.has(e))&&e!==t)throw k("INVALID_DOCUMENT_PROPERTY",n,t,e)}async function Ks(e,t,n,r,i,o,s,a){for(const p of n){const h=r[p];if(typeof h>"u")continue;const g=e.index.getSearchablePropertiesWithTypes(e.data.index)[p];await e.index.beforeInsert?.(e.data.index,p,t,h,g,o,e.tokenizer,i);const m=e.internalDocumentIDStore.idToInternalId.get(t);await e.index.insert(e.index,e.data.index,p,t,m,h,g,o,e.tokenizer,i,a),await e.index.afterInsert?.(e.data.index,p,t,h,g,o,e.tokenizer,i)}const c=e.sorter.getSortableProperties(e.data.sorting),f=e.getDocumentProperties(s,c);for(const p of c){const h=f[p];if(typeof h>"u")continue;const g=e.sorter.getSortablePropertiesWithTypes(e.data.sorting)[p];e.sorter.insert(e.data.sorting,p,t,h,g,o)}}function Hs(e,t,n,r,i,o,s,a){for(const p of n){const h=r[p];if(typeof h>"u")continue;const g=e.index.getSearchablePropertiesWithTypes(e.data.index)[p],m=V(e.internalDocumentIDStore,t);e.index.beforeInsert?.(e.data.index,p,t,h,g,o,e.tokenizer,i),e.index.insert(e.index,e.data.index,p,t,m,h,g,o,e.tokenizer,i,a),e.index.afterInsert?.(e.data.index,p,t,h,g,o,e.tokenizer,i)}const c=e.sorter.getSortableProperties(e.data.sorting),f=e.getDocumentProperties(s,c);for(const p of c){const h=f[p];if(typeof h>"u")continue;const g=e.sorter.getSortablePropertiesWithTypes(e.data.sorting)[p];e.sorter.insert(e.data.sorting,p,t,h,g,o)}}function Ys(e,t,n,r,i,o){return F(e.afterInsertMultiple)||F(e.beforeInsertMultiple)||F(e.index.beforeInsert)||F(e.index.insert)||F(e.index.afterInsert)?Js(e,t,n,r,i,o):Qs(e,t,n,r,i,o)}async function Js(e,t,n=1e3,r,i,o=0){const s=[],a=async f=>{const p=Math.min(f+n,t.length),h=t.slice(f,p);for(const g of h){const m={avlRebalanceThreshold:h.length},d=await vn(e,g,r,i,m);s.push(d)}return p};return await(async()=>{let f=0;for(;f<t.length;){const p=Date.now();if(f=await a(f),o>0){const h=Date.now()-p,g=o-h;g>0&&qr(g)}}})(),await Yr(e.afterInsertMultiple,e,t),s}function Qs(e,t,n=1e3,r,i,o=0){const s=[];let a=0;function c(){const p=t.slice(a*n,(a+1)*n);if(p.length===0)return!1;for(const h of p){const g={avlRebalanceThreshold:p.length},m=vn(e,h,r,i,g);s.push(m)}return a++,!0}function f(){const p=Date.now();for(;c();)if(o>0){const g=Date.now()-p;if(g>=o){const m=o-g%o;m>0&&qr(m)}}}return f(),Yr(e.afterInsertMultiple,e,t),s}const ir="fulltext",Xs="hybrid",Zs="vector";function ea(e,t){return e[1]-t[1]}function ta(e,t){return t[1]-e[1]}function na(e="desc"){return e.toLowerCase()==="asc"?ea:ta}function bn(e,t,n){const r={},i=t.map(([f])=>f),o=e.documentsStore.getMultiple(e.data.docs,i),s=Object.keys(n),a=e.index.getSearchablePropertiesWithTypes(e.data.index);for(const f of s){let p;if(a[f]==="number"){const{ranges:h}=n[f],g=h.length,m=Array.from({length:g});for(let d=0;d<g;d++){const l=h[d];m[d]=[`${l.from}-${l.to}`,0]}p=Object.fromEntries(m)}r[f]={count:0,values:p??{}}}const c=o.length;for(let f=0;f<c;f++){const p=o[f];for(const h of s){const g=h.includes(".")?pn(p,h):p[h],m=a[h],d=r[h].values;switch(m){case"number":{const l=n[h].ranges;or(l,d)(g);break}case"number[]":{const l=new Set,u=n[h].ranges,y=or(u,d,l);for(const b of g)y(b);break}case"boolean":case"enum":case"string":{sr(d,m)(g);break}case"boolean[]":case"enum[]":case"string[]":{const y=sr(d,m==="boolean[]"?"boolean":"string",new Set);for(const b of g)y(b);break}default:throw k("FACET_NOT_SUPPORTED",m)}}}for(const f of s){const p=r[f];if(p.count=Object.keys(p.values).length,a[f]==="string"){const h=n[f],g=na(h.sort);p.values=Object.fromEntries(Object.entries(p.values).sort(g).slice(h.offset??0,h.limit??10))}}return r}function or(e,t,n){return r=>{for(const i of e){const o=`${i.from}-${i.to}`;n?.has(o)||r>=i.from&&r<=i.to&&(t[o]===void 0?t[o]=1:(t[o]++,n?.add(o)))}}}function sr(e,t,n){const r=t==="boolean"?"false":"";return i=>{const o=i?.toString()??r;n?.has(o)||(e[o]=(e[o]??0)+1,n?.add(o))}}const ra={reducer:(e,t,n,r)=>(t[r]=n,t),getInitialValue:e=>Array.from({length:e})},ar=["string","number","boolean"];function wn(e,t,n){const r=n.properties,i=r.length,o=e.index.getSearchablePropertiesWithTypes(e.data.index);for(let y=0;y<i;y++){const b=r[y];if(typeof o[b]>"u")throw k("UNKNOWN_GROUP_BY_PROPERTY",b);if(!ar.includes(o[b]))throw k("INVALID_GROUP_BY_PROPERTY",b,ar.join(", "),o[b])}const s=t.map(([y])=>wt(e.internalDocumentIDStore,y)),a=e.documentsStore.getMultiple(e.data.docs,s),c=a.length,f=n.maxResult||Number.MAX_SAFE_INTEGER,p=[],h={};for(let y=0;y<i;y++){const b=r[y],v={property:b,perValue:{}},w=new Set;for(let I=0;I<c;I++){const O=a[I],_=pn(O,b);if(typeof _>"u")continue;const E=typeof _!="boolean"?_:""+_,A=v.perValue[E]??{indexes:[],count:0};A.count>=f||(A.indexes.push(I),A.count++,v.perValue[E]=A,w.add(_))}p.push(Array.from(w)),h[b]=v}const g=ri(p),m=g.length,d=[];for(let y=0;y<m;y++){const b=g[y],v=b.length,w={values:[],indexes:[]},I=[];for(let O=0;O<v;O++){const _=b[O],E=r[O];I.push(h[E].perValue[typeof _!="boolean"?_:""+_].indexes),w.values.push(_)}w.indexes=so(I).sort((O,_)=>O-_),w.indexes.length!==0&&d.push(w)}const l=d.length,u=Array.from({length:l});for(let y=0;y<l;y++){const b=d[y],v=n.reduce||ra,w=b.indexes.map(E=>({id:s[E],score:t[E][1],document:a[E]})),I=v.reducer.bind(null,b.values),O=v.getInitialValue(b.indexes.length),_=w.reduce(I,O);u[y]={values:b.values,result:_}}return u}function ri(e,t=0){if(t+1===e.length)return e[t].map(o=>[o]);const n=e[t],r=ri(e,t+1),i=[];for(const o of n)for(const s of r){const a=[o];Fr(a,s),i.push(a)}return i}function _n(e,t,n,r){const i=ti(t,r);if(i.length===0)return n;const o=i.flatMap(u=>u.consequence.promote);o.sort((u,y)=>u.position-y.position);const s=new Set,a=new Map,c=new Set;for(const u of o){const y=V(e.internalDocumentIDStore,u.doc_id);if(y!==void 0){if(a.has(y)){const b=a.get(y);u.position<b&&a.set(y,u.position);continue}c.has(u.position)||(s.add(y),a.set(y,u.position),c.add(u.position))}}if(a.size===0)return n;const f=n.filter(([u])=>!s.has(u)),p=1e6,h=[];for(const[u,y]of a.entries())n.find(([v])=>v===u)?h.push([u,p-y]):e.documentsStore.get(e.data.docs,u)&&h.push([u,0]);h.sort((u,y)=>{const b=a.get(u[0])??1/0,v=a.get(y[0])??1/0;return b-v});const g=[],m=new Map;for(const u of h){const y=a.get(u[0]);m.set(y,u)}let d=0,l=0;for(;l<f.length+h.length;)if(m.has(l))g.push(m.get(l)),l++;else if(d<f.length)g.push(f[d]),d++,l++;else break;for(const[u,y]of m.entries())u>=g.length&&g.push(y);return g}function ii(e,t,n){const{term:r,properties:i}=t,o=e.data.index;let s=e.caches.propertiesToSearch;if(!s){const h=e.index.getSearchablePropertiesWithTypes(o);s=e.index.getSearchableProperties(o),s=s.filter(g=>h[g].startsWith("string")),e.caches.propertiesToSearch=s}if(i&&i!=="*"){for(const h of i)if(!s.includes(h))throw k("UNKNOWN_INDEX",h,s.join(", "));s=s.filter(h=>i.includes(h))}const a=Object.keys(t.where??{}).length>0;let c;a&&(c=e.index.searchByWhereClause(o,e.tokenizer,t.where,n));let f;const p=t.threshold!==void 0&&t.threshold!==null?t.threshold:1;if(r||i){const h=$s(e);if(f=e.index.search(o,r||"",e.tokenizer,n,s,t.exact||!1,t.tolerance||0,t.boost||{},aa(t.relevance),h,c,p),t.exact&&r){const g=r.trim().split(/\s+/);f=f.filter(([m])=>{const d=e.documentsStore.get(e.data.docs,m);if(!d)return!1;for(const l of s){const u=oa(d,l);if(typeof u=="string"&&g.every(b=>new RegExp(`\\b${ia(b)}\\b`).test(u)))return!0}return!1})}}else if(a){const h=ns(o,t.where);h?f=h:f=(c?Array.from(c):[]).map(m=>[+m,0])}else f=Object.keys(e.documentsStore.getAll(e.data.docs)).map(g=>[+g,0]);return f}function ia(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function oa(e,t){const n=t.split(".");let r=e;for(const i of n)if(r&&typeof r=="object"&&i in r)r=r[i];else return;return r}function sa(e,t,n){const r=Ae();function i(){const a=Object.keys(e.data.index.vectorIndexes),c=t.facets&&Object.keys(t.facets).length>0,{limit:f=10,offset:p=0,distinctOn:h,includeVectors:g=!1}=t,m=t.preflight===!0;let d=ii(e,t,n);if(t.sortBy)if(typeof t.sortBy=="function"){const y=d.map(([w])=>w),v=e.documentsStore.getMultiple(e.data.docs,y).map((w,I)=>[d[I][0],d[I][1],w]);v.sort(t.sortBy),d=v.map(([w,I])=>[w,I])}else d=e.sorter.sortBy(e.data.sorting,d,t.sortBy).map(([y,b])=>[V(e.internalDocumentIDStore,y),b]);else d=d.sort(Br);d=_n(e,e.data.pinning,d,t.term);let l;m||(l=h?ya(e,d,p,f,h):si(e,d,p,f));const u={elapsed:{formatted:"",raw:0},hits:[],count:d.length};if(typeof l<"u"&&(u.hits=l.filter(Boolean),g||Wr(u,a)),c){const y=bn(e,d,t.facets);u.facets=y}return t.groupBy&&(u.groups=wn(e,d,t.groupBy)),u.elapsed=e.formatElapsedTime(Ae()-r),u}async function o(){e.beforeSearch&&await yn(e.beforeSearch,e,t,n);const a=i();return e.afterSearch&&await gn(e.afterSearch,e,t,n,a),a}return e.beforeSearch?.length||e.afterSearch?.length?o():i()}const Vt={k:1.2,b:.75,d:.5};function aa(e){const t=e??{};return t.k=t.k??Vt.k,t.b=t.b??Vt.b,t.d=t.d??Vt.d,t}function oi(e,t,n){const r=t.vector;if(r&&(!("value"in r)||!("property"in r)))throw k("INVALID_VECTOR_INPUT",Object.keys(r).join(", "));const i=e.data.index.vectorIndexes[r.property];if(!i)throw k("UNKNOWN_VECTOR_PROPERTY",r.property);const o=i.node.size;if(r?.value.length!==o)throw r?.property===void 0||r?.value.length===void 0?k("INVALID_INPUT_VECTOR","undefined",o,"undefined"):k("INVALID_INPUT_VECTOR",r.property,o,r.value.length);const s=e.data.index;let a;return Object.keys(t.where??{}).length>0&&(a=e.index.searchByWhereClause(s,e.tokenizer,t.where,n)),i.node.find(r.value,t.similarity??Fo,a)}function ca(e,t,n="english"){const r=Ae();function i(){let a=oi(e,t,n).sort(Br);a=_n(e,e.data.pinning,a,void 0);let c=[];t.facets&&Object.keys(t.facets).length>0&&(c=bn(e,a,t.facets));const p=t.vector.property,h=t.includeVectors??!1,g=t.limit??10,m=t.offset??0,d=Array.from({length:g});for(let b=0;b<g;b++){const v=a[b+m];if(!v)break;const w=e.data.docs.docs[v[0]];if(w){h||(w[p]=null);const I={id:wt(e.internalDocumentIDStore,v[0]),score:v[1],document:w};d[b]=I}}let l=[];t.groupBy&&(l=wn(e,a,t.groupBy));const y=Ae()-r;return{count:a.length,hits:d.filter(Boolean),elapsed:{raw:Number(y),formatted:hn(y)},...c?{facets:c}:{},...l?{groups:l}:{}}}async function o(){e.beforeSearch&&await yn(e.beforeSearch,e,t,n);const a=i();return e.afterSearch&&await gn(e.afterSearch,e,t,n,a),a}return e.beforeSearch?.length||e.afterSearch?.length?o():i()}function ua(e,t,n){const r=fa(ii(e,t,n)),i=oi(e,t,n),o=t.hybridWeights;return ha(r,i,t.term??"",o)}function la(e,t,n){const r=Ae();function i(){let a=ua(e,t,n);a=_n(e,e.data.pinning,a,t.term);let c;t.facets&&Object.keys(t.facets).length>0&&(c=bn(e,a,t.facets));let p;t.groupBy&&(p=wn(e,a,t.groupBy));const h=t.offset??0,g=t.limit??10,m=si(e,a,h,g).filter(Boolean),d=Ae(),l={count:a.length,elapsed:{raw:Number(d-r),formatted:hn(d-r)},hits:m,...c?{facets:c}:{},...p?{groups:p}:{}};if(!(t.includeVectors??!1)){const y=Object.keys(e.data.index.vectorIndexes);Wr(l,y)}return l}async function o(){e.beforeSearch&&await yn(e.beforeSearch,e,t,n);const a=i();return e.afterSearch&&await gn(e.afterSearch,e,t,n,a),a}return e.beforeSearch?.length||e.afterSearch?.length?o():i()}function Qt(e){return e[1]}function fa(e){const t=Math.max.apply(Math,e.map(Qt));return e.map(([n,r])=>[n,r/t])}function cr(e,t){return e/t}function da(e,t){return(n,r)=>n*e+r*t}function ha(e,t,n,r){const i=Math.max.apply(Math,e.map(Qt)),o=Math.max.apply(Math,t.map(Qt)),s=r&&r.text&&r.vector,{text:a,vector:c}=s?r:pa(),f=new Map,p=e.length,h=da(a,c);for(let m=0;m<p;m++){const[d,l]=e[m],u=cr(l,i),y=h(u,0);f.set(d,y)}const g=t.length;for(let m=0;m<g;m++){const[d,l]=t[m],u=cr(l,o),y=f.get(d)??0;f.set(d,y+h(0,u))}return[...f].sort((m,d)=>d[1]-m[1])}function pa(e){return{text:.5,vector:.5}}function ga(e,t,n){const r=t.mode??ir;if(r===ir)return sa(e,t,n);if(r===Zs)return ca(e,t);if(r===Xs)return la(e,t);throw k("INVALID_SEARCH_MODE",r)}function ya(e,t,n,r,i){const o=e.data.docs,s=new Map,a=[],c=new Set,f=t.length;let p=0;for(let h=0;h<f;h++){const g=t[h];if(typeof g>"u")continue;const[m,d]=g;if(c.has(m))continue;const l=e.documentsStore.get(o,m),u=pn(l,i);if(!(typeof u>"u"||s.has(u))&&(s.set(u,!0),p++,!(p<=n)&&(a.push({id:wt(e.internalDocumentIDStore,m),score:d,document:l}),c.add(m),p>=n+r)))break}return a}function si(e,t,n,r){const i=e.data.docs,o=Array.from({length:r}),s=new Set;for(let a=n;a<r+n;a++){const c=t[a];if(typeof c>"u")break;const[f,p]=c;if(!s.has(f)){const h=e.documentsStore.get(i,f);o[a]={id:wt(e.internalDocumentIDStore,f),score:p,document:h},s.add(f)}}return o}function ma(e,t){e.internalDocumentIDStore.load(e,t.internalDocumentIDStore),e.data.index=e.index.load(e.internalDocumentIDStore,t.index),e.data.docs=e.documentsStore.load(e.internalDocumentIDStore,t.docs),e.data.sorting=e.sorter.load(e.internalDocumentIDStore,t.sorting),e.data.pinning=e.pinning.load(e.internalDocumentIDStore,t.pinning),e.tokenizer.language=t.language}function va(e){return{internalDocumentIDStore:e.internalDocumentIDStore.save(e.internalDocumentIDStore),index:e.index.save(e.data.index),docs:e.documentsStore.save(e.data.docs),sorting:e.sorter.save(e.data.sorting),pinning:e.pinning.save(e.data.pinning),language:e.tokenizer.language}}let ba={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},wa={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},lt="[aeiouy]",se="[^aeiou][^aeiouy]*",je=lt+"[aeiou]*",Bt="^("+se+")?"+je+se,_a="^("+se+")?"+je+se+"("+je+")?$",rt="^("+se+")?"+je+se+je+se,ur="^("+se+")?"+lt;function Sa(e){let t,n,r,i,o,s;if(e.length<3)return e;let a=e.substring(0,1);if(a=="y"&&(e=a.toUpperCase()+e.substring(1)),i=/^(.+?)([^s])s$/,(r=/^(.+?)(ss|i)es$/).test(e)?e=e.replace(r,"$1$2"):i.test(e)&&(e=e.replace(i,"$1$2")),i=/^(.+?)(ed|ing)$/,(r=/^(.+?)eed$/).test(e)){let c=r.exec(e);(r=new RegExp(Bt)).test(c[1])&&(r=/.$/,e=e.replace(r,""))}else i.test(e)&&(t=i.exec(e)[1],(i=new RegExp(ur)).test(t)&&(e=t,i=/(at|bl|iz)$/,o=RegExp("([^aeiouylsz])\\1$"),s=RegExp("^"+se+lt+"[^aeiouwxy]$"),i.test(e)?e+="e":o.test(e)?(r=/.$/,e=e.replace(r,"")):s.test(e)&&(e+="e")));if((r=/^(.+?)y$/).test(e)&&(t=r.exec(e)?.[1],r=new RegExp(ur),t&&r.test(t)&&(e=t+"i")),(r=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/).test(e)){let c=r.exec(e);t=c?.[1],n=c?.[2],r=new RegExp(Bt),t&&r.test(t)&&(e=t+ba[n])}if((r=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/).test(e)){let c=r.exec(e);t=c?.[1],n=c?.[2],r=new RegExp(Bt),t&&r.test(t)&&(e=t+wa[n])}if(i=/^(.+?)(s|t)(ion)$/,(r=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/).test(e))t=r.exec(e)?.[1],r=new RegExp(rt),t&&r.test(t)&&(e=t);else if(i.test(e)){let c=i.exec(e);t=c?.[1]??""+c?.[2]??"",(i=new RegExp(rt)).test(t)&&(e=t)}return(r=/^(.+?)e$/).test(e)&&(t=r.exec(e)?.[1],r=new RegExp(rt),i=new RegExp(_a),o=RegExp("^"+se+lt+"[^aeiouwxy]$"),t&&(r.test(t)||i.test(t)&&!o.test(t))&&(e=t)),r=/ll$/,i=new RegExp(rt),r.test(e)&&i.test(e)&&(r=/.$/,e=e.replace(r,"")),a=="y"&&(e=a.toLowerCase()+e.substring(1)),e}const Ia=["i","me","my","myself","we","us","our","ours","ourselves","you","your","yours","yourself","yourselves","he","him","his","himself","she","her","hers","herself","it","its","itself","they","them","their","theirs","themselves","what","which","who","whom","this","that","these","those","am","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","will","would","shall","should","can","could","may","might","must","ought","i'm","you're","he's","she's","it's","we're","they're","i've","you've","we've","they've","i'd","you'd","he'd","she'd","we'd","they'd","i'll","you'll","he'll","she'll","we'll","they'll","isn't","aren't","wasn't","weren't","hasn't","haven't","hadn't","doesn't","don't","didn't","won't","wouldn't","shan't","shouldn't","can't","cannot","couldn't","mustn't","let's","that's","who's","what's","here's","there's","when's","where's","why's","how's","an","the","and","but","if","or","because","as","until","while","of","at","by","for","with","about","against","between","into","through","during","before","after","above","below","to","from","up","down","in","out","on","off","over","under","again","further","then","once","here","there","when","where","why","how","all","any","both","each","few","more","most","other","some","such","no","nor","not","only","own","same","so","than","too","very"],Ea={title:"string",body:"string",url:"string"};function Oa(e,...t){const n=e.docs?.docs;return n&&Object.keys(n).forEach(r=>{for(const i of t)delete n[r][i]}),e}class ft{db;constructor(){this.db=Vs({schema:Ea,components:{tokenizer:{stemming:!0,stemmer:Sa,stopWords:Ia}}})}static create(){return new ft}static load(t){const n=new ft;return ma(n.db,t),n}save(){const t=va(this.db);return Oa(t,"body")}insert(t){vn(this.db,t)}insertMultiple(t){Ys(this.db,t)}async search(t){return(await ga(this.db,{term:t,boost:{title:2}})).hits.map(r=>r.document)}}let $t;async function Ta(){return $t===void 0&&($t=(async()=>{const t=await(await fetch("/search-index.json")).json();return ft.load(t)})()),await $t}async function Aa(e){const t=await Ta();return fn.optionify(e).filter(Boolean).map(async n=>await t.search(n)).unwrapOrElse(async()=>[])}const ai=["shift","alt","meta","mod","ctrl","control"],Ra={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function ye(e){return(Ra[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function ci(e){return ai.includes(e)}function jt(e,t=","){return e.toLowerCase().split(t)}function Wt(e,t="+",n=">",r=!1,i){let o=[],s=!1;e=e.trim(),e.includes(n)?(s=!0,o=e.toLocaleLowerCase().split(n).map(f=>ye(f))):o=e.toLocaleLowerCase().split(t).map(f=>ye(f));const a={alt:o.includes("alt"),ctrl:o.includes("ctrl")||o.includes("control"),shift:o.includes("shift"),meta:o.includes("meta"),mod:o.includes("mod"),useKey:r},c=o.filter(f=>!ai.includes(f));return{...a,keys:c,description:i,isSequence:s,hotkey:e}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&ui([ye(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&li([ye(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{le.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{le.clear()},0)}));const le=new Set;function Sn(e){return Array.isArray(e)}function Pa(e,t=","){return(Sn(e)?e:e.split(t)).every(n=>le.has(n.trim().toLowerCase()))}function ui(e){const t=Array.isArray(e)?e:[e];le.has("meta")&&le.forEach(n=>!ci(n)&&le.delete(n.toLowerCase())),t.forEach(n=>le.add(n.toLowerCase()))}function li(e){const t=Array.isArray(e)?e:[e];e==="meta"?le.clear():t.forEach(n=>le.delete(n.toLowerCase()))}function xa(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function Na(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}const ka=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function Da(e){return fi(e,ka)}function fi(e,t=!1){const{target:n,composed:r}=e;let i,o;return Ma(n)&&r?(i=e.composedPath()[0]&&e.composedPath()[0].tagName,o=e.composedPath()[0]&&e.composedPath()[0].role):(i=n&&n.tagName,o=n&&n.role),Sn(t)?!!(i&&t&&t.some(s=>s.toLowerCase()===i.toLowerCase()||s===o)):!!(i&&t&&t)}function Ma(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function Ca(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const La=(e,t,n=!1)=>{const{alt:r,meta:i,mod:o,shift:s,ctrl:a,keys:c,useKey:f}=t,{code:p,key:h,ctrlKey:g,metaKey:m,shiftKey:d,altKey:l}=e,u=ye(p);if(f&&c?.length===1&&c.includes(h))return!0;if(!c?.includes(u)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(u))return!1;if(!n){if(r!==l&&u!=="alt"||s!==d&&u!=="shift")return!1;if(o){if(!m&&!g)return!1}else if(i!==m&&u!=="meta"&&u!=="os"||a!==g&&u!=="ctrl"&&u!=="control")return!1}return c&&c.length===1&&c.includes(u)?!0:c?Pa(c):!c},za=R.createContext(void 0),Ua=()=>R.useContext(za);function di(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,r)=>n&&di(e[r],t[r]),!0):e===t}const Fa=R.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),Va=()=>R.useContext(Fa);function Ba(e){const t=R.useRef(void 0);return di(t.current,e)||(t.current=e),t.current}const lr=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},$a=typeof window<"u"?R.useLayoutEffect:R.useEffect;function Xt(e,t,n,r){const i=R.useRef(null),o=R.useRef(!1),s=Array.isArray(n)?Array.isArray(r)?void 0:r:n,a=Sn(e)?e.join(s?.delimiter):e,c=Array.isArray(n)?n:Array.isArray(r)?r:void 0,f=R.useCallback(t,c??[]),p=R.useRef(f);c?p.current=f:p.current=t;const h=Ba(s),{activeScopes:g}=Va(),m=Ua();return $a(()=>{if(h?.enabled===!1||!Ca(g,h?.scopes))return;let d=[],l;const u=(w,I=!1)=>{if(!(Da(w)&&!fi(w,h?.enableOnFormTags))){if(i.current!==null){const O=i.current.getRootNode();if((O instanceof Document||O instanceof ShadowRoot)&&O.activeElement!==i.current&&!i.current.contains(O.activeElement)){lr(w);return}}w.target?.isContentEditable&&!h?.enableOnContentEditable||jt(a,h?.delimiter).forEach(O=>{if(O.includes(h?.splitKey??"+")&&O.includes(h?.sequenceSplitKey??">")){console.warn(`Hotkey ${O} contains both ${h?.splitKey??"+"} and ${h?.sequenceSplitKey??">"} which is not supported.`);return}const _=Wt(O,h?.splitKey,h?.sequenceSplitKey,h?.useKey,h?.description);if(_.isSequence){l=setTimeout(()=>{d=[]},h?.sequenceTimeoutMs??1e3);const E=_.useKey?w.key:ye(w.code);if(ci(E.toLowerCase()))return;d.push(E);const A=_.keys?.[d.length-1];if(E!==A){d=[],l&&clearTimeout(l);return}d.length===_.keys?.length&&(p.current(w,_),l&&clearTimeout(l),d=[])}else if(La(w,_,h?.ignoreModifiers)||_.keys?.includes("*")){if(h?.ignoreEventWhen?.(w)||I&&o.current)return;if(xa(w,_,h?.preventDefault),!Na(w,_,h?.enabled)){lr(w);return}p.current(w,_),I||(o.current=!0)}})}},y=w=>{w.code!==void 0&&(ui(ye(w.code)),(h?.keydown===void 0&&h?.keyup!==!0||h?.keydown)&&u(w))},b=w=>{w.code!==void 0&&(li(ye(w.code)),o.current=!1,h?.keyup&&u(w,!0))},v=i.current||s?.document||document;return v.addEventListener("keyup",b,s?.eventListenerOptions),v.addEventListener("keydown",y,s?.eventListenerOptions),m&&jt(a,h?.delimiter).forEach(w=>m.addHotkey(Wt(w,h?.splitKey,h?.sequenceSplitKey,h?.useKey,h?.description))),()=>{v.removeEventListener("keyup",b,s?.eventListenerOptions),v.removeEventListener("keydown",y,s?.eventListenerOptions),m&&jt(a,h?.delimiter).forEach(w=>m.removeHotkey(Wt(w,h?.splitKey,h?.sequenceSplitKey,h?.useKey,h?.description))),d=[],l&&clearTimeout(l)}},[a,h,g]),i}function ja(e){return t=>{for(const n of e)Zt(n,t)}}function Wa(e){return t=>{const n=[];for(const r of e){const i=Zt(r,t),o=typeof i=="function";n.push(o?i:()=>Zt(r,null))}return()=>{for(const r of n)r()}}}function Zt(e,t){if(typeof e=="function")return e(t);e&&(e.current=t)}var qa=parseInt(R.version.split(".")[0],10)>=19?Wa:ja;function De(e,t){var n=t===void 0?{type:e}:{type:e,payload:t};return n}function Ga(e){window.location.assign(e)}var be=(e=>(e.SET_QUERY="SET_QUERY",e.SET_RESULTS="SET_RESULTS",e.NEXT_SELECTION="NEXT_SELECTION",e.PREVIOUS_SELECTION="PREVIOUS_SELECTION",e.RESET="RESET",e))(be||{});const Se={setQuery:e=>De("SET_QUERY",e),setResults:e=>De("SET_RESULTS",e),nextSelection:()=>De("NEXT_SELECTION"),previousSelection:()=>De("PREVIOUS_SELECTION"),reset:()=>De("RESET")};function Ka(e,t){fn.optionify(t[e.current]).map(n=>Ga(n.url))}class Ha{constructor(t,n){this.dispatch=t,this.api=n}query=async t=>{this.dispatch(Se.setQuery(t)),(await fn.resultify(this.api(t))).ok().map(n=>this.dispatch(Se.setResults(n)))}}function In(e,t){return(n=t,r=void 0)=>{const i=r===void 0?void 0:e[r.type];return r!==void 0&&i!==null&&i!==void 0?i(n,r):n}}function Ya(e){return(t,n)=>{const r=t??{},i={};let o=!1;for(const s in e)if(Object.hasOwn(e,s)){const a=r[s],c=e[s](a,n);i[s]=c,o=o||a!==c}return o?i:r}}const Ja=In({[be.SET_QUERY]:(e,t)=>t.payload},""),Qa=In({[be.SET_RESULTS]:(e,t)=>t.payload},[]),Xa=In({[be.NEXT_SELECTION]:e=>({...e,current:Math.min(e.current+1,e.max)}),[be.PREVIOUS_SELECTION]:e=>({...e,current:Math.max(e.current-1,0)}),[be.SET_RESULTS]:(e,t)=>{const n=t?Math.max(t.payload.length-1,0):0;return{...e,current:Math.min(e.current,n),max:n}}},{current:0,max:0}),Za=Ya({query:Ja,results:Qa,selection:Xa});function ec(e,t){return t&&t.type===be.RESET?void 0:e}function fr(e,t){const n=ec(e,t);return Za(n,t)}const tc=({value:e,onChange:t})=>{const n=R.useRef(null);return Xt("mod+k",()=>n.current?.focus()),Q.jsx("input",{className:`
        w-full
        bg-transparent
        border
        border-accent
        rounded-sm
        text-background
        m-0
        outline-none
        py-1
        px-3
        transition-colors
        duration-500
        focus:bg-background
        focus:border-transparent
        focus:text-primary
        hover:bg-background
        hover:border-transparent
        hover:text-primary
        not-placeholder-shown:bg-background
        not-placeholder-shown:text-primary
      `,ref:n,type:"search",name:"query",placeholder:"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,value:e,onChange:r=>t(r.target.value),onFocus:()=>setTimeout(()=>n.current?.select())})};var hi=(function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},t})()})(),en=typeof window<"u"&&typeof document<"u"&&window.document===document,dt=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),nc=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(dt):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}})(),rc=2;function ic(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&a()}function s(){nc(o)}function a(){var c=Date.now();if(n){if(c-i<rc)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=c}return a}var oc=20,sc=["top","right","bottom","left","width","height","size","weight"],ac=typeof MutationObserver<"u",cc=(function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ic(this.refresh.bind(this),oc)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!en||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ac?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!en||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=sc.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e})(),pi=(function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e}),Re=(function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||dt}),gi=Tt(0,0,0,0);function ht(e){return parseFloat(e)||0}function dr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var o=e["border-"+i+"-width"];return r+ht(o)},0)}function uc(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],s=e["padding-"+o];n[o]=ht(s)}return n}function lc(e){var t=e.getBBox();return Tt(0,0,t.width,t.height)}function fc(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return gi;var r=Re(e).getComputedStyle(e),i=uc(r),o=i.left+i.right,s=i.top+i.bottom,a=ht(r.width),c=ht(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==t&&(a-=dr(r,"left","right")+o),Math.round(c+s)!==n&&(c-=dr(r,"top","bottom")+s)),!hc(e)){var f=Math.round(a+o)-t,p=Math.round(c+s)-n;Math.abs(f)!==1&&(a-=f),Math.abs(p)!==1&&(c-=p)}return Tt(i.left,i.top,a,c)}var dc=(function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Re(e).SVGGraphicsElement}:function(e){return e instanceof Re(e).SVGElement&&typeof e.getBBox=="function"}})();function hc(e){return e===Re(e).document.documentElement}function pc(e){return en?dc(e)?lc(e):fc(e):gi}function gc(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return pi(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}function Tt(e,t,n,r){return{x:e,y:t,width:n,height:r}}var yc=(function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Tt(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=pc(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e})(),mc=(function(){function e(t,n){var r=gc(n);pi(this,{target:t,contentRect:r})}return e})(),vc=(function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new hi,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Re(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new yc(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Re(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new mc(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e})(),yi=typeof WeakMap<"u"?new WeakMap:new hi,mi=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=cc.getInstance(),r=new vc(t,n,this);yi.set(this,r)}return e})();["observe","unobserve","disconnect"].forEach(function(e){mi.prototype[e]=function(){var t;return(t=yi.get(this))[e].apply(t,arguments)}});var bc=(function(){return typeof dt.ResizeObserver<"u"?dt.ResizeObserver:mi})();function wc(){const e=R.useRef(null),[t,n]=R.useState({left:0,top:0,width:0,height:0}),[r]=R.useState(()=>new bc(([i])=>n(i.contentRect)));return R.useEffect(()=>(e.current&&r.observe(e.current),()=>r.disconnect()),[r]),[{ref:e},t]}var En=Xe(),P=e=>Qe(e,En),On=Xe();P.write=e=>Qe(e,On);var At=Xe();P.onStart=e=>Qe(e,At);var Tn=Xe();P.onFrame=e=>Qe(e,Tn);var An=Xe();P.onFinish=e=>Qe(e,An);var Oe=[];P.setTimeout=(e,t)=>{const n=P.now()+t,r=()=>{const o=Oe.findIndex(s=>s.cancel==r);~o&&Oe.splice(o,1),ge-=~o?1:0},i={time:n,handler:e,cancel:r};return Oe.splice(vi(n),0,i),ge+=1,bi(),i};var vi=e=>~(~Oe.findIndex(t=>t.time>e)||~Oe.length);P.cancel=e=>{At.delete(e),Tn.delete(e),An.delete(e),En.delete(e),On.delete(e)};P.sync=e=>{tn=!0,P.batchedUpdates(e),tn=!1};P.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,P.onStart(n)}return r.handler=e,r.cancel=()=>{At.delete(n),t=null},r};var Rn=typeof window<"u"?window.requestAnimationFrame:(()=>{});P.use=e=>Rn=e;P.now=typeof performance<"u"?()=>performance.now():Date.now;P.batchedUpdates=e=>e();P.catch=console.error;P.frameLoop="always";P.advance=()=>{P.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):_i()};var pe=-1,ge=0,tn=!1;function Qe(e,t){tn?(t.delete(e),e(0)):(t.add(e),bi())}function bi(){pe<0&&(pe=0,P.frameLoop!=="demand"&&Rn(wi))}function _c(){pe=-1}function wi(){~pe&&(Rn(wi),P.batchedUpdates(_i))}function _i(){const e=pe;pe=P.now();const t=vi(pe);if(t&&(Si(Oe.splice(0,t),n=>n.handler()),ge-=t),!ge){_c();return}At.flush(),En.flush(e?Math.min(64,pe-e):16.667),Tn.flush(),On.flush(),An.flush()}function Xe(){let e=new Set,t=e;return{add(n){ge+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return ge-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,ge-=t.size,Si(t,r=>r(n)&&e.add(r)),ge+=e.size,t=e)}}}function Si(e,t){e.forEach(n=>{try{t(n)}catch(r){P.catch(r)}})}var Sc=Object.defineProperty,Ic=(e,t)=>{for(var n in t)Sc(e,n,{get:t[n],enumerable:!0})},re={};Ic(re,{assign:()=>Oc,colors:()=>me,createStringInterpolator:()=>xn,skipAnimation:()=>Ei,to:()=>Ii,willAdvance:()=>Nn});function nn(){}var Ec=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),S={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function ue(e,t){if(S.arr(e)){if(!S.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var N=(e,t)=>e.forEach(t);function ae(e,t,n){if(S.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var j=e=>S.und(e)?[]:S.arr(e)?e:[e];function Ue(e,t){if(e.size){const n=Array.from(e);e.clear(),N(n,t)}}var ze=(e,...t)=>Ue(e,n=>n(...t)),Pn=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),xn,Ii,me=null,Ei=!1,Nn=nn,Oc=e=>{e.to&&(Ii=e.to),e.now&&(P.now=e.now),e.colors!==void 0&&(me=e.colors),e.skipAnimation!=null&&(Ei=e.skipAnimation),e.createStringInterpolator&&(xn=e.createStringInterpolator),e.requestAnimationFrame&&P.use(e.requestAnimationFrame),e.batchedUpdates&&(P.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Nn=e.willAdvance),e.frameLoop&&(P.frameLoop=e.frameLoop)},Fe=new Set,J=[],qt=[],pt=0,Rt={get idle(){return!Fe.size&&!J.length},start(e){pt>e.priority?(Fe.add(e),P.onStart(Tc)):(Oi(e),P(rn))},advance:rn,sort(e){if(pt)P.onFrame(()=>Rt.sort(e));else{const t=J.indexOf(e);~t&&(J.splice(t,1),Ti(e))}},clear(){J=[],Fe.clear()}};function Tc(){Fe.forEach(Oi),Fe.clear(),P(rn)}function Oi(e){J.includes(e)||Ti(e)}function Ti(e){J.splice(Ac(J,t=>t.priority>e.priority),0,e)}function rn(e){const t=qt;for(let n=0;n<J.length;n++){const r=J[n];pt=r.priority,r.idle||(Nn(r),r.advance(e),r.idle||t.push(r))}return pt=0,qt=J,qt.length=0,J=t,J.length>0}function Ac(e,t){const n=e.findIndex(t);return n<0?e.length:n}var Rc={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ne="[-+]?\\d*\\.?\\d+",gt=ne+"%";function Pt(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Pc=new RegExp("rgb"+Pt(ne,ne,ne)),xc=new RegExp("rgba"+Pt(ne,ne,ne,ne)),Nc=new RegExp("hsl"+Pt(ne,gt,gt)),kc=new RegExp("hsla"+Pt(ne,gt,gt,ne)),Dc=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Mc=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Cc=/^#([0-9a-fA-F]{6})$/,Lc=/^#([0-9a-fA-F]{8})$/;function zc(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Cc.exec(e))?parseInt(t[1]+"ff",16)>>>0:me&&me[e]!==void 0?me[e]:(t=Pc.exec(e))?(_e(t[1])<<24|_e(t[2])<<16|_e(t[3])<<8|255)>>>0:(t=xc.exec(e))?(_e(t[1])<<24|_e(t[2])<<16|_e(t[3])<<8|gr(t[4]))>>>0:(t=Dc.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Lc.exec(e))?parseInt(t[1],16)>>>0:(t=Mc.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Nc.exec(e))?(hr(pr(t[1]),it(t[2]),it(t[3]))|255)>>>0:(t=kc.exec(e))?(hr(pr(t[1]),it(t[2]),it(t[3]))|gr(t[4]))>>>0:null}function Gt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hr(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=Gt(i,r,e+1/3),s=Gt(i,r,e),a=Gt(i,r,e-1/3);return Math.round(o*255)<<24|Math.round(s*255)<<16|Math.round(a*255)<<8}function _e(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function pr(e){return(parseFloat(e)%360+360)%360/360}function gr(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function it(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function yr(e){let t=zc(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,o=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${o})`}var We=(e,t,n)=>{if(S.fun(e))return e;if(S.arr(e))return We({range:e,output:t,extrapolate:n});if(S.str(e.output[0]))return xn(e);const r=e,i=r.output,o=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(f=>f);return f=>{const p=Fc(f,o);return Uc(f,o[p],o[p+1],i[p],i[p+1],c,s,a,r.map)}};function Uc(e,t,n,r,i,o,s,a,c){let f=c?c(e):e;if(f<t){if(s==="identity")return f;s==="clamp"&&(f=t)}if(f>n){if(a==="identity")return f;a==="clamp"&&(f=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?f=-f:n===1/0?f=f-t:f=(f-t)/(n-t),f=o(f),r===-1/0?f=-f:i===1/0?f=f+r:f=f*(i-r)+r,f)}function Fc(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Vc={linear:e=>e},qe=Symbol.for("FluidValue.get"),Pe=Symbol.for("FluidValue.observers"),Y=e=>!!(e&&e[qe]),W=e=>e&&e[qe]?e[qe]():e,mr=e=>e[Pe]||null;function Bc(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Ge(e,t){const n=e[Pe];n&&n.forEach(r=>{Bc(r,t)})}var Ai=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");$c(this,e)}},$c=(e,t)=>Ri(e,qe,t);function Ne(e,t){if(e[qe]){let n=e[Pe];n||Ri(e,Pe,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Ke(e,t){const n=e[Pe];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Pe]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Ri=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),st=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,jc=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,vr=new RegExp(`(${st.source})(%|[a-z]+)`,"i"),Wc=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,xt=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Pi=e=>{const[t,n]=qc(e);if(!t||Pn())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&xt.test(n))return Pi(n);if(n)return n}return e},qc=e=>{const t=xt.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},Kt,Gc=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,xi=e=>{Kt||(Kt=me?new RegExp(`(${Object.keys(me).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(o=>W(o).replace(xt,Pi).replace(jc,yr).replace(Kt,yr)),n=t.map(o=>o.match(st).map(Number)),i=n[0].map((o,s)=>n.map(a=>{if(!(s in a))throw Error('The arity of each "output" value must be equal');return a[s]})).map(o=>We({...e,output:o}));return o=>{const s=!vr.test(t[0])&&t.find(c=>vr.test(c))?.replace(st,"");let a=0;return t[0].replace(st,()=>`${i[a++](o)}${s||""}`).replace(Wc,Gc)}},kn="react-spring: ",Ni=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${kn}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Kc=Ni(console.warn);function Hc(){Kc(`${kn}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Yc=Ni(console.warn);function Jc(){Yc(`${kn}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Nt(e){return S.str(e)&&(e[0]=="#"||/\d/.test(e)||!Pn()&&xt.test(e)||e in(me||{}))}var Ie=Pn()?R.useEffect:R.useLayoutEffect,Qc=()=>{const e=R.useRef(!1);return Ie(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function ki(){const e=R.useState()[1],t=Qc();return()=>{t.current&&e(Math.random())}}var Di=e=>R.useEffect(e,Xc),Xc=[];function Zc(e){const t=R.useRef(void 0);return R.useEffect(()=>{t.current=e}),t.current}var He=Symbol.for("Animated:node"),eu=e=>!!e&&e[He]===e,ie=e=>e&&e[He],Dn=(e,t)=>Ec(e,He,t),kt=e=>e&&e[He]&&e[He].getPayload(),Mi=class{constructor(){Dn(this,this)}getPayload(){return this.payload||[]}},Dt=class Ci extends Mi{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,S.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Ci(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return S.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,S.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},yt=class Li extends Dt{constructor(t){super(0),this._string=null,this._toString=We({output:[t,t]})}static create(t){return new Li(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(S.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=We({output:[this.getValue(),t]})),this._value=0,super.reset()}},mt={dependencies:null},Mt=class extends Mi{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return ae(this.source,(n,r)=>{eu(n)?t[r]=n.getValue(e):Y(n)?t[r]=W(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&N(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return ae(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){mt.dependencies&&Y(e)&&mt.dependencies.add(e);const t=kt(e);t&&N(t,n=>this.add(n))}},tu=class zi extends Mt{constructor(t){super(t)}static create(t){return new zi(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const n=this.getPayload();return t.length==n.length?n.map((r,i)=>r.setValue(t[i])).some(Boolean):(super.setValue(t.map(nu)),!0)}};function nu(e){return(Nt(e)?yt:Dt).create(e)}function on(e){const t=ie(e);return t?t.constructor:S.arr(e)?tu:Nt(e)?yt:Dt}var br=(e,t)=>{const n=!S.fun(e)||e.prototype&&e.prototype.isReactComponent;return R.forwardRef((r,i)=>{const o=R.useRef(null),s=n&&R.useCallback(d=>{o.current=ou(i,d)},[i]),[a,c]=iu(r,t),f=ki(),p=()=>{const d=o.current;if(n&&!d)return;(d?t.applyAnimatedValues(d,a.getValue(!0)):!1)===!1&&f()},h=new ru(p,c),g=R.useRef(void 0);Ie(()=>(g.current=h,N(c,d=>Ne(d,h)),()=>{g.current&&(N(g.current.deps,d=>Ke(d,g.current)),P.cancel(g.current.update))})),R.useEffect(p,[]),Di(()=>()=>{const d=g.current;N(d.deps,l=>Ke(l,d))});const m=t.getComponentProps(a.getValue());return R.createElement(e,{...m,ref:s})})},ru=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&P.write(this.update)}};function iu(e,t){const n=new Set;return mt.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Mt(e),mt.dependencies=null,[e,n]}function ou(e,t){return e&&(S.fun(e)?e(t):e.current=t),t}var wr=Symbol.for("AnimatedComponent"),su=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new Mt(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=s=>{const a=_r(s)||"Anonymous";return S.str(s)?s=o[s]||(o[s]=br(s,i)):s=s[wr]||(s[wr]=br(s,i)),s.displayName=`Animated(${a})`,s};return ae(e,(s,a)=>{S.arr(e)&&(a=_r(s)),o[a]=o(s)}),{animated:o}},_r=e=>S.str(e)?e:e&&S.str(e.displayName)?e.displayName:S.fun(e)&&e.name||null;function q(e,...t){return S.fun(e)?e(...t):e}var Ve=(e,t)=>e===!0||!!(t&&e&&(S.fun(e)?e(t):j(e).includes(t))),Ui=(e,t)=>S.obj(e)?t&&e[t]:e,Fi=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,au=e=>e,Mn=(e,t=au)=>{let n=cu;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const o=t(e[i],i);S.und(o)||(r[i]=o)}return r},cu=["config","onProps","onStart","onChange","onPause","onResume","onRest"],uu={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function lu(e){const t={};let n=0;if(ae(e,(r,i)=>{uu[i]||(t[i]=r,n++)}),n)return t}function Cn(e){const t=lu(e);if(t){const n={to:t};return ae(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function Ye(e){return e=W(e),S.arr(e)?e.map(Ye):Nt(e)?re.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function fu(e){for(const t in e)return!0;return!1}function sn(e){return S.fun(e)||S.arr(e)&&S.obj(e[0])}function Sr(e,t){e.ref?.delete(e),t?.delete(e)}function du(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var hu={default:{tension:170,friction:26}},an={...hu.default,mass:1,damping:1,easing:Vc.linear,clamp:!1},pu=class{constructor(){this.velocity=0,Object.assign(this,an)}};function gu(e,t,n){n&&(n={...n},Ir(n,t),t={...n,...t}),Ir(e,t),Object.assign(e,t);for(const s in an)e[s]==null&&(e[s]=an[s]);let{frequency:r,damping:i}=e;const{mass:o}=e;return S.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*o,e.friction=4*Math.PI*i*o/r),e}function Ir(e,t){if(!S.und(t.decay))e.duration=void 0;else{const n=!S.und(t.tension)||!S.und(t.friction);(n||!S.und(t.frequency)||!S.und(t.damping)||!S.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var Er=[],yu=class{constructor(){this.changed=!1,this.values=Er,this.toValues=null,this.fromValues=Er,this.config=new pu,this.immediate=!1}};function Vi(e,{key:t,props:n,defaultProps:r,state:i,actions:o}){return new Promise((s,a)=>{let c,f,p=Ve(n.cancel??r?.cancel,t);if(p)m();else{S.und(n.pause)||(i.paused=Ve(n.pause,t));let d=r?.pause;d!==!0&&(d=i.paused||Ve(d,t)),c=q(n.delay||0,t),d?(i.resumeQueue.add(g),o.pause()):(o.resume(),g())}function h(){i.resumeQueue.add(g),i.timeouts.delete(f),f.cancel(),c=f.time-P.now()}function g(){c>0&&!re.skipAnimation?(i.delayed=!0,f=P.setTimeout(m,c),i.pauseQueue.add(h),i.timeouts.add(f)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(f),e<=(i.cancelId||0)&&(p=!0);try{o.start({...n,callId:e,cancel:p},s)}catch(d){a(d)}}})}var Ln=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?Te(e.get()):t.every(n=>n.noop)?Bi(e.get()):te(e.get(),t.every(n=>n.finished)),Bi=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),te=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Te=e=>({value:e,cancelled:!0,finished:!1});function $i(e,t,n,r){const{callId:i,parentId:o,onRest:s}=t,{asyncTo:a,promise:c}=n;return!o&&e===a&&!t.reset?c:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const f=Mn(t,(u,y)=>y==="onRest"?void 0:u);let p,h;const g=new Promise((u,y)=>(p=u,h=y)),m=u=>{const y=i<=(n.cancelId||0)&&Te(r)||i!==n.asyncId&&te(r,!1);if(y)throw u.result=y,h(u),u},d=(u,y)=>{const b=new Or,v=new Tr;return(async()=>{if(re.skipAnimation)throw Je(n),v.result=te(r,!1),h(v),v;m(b);const w=S.obj(u)?{...u}:{...y,to:u};w.parentId=i,ae(f,(O,_)=>{S.und(w[_])&&(w[_]=O)});const I=await r.start(w);return m(b),n.paused&&await new Promise(O=>{n.resumeQueue.add(O)}),I})()};let l;if(re.skipAnimation)return Je(n),te(r,!1);try{let u;S.arr(e)?u=(async y=>{for(const b of y)await d(b)})(e):u=Promise.resolve(e(d,r.stop.bind(r))),await Promise.all([u.then(p),g]),l=te(r.get(),!0,!1)}catch(u){if(u instanceof Or)l=u.result;else if(u instanceof Tr)l=u.result;else throw u}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?a:void 0,n.promise=o?c:void 0)}return S.fun(s)&&P.batchedUpdates(()=>{s(l,r,r.item)}),l})()}function Je(e,t){Ue(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Or=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Tr=class extends Error{constructor(){super("SkipAnimationSignal")}},cn=e=>e instanceof zn,mu=1,zn=class extends Ai{constructor(){super(...arguments),this.id=mu++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ie(this);return e&&e.getValue()}to(...e){return re.to(this,e)}interpolate(...e){return Hc(),re.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Ge(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Rt.sort(this),Ge(this,{type:"priority",parent:this,priority:e})}},we=Symbol.for("SpringPhase"),ji=1,un=2,ln=4,Ht=e=>(e[we]&ji)>0,de=e=>(e[we]&un)>0,Me=e=>(e[we]&ln)>0,Ar=(e,t)=>t?e[we]|=un|ji:e[we]&=~un,Rr=(e,t)=>t?e[we]|=ln:e[we]&=~ln,vu=class extends zn{constructor(e,t){if(super(),this.animation=new yu,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!S.und(e)||!S.und(t)){const n=S.obj(e)?{...e}:{...t,from:e};S.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(de(this)||this._state.asyncTo)||Me(this)}get goal(){return W(this.animation.to)}get velocity(){const e=ie(this);return e instanceof Dt?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return Ht(this)}get isAnimating(){return de(this)}get isPaused(){return Me(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:o}=r,s=kt(r.to);!s&&Y(r.to)&&(i=j(W(r.to))),r.values.forEach((f,p)=>{if(f.done)return;const h=f.constructor==yt?1:s?s[p].lastPosition:i[p];let g=r.immediate,m=h;if(!g){if(m=f.lastPosition,o.tension<=0){f.done=!0;return}let d=f.elapsedTime+=e;const l=r.fromValues[p],u=f.v0!=null?f.v0:f.v0=S.arr(o.velocity)?o.velocity[p]:o.velocity;let y;const b=o.precision||(l==h?.005:Math.min(1,Math.abs(h-l)*.001));if(S.und(o.duration))if(o.decay){const v=o.decay===!0?.998:o.decay,w=Math.exp(-(1-v)*d);m=l+u/(1-v)*(1-w),g=Math.abs(f.lastPosition-m)<=b,y=u*w}else{y=f.lastVelocity==null?u:f.lastVelocity;const v=o.restVelocity||b/10,w=o.clamp?0:o.bounce,I=!S.und(w),O=l==h?f.v0>0:l<h;let _,E=!1;const A=1,z=Math.ceil(e/A);for(let C=0;C<z&&(_=Math.abs(y)>v,!(!_&&(g=Math.abs(h-m)<=b,g)));++C){I&&(E=m==h||m>h==O,E&&(y=-y*w,m=h));const G=-o.tension*1e-6*(m-h),X=-o.friction*.001*y,T=(G+X)/o.mass;y=y+T*A,m=m+y*A}}else{let v=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,f.durationProgress>0&&(f.elapsedTime=o.duration*f.durationProgress,d=f.elapsedTime+=e)),v=(o.progress||0)+d/this._memoizedDuration,v=v>1?1:v<0?0:v,f.durationProgress=v),m=l+o.easing(v)*(h-l),y=(m-f.lastPosition)/e,g=v==1}f.lastVelocity=y,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),g=!0)}s&&!s[p].done&&(g=!1),g?f.done=!0:t=!1,f.setValue(m,o.round)&&(n=!0)});const a=ie(this),c=a.getValue();if(t){const f=W(r.to);(c!==f||n)&&!o.decay?(a.setValue(f),this._onChange(f)):n&&o.decay&&this._onChange(c),this._stop()}else n&&this._onChange(c)}set(e){return P.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(de(this)){const{to:e,config:t}=this.animation;P.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return S.und(e)?(n=this.queue||[],this.queue=[]):n=[S.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>Ln(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Je(this._state,e&&this._lastCallId),P.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=S.obj(n)?n[t]:n,(n==null||sn(n))&&(n=void 0),r=S.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return Ht(this)||(e.reverse&&([n,r]=[r,n]),r=W(r),S.und(r)?ie(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Mn(e,(s,a)=>/^on/.test(a)?Ui(s,n):s)),xr(this,e,"onProps"),Le(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return Vi(++this._lastCallId,{key:n,props:e,defaultProps:r,state:o,actions:{pause:()=>{Me(this)||(Rr(this,!0),ze(o.pauseQueue),Le(this,"onPause",te(this,Ce(this,this.animation.to)),this))},resume:()=>{Me(this)&&(Rr(this,!1),de(this)&&this._resume(),ze(o.resumeQueue),Le(this,"onResume",te(this,Ce(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(s=>{if(e.loop&&s.finished&&!(t&&s.noop)){const a=Wi(e);if(a)return this._update(a,!0)}return s})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Te(this));const r=!S.und(e.to),i=!S.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(Te(this));const{key:o,defaultProps:s,animation:a}=this,{to:c,from:f}=a;let{to:p=c,from:h=f}=e;i&&!r&&(!t.default||S.und(p))&&(p=h),t.reverse&&([p,h]=[h,p]);const g=!ue(h,f);g&&(a.from=h),h=W(h);const m=!ue(p,c);m&&this._focus(p);const d=sn(t.to),{config:l}=a,{decay:u,velocity:y}=l;(r||i)&&(l.velocity=0),t.config&&!d&&gu(l,q(t.config,o),t.config!==s.config?q(s.config,o):void 0);let b=ie(this);if(!b||S.und(p))return n(te(this,!0));const v=S.und(t.reset)?i&&!t.default:!S.und(h)&&Ve(t.reset,o),w=v?h:this.get(),I=Ye(p),O=S.num(I)||S.arr(I)||Nt(I),_=!d&&(!O||Ve(s.immediate||t.immediate,o));if(m){const C=on(p);if(C!==b.constructor)if(_)b=this._set(I);else throw Error(`Cannot animate between ${b.constructor.name} and ${C.name}, as the "to" prop suggests`)}const E=b.constructor;let A=Y(p),z=!1;if(!A){const C=v||!Ht(this)&&g;(m||C)&&(z=ue(Ye(w),I),A=!z),(!ue(a.immediate,_)&&!_||!ue(l.decay,u)||!ue(l.velocity,y))&&(A=!0)}if(z&&de(this)&&(a.changed&&!v?A=!0:A||this._stop(c)),!d&&((A||Y(c))&&(a.values=b.getPayload(),a.toValues=Y(p)?null:E==yt?[1]:j(I)),a.immediate!=_&&(a.immediate=_,!_&&!v&&this._set(c)),A)){const{onRest:C}=a;N(bu,X=>xr(this,t,X));const G=te(this,Ce(this,c));ze(this._pendingCalls,G),this._pendingCalls.add(n),a.changed&&P.batchedUpdates(()=>{a.changed=!v,C?.(G,this),v?q(s.onRest,G):a.onStart?.(G,this)})}v&&this._set(w),d?n($i(t.to,t,this._state,this)):A?this._start():de(this)&&!m?this._pendingCalls.add(n):n(Bi(w))}_focus(e){const t=this.animation;e!==t.to&&(mr(this)&&this._detach(),t.to=e,mr(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Y(t)&&(Ne(t,this),cn(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Y(e)&&Ke(e,this)}_set(e,t=!0){const n=W(e);if(!S.und(n)){const r=ie(this);if(!r||!ue(n,r.getValue())){const i=on(n);!r||r.constructor!=i?Dn(this,i.create(n)):r.setValue(n),r&&P.batchedUpdates(()=>{this._onChange(n,t)})}}return ie(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Le(this,"onStart",te(this,Ce(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),q(this.animation.onChange,e,this)),q(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ie(this).reset(W(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),de(this)||(Ar(this,!0),Me(this)||this._resume())}_resume(){re.skipAnimation?this.finish():Rt.start(this)}_stop(e,t){if(de(this)){Ar(this,!1);const n=this.animation;N(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Ge(this,{type:"idle",parent:this});const r=t?Te(this.get()):te(this.get(),Ce(this,e??n.to));ze(this._pendingCalls,r),n.changed&&(n.changed=!1,Le(this,"onRest",r,this))}}};function Ce(e,t){const n=Ye(t),r=Ye(e.get());return ue(r,n)}function Wi(e,t=e.loop,n=e.to){const r=q(t);if(r){const i=r!==!0&&Cn(r),o=(i||e).reverse,s=!i||i.reset;return vt({...e,loop:t,default:!1,pause:void 0,to:!o||sn(n)?n:void 0,from:s?e.from:void 0,reset:s,...i})}}function vt(e){const{to:t,from:n}=e=Cn(e),r=new Set;return S.obj(t)&&Pr(t,r),S.obj(n)&&Pr(n,r),e.keys=r.size?Array.from(r):null,e}function Pr(e,t){ae(e,(n,r)=>n!=null&&t.add(r))}var bu=["onStart","onRest","onChange","onPause","onResume"];function xr(e,t,n){e.animation[n]=t[n]!==Fi(t,n)?Ui(t[n],e.key):void 0}function Le(e,t,...n){e.animation[t]?.(...n),e.defaultProps[t]?.(...n)}var wu=["onStart","onChange","onRest"],_u=1,Su=class{constructor(e,t){this.id=_u++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];S.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(vt(e)),this}start(e){let{queue:t}=this;return e?t=j(e).map(vt):this.queue=[],this._flush?this._flush(this,t):(Hi(this,t),Iu(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;N(j(t),r=>n[r].stop(!!e))}else Je(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(S.und(e))this.start({pause:!0});else{const t=this.springs;N(j(e),n=>t[n].pause())}return this}resume(e){if(S.und(e))this.start({pause:!1});else{const t=this.springs;N(j(e),n=>t[n].resume())}return this}each(e){ae(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Ue(e,([a,c])=>{c.value=this.get(),a(c,this,this._item)}));const o=!r&&this._started,s=i||o&&n.size?this.get():null;i&&t.size&&Ue(t,([a,c])=>{c.value=s,a(c,this,this._item)}),o&&(this._started=!1,Ue(n,([a,c])=>{c.value=s,a(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;P.onFrame(this._onFrame)}};function Iu(e,t){return Promise.all(t.map(n=>qi(e,n))).then(n=>Ln(e,n))}async function qi(e,t,n){const{keys:r,to:i,from:o,loop:s,onRest:a,onResolve:c}=t,f=S.obj(t.default)&&t.default;s&&(t.loop=!1),i===!1&&(t.to=null),o===!1&&(t.from=null);const p=S.arr(i)||S.fun(i)?i:void 0;p?(t.to=void 0,t.onRest=void 0,f&&(f.onRest=void 0)):N(wu,l=>{const u=t[l];if(S.fun(u)){const y=e._events[l];t[l]=({finished:b,cancelled:v})=>{const w=y.get(u);w?(b||(w.finished=!1),v&&(w.cancelled=!0)):y.set(u,{value:null,finished:b||!1,cancelled:v||!1})},f&&(f[l]=t[l])}});const h=e._state;t.pause===!h.paused?(h.paused=t.pause,ze(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const g=(r||Object.keys(e.springs)).map(l=>e.springs[l].start(t)),m=t.cancel===!0||Fi(t,"cancel")===!0;(p||m&&h.asyncId)&&g.push(Vi(++e._lastAsyncId,{props:t,state:h,actions:{pause:nn,resume:nn,start(l,u){m?(Je(h,e._lastAsyncId),u(Te(e))):(l.onRest=a,u($i(p,l,h,e)))}}})),h.paused&&await new Promise(l=>{h.resumeQueue.add(l)});const d=Ln(e,await Promise.all(g));if(s&&d.finished&&!(n&&d.noop)){const l=Wi(t,s,i);if(l)return Hi(e,[l]),qi(e,l,!0)}return c&&P.batchedUpdates(()=>c(d,e,e.item)),d}function Eu(e,t){const n={...e.springs};return t&&N(j(t),r=>{S.und(r.keys)&&(r=vt(r)),S.obj(r.to)||(r={...r,to:void 0}),Ki(n,r,i=>Gi(i))}),Ou(e,n),n}function Ou(e,t){ae(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,Ne(n,e))})}function Gi(e,t){const n=new vu;return n.key=e,t&&Ne(n,t),n}function Ki(e,t,n){t.keys&&N(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Hi(e,t){N(t,n=>{Ki(e.springs,n,r=>Gi(r,e))})}var Tu=R.createContext({pause:!1,immediate:!1}),Au=()=>{const e=[],t=function(r){Jc();const i=[];return N(e,(o,s)=>{if(S.und(r))i.push(o.start());else{const a=n(r,o,s);a&&i.push(o.start(a))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return N(e,r=>r.pause(...arguments)),this},t.resume=function(){return N(e,r=>r.resume(...arguments)),this},t.set=function(r){N(e,(i,o)=>{const s=S.fun(r)?r(o,i):r;s&&i.set(s)})},t.start=function(r){const i=[];return N(e,(o,s)=>{if(S.und(r))i.push(o.start());else{const a=this._getProps(r,o,s);a&&i.push(o.start(a))}}),i},t.stop=function(){return N(e,r=>r.stop(...arguments)),this},t.update=function(r){return N(e,(i,o)=>i.update(this._getProps(r,i,o))),this};const n=function(r,i,o){return S.fun(r)?r(o,i):r};return t._getProps=n,t};function Ru(e,t,n){const r=S.fun(t)&&t,{reset:i,sort:o,trail:s=0,expires:a=!0,exitBeforeEnter:c=!1,onDestroyed:f,ref:p,config:h}=r?r():t,g=R.useMemo(()=>r||arguments.length==3?Au():void 0,[]),m=j(e),d=[],l=R.useRef(null),u=i?null:l.current;Ie(()=>{l.current=d}),Di(()=>(N(d,T=>{g?.add(T.ctrl),T.ctrl.ref=g}),()=>{N(l.current,T=>{T.expired&&clearTimeout(T.expirationId),Sr(T.ctrl,g),T.ctrl.stop(!0)})}));const y=xu(m,r?r():t,u),b=i&&l.current||[];Ie(()=>N(b,({ctrl:T,item:x,key:L})=>{Sr(T,g),q(f,x,L)}));const v=[];if(u&&N(u,(T,x)=>{T.expired?(clearTimeout(T.expirationId),b.push(T)):(x=v[x]=y.indexOf(T.key),~x&&(d[x]=T))}),N(m,(T,x)=>{d[x]||(d[x]={key:y[x],item:T,phase:"mount",ctrl:new Su},d[x].ctrl.item=T)}),v.length){let T=-1;const{leave:x}=r?r():t;N(v,(L,B)=>{const U=u[B];~L?(T=d.indexOf(U),d[T]={...U,item:m[L]}):x&&d.splice(++T,0,U)})}S.fun(o)&&d.sort((T,x)=>o(T.item,x.item));let w=-s;const I=ki(),O=Mn(t),_=new Map,E=R.useRef(new Map),A=R.useRef(!1);N(d,(T,x)=>{const L=T.key,B=T.phase,U=r?r():t;let $,Z;const Ze=q(U.delay||0,L);if(B=="mount")$=U.enter,Z="enter";else{const ee=y.indexOf(L)<0;if(B!="leave")if(ee)$=U.leave,Z="leave";else if($=U.update)Z="update";else return;else if(!ee)$=U.enter,Z="enter";else return}if($=q($,T.item,x),$=S.obj($)?Cn($):{to:$},!$.config){const ee=h||O.config;$.config=q(ee,T.item,x,Z)}w+=s;const ce={...O,delay:Ze+w,ref:p,immediate:U.immediate,reset:!1,...$};if(Z=="enter"&&S.und(ce.from)){const ee=r?r():t,ke=S.und(ee.initial)||u?ee.from:ee.initial;ce.from=q(ke,T.item,x)}const{onResolve:Ji}=ce;ce.onResolve=ee=>{q(Ji,ee);const ke=l.current,fe=ke.find(et=>et.key===L);if(fe&&!(ee.cancelled&&fe.phase!="update")&&fe.ctrl.idle){const et=ke.every(ve=>ve.ctrl.idle);if(fe.phase=="leave"){const ve=q(a,fe.item);if(ve!==!1){const Ct=ve===!0?0:ve;if(fe.expired=!0,!et&&Ct>0){Ct<=2147483647&&(fe.expirationId=setTimeout(I,Ct));return}}}et&&ke.some(ve=>ve.expired)&&(E.current.delete(fe),c&&(A.current=!0),I())}};const Un=Eu(T.ctrl,ce);Z==="leave"&&c?E.current.set(T,{phase:Z,springs:Un,payload:ce}):_.set(T,{phase:Z,springs:Un,payload:ce})});const z=R.useContext(Tu),C=Zc(z),G=z!==C&&fu(z);Ie(()=>{G&&N(d,T=>{T.ctrl.start({default:z})})},[z]),N(_,(T,x)=>{if(E.current.size){const L=d.findIndex(B=>B.key===x.key);d.splice(L,1)}}),Ie(()=>{N(E.current.size?E.current:_,({phase:T,payload:x},L)=>{const{ctrl:B}=L;L.phase=T,g?.add(B),G&&T=="enter"&&B.start({default:z}),x&&(du(B,x.ref),(B.ref||g)&&!A.current?B.update(x):(B.start(x),A.current&&(A.current=!1)))})},i?void 0:n);const X=T=>R.createElement(R.Fragment,null,d.map((x,L)=>{const{springs:B}=_.get(x)||x.ctrl,U=T({...B},x.item,x,L),$=S.str(x.key)||S.num(x.key)?x.key:x.ctrl.id,Z=R.version<"19.0.0",Ze=U?.props??{},ce=Z?U?.ref:Ze?.ref;return U&&U.type?R.createElement(U.type,{...Ze,key:$,ref:ce}):U}));return g?[X,g]:X}var Pu=1;function xu(e,{key:t,keys:n=t},r){if(n===null){const i=new Set;return e.map(o=>{const s=r&&r.find(a=>a.item===o&&a.phase!=="leave"&&!i.has(a));return s?(i.add(s),s.key):Pu++})}return S.und(n)?e:S.fun(n)?e.map(n):j(n)}var Nu=class extends zn{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=We(...t);const n=this._get(),r=on(n);Dn(this,r.create(n))}advance(e){const t=this._get(),n=this.get();ue(t,n)||(ie(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Nr(this._active)&&Yt(this)}_get(){const e=S.arr(this.source)?this.source.map(W):j(W(this.source));return this.calc(...e)}_start(){this.idle&&!Nr(this._active)&&(this.idle=!1,N(kt(this),e=>{e.done=!1}),re.skipAnimation?(P.batchedUpdates(()=>this.advance()),Yt(this)):Rt.start(this))}_attach(){let e=1;N(j(this.source),t=>{Y(t)&&Ne(t,this),cn(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){N(j(this.source),e=>{Y(e)&&Ke(e,this)}),this._active.clear(),Yt(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=j(this.source).reduce((t,n)=>Math.max(t,(cn(n)?n.priority:0)+1),0))}};function ku(e){return e.idle!==!1}function Nr(e){return!e.size||Array.from(e).every(ku)}function Yt(e){e.idle||(e.idle=!0,N(kt(e),t=>{t.done=!0}),Ge(e,{type:"idle",parent:e}))}re.assign({createStringInterpolator:xi,to:(e,t)=>new Nu(e,t)});var Du=Qi(),Yi=/^--/;function Mu(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Yi.test(e)&&!(Be.hasOwnProperty(e)&&Be[e])?t+"px":(""+t).trim()}var kr={};function Cu(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:i,children:o,scrollTop:s,scrollLeft:a,viewBox:c,...f}=t,p=Object.values(f),h=Object.keys(f).map(g=>n||e.hasAttribute(g)?g:kr[g]||(kr[g]=g.replace(/([A-Z])/g,m=>"-"+m.toLowerCase())));o!==void 0&&(e.textContent=o);for(const g in i)if(i.hasOwnProperty(g)){const m=Mu(g,i[g]);Yi.test(g)?e.style.setProperty(g,m):e.style[g]=m}h.forEach((g,m)=>{e.setAttribute(g,p[m])}),r!==void 0&&(e.className=r),s!==void 0&&(e.scrollTop=s),a!==void 0&&(e.scrollLeft=a),c!==void 0&&e.setAttribute("viewBox",c)}var Be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lu=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),zu=["Webkit","Ms","Moz","O"];Be=Object.keys(Be).reduce((e,t)=>(zu.forEach(n=>e[Lu(n,t)]=e[t]),e),Be);var Uu=/^(matrix|translate|scale|rotate|skew)/,Fu=/^(translate)/,Vu=/^(rotate|skew)/,Jt=(e,t)=>S.num(e)&&e!==0?e+t:e,at=(e,t)=>S.arr(e)?e.every(n=>at(n,t)):S.num(e)?e===t:parseFloat(e)===t,Bu=class extends Mt{constructor({x:e,y:t,z:n,...r}){const i=[],o=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),o.push(s=>[`translate3d(${s.map(a=>Jt(a,"px")).join(",")})`,at(s,0)])),ae(r,(s,a)=>{if(a==="transform")i.push([s||""]),o.push(c=>[c,c===""]);else if(Uu.test(a)){if(delete r[a],S.und(s))return;const c=Fu.test(a)?"px":Vu.test(a)?"deg":"";i.push(j(s)),o.push(a==="rotate3d"?([f,p,h,g])=>[`rotate3d(${f},${p},${h},${Jt(g,c)})`,at(g,0)]:f=>[`${a}(${f.map(p=>Jt(p,c)).join(",")})`,at(f,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new $u(i,o)),super(r)}},$u=class extends Ai{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return N(this.inputs,(n,r)=>{const i=W(n[0]),[o,s]=this.transforms[r](S.arr(i)?i:n.map(W));e+=" "+o,t=t&&s}),t?"none":e}observerAdded(e){e==1&&N(this.inputs,t=>N(t,n=>Y(n)&&Ne(n,this)))}observerRemoved(e){e==0&&N(this.inputs,t=>N(t,n=>Y(n)&&Ke(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Ge(this,e)}},ju=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];re.assign({batchedUpdates:Du.unstable_batchedUpdates,createStringInterpolator:xi,colors:Rc});var Wu=su(ju,{applyAnimatedValues:Cu,createAnimatedStyle:e=>new Bu(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Dr=Wu.animated;function qu({height:e,children:t,...n}){const[{ref:r},{height:i}]=wc();return Q.jsx(Dr.div,{style:{height:e.to({output:[0,i]})},...n,children:Q.jsx(Dr.div,{ref:r,children:t})})}function Gu(e,t,n){const r=Ru(e,{keys:t,enter:{height:1},from:{height:0},leave:{height:0},trail:50});return i=>r((o,s,a,c)=>Q.jsx(qu,{...n,...o,children:i(s,c)}))}const Ku=({selected:e,result:t,...n})=>Q.jsx("li",{className:`w-full m-0 p-3 ${e?"bg-primary/20":"bg-background"}`,...n,children:Q.jsx("a",{href:t.url,className:"text-primary",children:t.title})});function Hu({results:e,selection:t}){const n=Gu(e,r=>r.url,{});return Q.jsx("ul",{className:"absolute w-full mt-1 overflow-hidden list-none p-0 bg-background rounded-md shadow-lg z-50",children:n((r,i)=>Q.jsx(Ku,{selected:i===t,result:r},r.url))})}const Mr={enableOnFormTags:!0,preventDefault:!0};function Yu({api:e}){const[{query:t,results:n,selection:r},i]=R.useReducer(fr,fr(void 0,Se.reset())),o=R.useMemo(()=>new Ha(i,e),[e]);R.useEffect(()=>{const p=()=>i(Se.reset());return document.addEventListener("astro:page-load",p),()=>document.removeEventListener("astro:page-load",p)},[]);const s=p=>{p.preventDefault(),Ka(r,n)},a=Xt("up",()=>i(Se.previousSelection()),Mr),c=Xt("down",()=>i(Se.nextSelection()),Mr),f=qa([a,c]);return Q.jsxs("form",{className:"relative w-full m-0",onSubmit:s,ref:f,children:[Q.jsx(tc,{value:t,onChange:o.query}),Q.jsx(Hu,{results:n,selection:r.current})]})}const Ju=Cr(Aa,100),el=()=>Q.jsx(Yu,{api:Ju});export{el as default};
