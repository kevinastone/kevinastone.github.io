{"version":3,"sources":["webpack:///./src/components/comments.tsx","webpack:///./src/components/blog/hero.tsx","webpack:///./src/components/blog/heading.tsx","webpack:///./src/components/blog/post.tsx","webpack:///./src/utils/slug.ts","webpack:///./packages/theme-blog/styled.ts","webpack:///./packages/theme-blog/theme.ts","webpack:///./packages/theme-blog/typography.ts","webpack:///./packages/theme-blog/index.ts","webpack:///./src/components/fixed.ts","webpack:///./src/components/seo.tsx","webpack:///./packages/flex-box/index.ts","webpack:///./src/components/search/api.ts","webpack:///./packages/result/index.ts","webpack:///./src/components/search/actions.ts","webpack:///./src/components/search/reducers.ts","webpack:///./src/components/search/components/input.tsx","webpack:///./packages/accordian/index.tsx","webpack:///./packages/use-measure/index.ts","webpack:///./src/components/search/components/result.tsx","webpack:///./src/components/search/components/results.tsx","webpack:///./src/components/search/components/form.tsx","webpack:///./packages/debounce-promise/index.ts","webpack:///./src/components/search/app.tsx","webpack:///./src/components/header.tsx","webpack:///./src/components/layout.tsx"],"names":["Comments","_ref","id","title","disqusShortname","_4017568694","data","site","siteMetadata","Object","core_browser_esm","lib","shortname","config","Container","styled","div","_templateObject","rhythm","props","theme","shadow","img","css","src","base64","gradient","blog_hero","_ref2","hero","children","childImageSharp","fluid","SubHeading","p","heading_templateObject","heading","date","fixed","BlogContent","article","post_templateObject","colors","primary","query","__webpack_exports__","input","post","markdownRemark","pageContext","layout","header","frontmatter","seo","description","excerpt","keywords","tags","dangerouslySetInnerHTML","__html","html","comments","slug","replace","_emotion_styled__WEBPACK_IMPORTED_MODULE_0__","colorPalette","primaryColor","accent","background","palette","slice","join","MIN_TABLET_MEDIA_QUERY","darken","sutroTheme","overrideThemeStyles","scale","a","color","code","assign","background-color","border-radius","lighten","bodyColor","padding","typography","Typography","__webpack_require__","d","typography_rhythm","dist","DEFAULT_WIDTH","SEO","lang","meta","_staticQueryData$data","_public_static_d_1582510487_json__WEBPACK_IMPORTED_MODULE_1__","siteTitle","siteDescription","author","metaDescription","_emotion_core__WEBPACK_IMPORTED_MODULE_0__","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","defaultTitle","content","name","property","concat","Array","isArray","defaultProps","justifyMap","end","space-around","space-between","start","alignMap","stretch","Box","styled_base_browser_esm","target","column","justify","align","wrap","grow","Row","styles","Column","_callee","index","store","regenerator_default","_context","prev","next","window","__LUNR__","__loaded","t0","sent","t1","en","abrupt","every","Boolean","q","tokens","lunr","term","boost","usePipeline","wildcard","TRAILING","map","_ref3","ref","stop","isSuccess","result","Error","isError","errorify","error","asResult","_x","_asResult","apply","this","arguments","promise","catch","Actions","setQuery","createAction","setResults","results","nextSelection","previousSelection","reset","_x2","_x3","_setQuery","dispatch","api","handleActions","reducers","intitialState","state","action","type","searchReducer","incomingState","nextState","entries","reduce","_Object$assign","key","reducer","keys","some","combineReducers","SET_QUERY","_","payload","SET_RESULTS","selection","NEXT_SELECTION","current","Math","min","max","PREVIOUS_SELECTION","length","state2","undefined","resetReducer","active","Input","value","onChange","React","useRef","placeholder","autoComplete","autoCorrect","autoCapitalize","spellCheck","event","onFocus","setTimeout","select","AccordianItem","_useState","bounds","set","ro","height","objectWithoutPropertiesLoose_default","_useMeasure","useState","left","top","width","ResizeObserver","entry","contentRect","useEffect","observe","disconnect","bind","viewHeight","web","extends_default","style","interpolate","output","ListItem","li","result_templateObject","selected","mix","components_result","gatsby_browser_entry","to","url","List","results_templateObject","components_results","items","keyFunc","wrapperProps","transitions","accordian","item","results_ref","useTransition","enter","from","leave","trail","render","curry","fn","_len","args","_key","_len2","nArgs","_key2","Form","form","form_templateObject","SearchForm","func","wait","latest","_useReducer","useReducer","_useReducer$","history","listen","onSubmit","preventDefault","onKeyUp","which","navigate","activateSelection","search","_search","asyncToGenerator_default","mark","_callee2","_args2","_context2","Promise","resolve","reject","app","components_form","HeaderContainer","header_templateObject","Link","BaseLink","_templateObject2","NavBar","Fixed","_templateObject3","HeaderElement","_templateObject4","Brand","withComponent","Header","Footer","layout_templateObject","Layout","_505133889","emotion_theming_browser_esm","components_header","Date","getFullYear","href"],"mappings":"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","file":"component---src-components-blog-post-tsx-0f4ca6607a87670ebe24.js","sourcesContent":["import {DiscussionEmbed} from 'disqus-react';\nimport {graphql, useStaticQuery} from 'gatsby';\nimport * as React from 'react';\n\ninterface Props {\n  id: string;\n  title: string;\n}\n\nfunction Comments({id, title}: Props) {\n  const {\n    site: {\n      siteMetadata: {disqusShortname},\n    },\n  } = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          disqusShortname\n        }\n      }\n    }\n  `);\n\n  if (!disqusShortname) {\n    return null;\n  }\n\n  return <DiscussionEmbed shortname={disqusShortname} config={{id, title}} />;\n}\n\nexport default Comments;\n","import idx from 'idx.macro';\nimport React from 'react';\nimport {graphql} from 'gatsby';\nimport {css} from '@emotion/core';\nimport styled from '@kevinastone/theme-blog/styled';\nimport {rhythm} from '@kevinastone/theme-blog';\n\nimport {GatsbyImageSharpFluidFragment, HeroFragment} from '../../graphqlTypes';\n\nconst backgroundImage = (img: GatsbyImageSharpFluidFragment) => css`\n  background-image: url(${img.src}), url(${img.base64});\n`;\n\ninterface ContainerProps {\n  img: GatsbyImageSharpFluidFragment | null | undefined;\n}\n\nconst Container = styled.div<ContainerProps>`\n  background-position: center;\n  background-size: cover;\n  color: white;\n  margin-bottom: ${rhythm(1.5)};\n  padding: ${rhythm(2)} 0;\n  text-align: center;\n  ${props => props.theme.shadow}\n  ${props => (props.img ? backgroundImage(props.img) : props.theme.gradient)}\n`;\n\ntype Props = {\n  children: React.ReactNode;\n} & HeroFragment;\n\nexport default ({hero, children}: Props) => {\n  const img = idx(hero, _ => _.childImageSharp.fluid);\n  return <Container img={img}>{children}</Container>;\n};\n\nexport const query = graphql`\n  fragment Hero on MarkdownRemarkFrontmatter {\n    hero {\n      childImageSharp {\n        fluid(\n          quality: 80\n          maxWidth: 1920\n          duotone: {highlight: \"#ffcc5c\", shadow: \"#ff6f69\", opacity: 50}\n        ) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n  }\n`;\n","import React from 'react';\nimport styled from '@kevinastone/theme-blog/styled';\nimport {rhythm} from '@kevinastone/theme-blog';\nimport {graphql} from 'gatsby';\nimport {HeadingFragment} from '../../graphqlTypes';\nimport Fixed from '../fixed';\nimport Hero from './hero';\n\nconst SubHeading = styled.p`\n  margin-top: ${rhythm(-1 / 2)};\n`;\n\nexport default ({title, date, hero}: HeadingFragment) => (\n  <Hero hero={hero}>\n    <Fixed>\n      <h1>{title}</h1>\n      <SubHeading>{date}</SubHeading>\n    </Fixed>\n  </Hero>\n);\n\nexport const query = graphql`\n  fragment Heading on MarkdownRemarkFrontmatter {\n    title\n    date(formatString: \"MMMM DD, YYYY\")\n    ...Hero\n  }\n`;\n","import React from 'react';\nimport styled from '@kevinastone/theme-blog/styled';\nimport {graphql} from 'gatsby';\nimport {SitePageContext, Unnamed_1_Query} from '../../graphqlTypes';\nimport slugify from '../../utils/slug';\nimport Layout from '../layout';\nimport Comments from '../comments';\nimport SEO from '../seo';\nimport BlogHeading from './heading';\n\nconst BlogContent = styled.article`\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: ${props => props.theme.colors.primary};\n  }\n`;\n\ninterface Props {\n  data: Unnamed_1_Query;\n  pageContext: SitePageContext;\n}\n\nexport default ({data: {markdownRemark: post}, pageContext}: Props) => {\n  return (\n    <Layout header={<BlogHeading {...post!.frontmatter!} />}>\n      <SEO\n        title={post!.frontmatter!.title!}\n        description={post!.excerpt!}\n        keywords={post!.frontmatter!.tags!}\n      />\n      <BlogContent dangerouslySetInnerHTML={{__html: post!.html!}} />\n      <Comments\n        id={slugify(pageContext!.slug!)}\n        title={post!.frontmatter!.title!}\n      />\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query($slug: String!) {\n    markdownRemark(fields: {slug: {eq: $slug}}) {\n      html\n      excerpt\n      frontmatter {\n        ...Heading\n        title\n        tags\n      }\n    }\n  }\n`;\n","export default (input: string): string => input.replace(/^\\/*(.*)\\/*$/, '$1');\n","import styled, {CreateStyled} from '@emotion/styled';\nimport {Theme} from './theme';\n\nexport default styled as CreateStyled<Theme>;\n","import {css} from '@emotion/core';\nimport {darken} from 'polished';\nimport {MIN_TABLET_MEDIA_QUERY} from './breakpoints';\n\nexport interface Theme {\n  colors: {\n    accent: string;\n    background: string;\n    primary: string;\n    palette: string[];\n  };\n  gradient: string;\n  shadow: string;\n}\n\n// https://www.color-hex.com/color-palette/73238\nconst colorPalette = ['#0e9aa7', '#96ceb4', '#ffcc5c', '#ff6f69', '#ced07d'];\nconst primaryColor = colorPalette[3];\nconst accentColor = colorPalette[2];\nconst backgroundColor = 'white';\n\nexport default {\n  colors: {\n    accent: accentColor,\n    background: backgroundColor,\n    palette: colorPalette,\n    primary: primaryColor,\n  },\n  gradient: css`\n    background-color: ${primaryColor};\n    background-image: linear-gradient(\n      to right,\n      ${colorPalette.slice(2, 4).join(', ')}\n    );\n    ${MIN_TABLET_MEDIA_QUERY} {\n      background-image: linear-gradient(to right, ${colorPalette.join(', ')});\n    }\n  `,\n  shadow: css`\n    box-shadow: 0px 2px 2px 0px ${darken(0.2, backgroundColor)};\n  `,\n};\n","import {darken, lighten} from 'polished';\nimport Typography from 'typography';\nimport sutroTheme from 'typography-theme-sutro';\nimport theme from './theme';\n\ninterface Props {\n  rhythm: (input: number) => any;\n  scale: (input: number) => any;\n}\n\nsutroTheme.overrideThemeStyles = ({rhythm, scale}: Props) => ({\n  a: {\n    color: theme.colors.primary,\n  },\n  code: {\n    'background-color': darken(0.04, theme.colors.background),\n    'border-radius': rhythm(1 / 16),\n    color: lighten(0.1, sutroTheme.bodyColor),\n    padding: rhythm(1 / 8),\n    ...scale(-1 / 8),\n  },\n});\n\nconst typography = new Typography(sutroTheme);\n\nexport default typography;\nexport const {rhythm, scale} = typography;\n","import {DEFAULT_WIDTH, MIN_TABLET_MEDIA_QUERY} from './breakpoints';\nimport theme from './theme';\nimport {rhythm, scale} from './typography';\n\nexport default theme;\nexport {rhythm, scale};\nexport {DEFAULT_WIDTH, MIN_TABLET_MEDIA_QUERY};\n","import {\n  DEFAULT_WIDTH,\n  MIN_TABLET_MEDIA_QUERY,\n  rhythm,\n} from '@kevinastone/theme-blog';\nimport styled from '@kevinastone/theme-blog/styled';\n\nexport default styled.div`\n  margin: 0 auto;\n  max-width: ${DEFAULT_WIDTH};\n\n  padding-left: ${rhythm(1 / 2)};\n  padding-right: ${rhythm(1 / 2)};\n  ${MIN_TABLET_MEDIA_QUERY} {\n    padding-left: ${rhythm(1)};\n    padding-right: ${rhythm(1)};\n  }\n`;\n","import {graphql, useStaticQuery} from 'gatsby';\nimport React from 'react';\nimport Helmet from 'react-helmet';\n\ninterface MetaName {\n  content: any;\n  name: string;\n}\n\ninterface MetaProperty {\n  content: any;\n  property: string;\n}\n\ntype Meta = MetaName | MetaProperty;\n\ninterface Props {\n  description?: string;\n  keywords?: string[] | string;\n  lang?: string;\n  meta?: Meta[];\n  title?: string;\n}\n\nfunction SEO({description, lang, meta, keywords, title}: Props) {\n  const {\n    site: {\n      siteMetadata: {title: siteTitle, description: siteDescription, author},\n    },\n  } = useStaticQuery(graphql`\n    query DefaultSEOQuery {\n      site {\n        siteMetadata {\n          title\n          description\n          author\n        }\n      }\n    }\n  `);\n\n  const metaDescription = description || siteDescription;\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${siteTitle}`}\n      defaultTitle={siteTitle}\n      meta={[\n        {\n          content: metaDescription,\n          name: `description`,\n        },\n        {\n          content: title,\n          property: `og:title`,\n        },\n        {\n          content: metaDescription,\n          property: `og:description`,\n        },\n        {\n          content: `website`,\n          property: `og:type`,\n        },\n        {\n          content: `summary`,\n          name: `twitter:card`,\n        },\n        {\n          content: author,\n          name: `twitter:creator`,\n        },\n        {\n          content: title,\n          name: `twitter:title`,\n        },\n        {\n          content: metaDescription,\n          name: `twitter:description`,\n        },\n      ]\n        .concat(\n          keywords\n            ? {\n                content: Array.isArray(keywords)\n                  ? keywords.join(`, `)\n                  : keywords,\n                name: `keywords`,\n              }\n            : [],\n        )\n        .concat(meta || [])}\n    />\n  );\n}\n\nSEO.defaultProps = {\n  description: null,\n  keywords: [],\n  lang: `en`,\n  meta: [],\n  title: null,\n};\n\nexport default SEO;\n","import {css, SerializedStyles} from '@emotion/core';\nimport styled from '@emotion/styled';\n\nconst justifyMap = {\n  end: 'flex-end',\n  'space-around': 'space-around',\n  'space-between': 'space-between',\n  start: 'flex-start',\n};\n\nconst alignMap = {\n  ...justifyMap,\n  stretch: 'stretch',\n};\n\ninterface Props {\n  column?: 'column' | 'row';\n  justify?: keyof typeof justifyMap;\n  align?: keyof typeof alignMap;\n  wrap?: boolean;\n  grow?: boolean;\n}\n\nexport function box(props: Props): SerializedStyles {\n  return css`\n    display: flex;\n    flex-direction: ${props.column ? 'column' : 'row'};\n    justify-content: ${props.justify ? justifyMap[props.justify] : 'center'};\n    align-items: ${props.align ? alignMap[props.align] : 'center'};\n    flex-wrap: ${props.wrap ? 'wrap' : ' no-wrap'};\n    flex-grow: ${props.grow ? 1 : 0};\n  `;\n}\n\nconst Box = styled.div<Props>`\n  ${box};\n`;\n\nexport const Row = styled(Box)`\n  flex-direction: row;\n`;\n\nexport const Column = styled(Box)`\n  flex-direction: column;\n`;\n\nexport default Box;\n","import idx from 'idx.macro';\nimport * as lunr from 'lunr';\n\ntype Result = any;\n\ninterface LunrStore {\n  [propName: string]: Result;\n}\n\ndeclare global {\n  interface Window {\n    __LUNR__: {\n      __loaded: Promise<{en: {index: lunr.Index; store: LunrStore}}>;\n    };\n  }\n}\n\nexport interface SearchResult {\n  title: string;\n  url: string;\n  ref: string;\n}\n\nexport default async function search(query: string): Promise<SearchResult[]> {\n  const data = idx(await idx(window, _ => _.__LUNR__.__loaded), _ => _.en);\n  if (!query || !data) {\n    return [];\n  }\n\n  const {index, store} = data;\n\n  if (![query, index, store].every(Boolean)) {\n    return [];\n  }\n\n  return index\n    .query(q => {\n      const tokens = lunr.tokenizer(query);\n\n      q.term(tokens, {boost: 100, usePipeline: true});\n      q.term(tokens, {\n        boost: 10,\n        usePipeline: false,\n        wildcard: lunr.Query.wildcard.TRAILING,\n      });\n      q.term(tokens, {boost: 1});\n    })\n    .map(({ref}) => ({ref, ...store[ref]}));\n}\n","export type Result<T> = T | Error;\n\nexport function isError<T>(result: Result<T>): result is Error {\n  return result instanceof Error;\n}\n\nexport function isSuccess<T>(result: Result<T>): result is T {\n  return !isError(result);\n}\n\nfunction errorify(error: any): Error {\n  if (error instanceof Error) {\n    return error;\n  }\n\n  return new Error(error);\n}\n\nexport async function asResult<T>(promise: Promise<T>): Promise<Result<T>> {\n  return promise.catch(error => errorify(error));\n}\n","import {\n  ActionsOfType,\n  ActionsUnion,\n  createAction,\n} from '@martin_hotell/rex-tils';\nimport {asResult, isSuccess} from '@kevinastone/result';\n\nimport {navigate} from 'gatsby';\nimport idx from 'idx.macro';\n\nimport {SearchResult} from './api';\n\nexport const SET_QUERY = 'SET_QUERY';\nexport const SET_RESULTS = 'SET_RESULTS';\nexport const NEXT_SELECTION = 'NEXT_SELECTION';\nexport const PREVIOUS_SELECTION = 'PREVIOUS_SELECTION';\nexport const RESET = 'RESET';\n\nexport const Actions = {\n  setQuery: (query: string) => createAction(SET_QUERY, query),\n  setResults: (results: SearchResult[]) => createAction(SET_RESULTS, results),\n  nextSelection: () => createAction(NEXT_SELECTION),\n  previousSelection: () => createAction(PREVIOUS_SELECTION),\n  reset: () => createAction(RESET),\n};\n\nexport type Actions = ActionsUnion<typeof Actions>;\nexport type SetQueryAction = ActionsOfType<Actions, typeof SET_QUERY>;\nexport type SetResultsAction = ActionsOfType<Actions, typeof SET_RESULTS>;\n\nexport function activateSelection(\n  selection: {current: number},\n  results: SearchResult[],\n): void {\n  const url = idx(results, _ => _[selection.current].url);\n  if (url) {\n    navigate(url);\n  }\n}\n\nexport async function setQuery(\n  dispatch: (action: Actions) => void,\n  api: (query: string) => Promise<SearchResult[]>,\n  query: string,\n): Promise<void> {\n  dispatch(Actions.setQuery(query));\n\n  const results = await asResult(api(query));\n  if (isSuccess(results)) {\n    dispatch(Actions.setResults(results));\n  }\n}\n","import {Actions, SetQueryAction, SetResultsAction} from './actions';\n\ntype Reducer<State> = (state: State | undefined, action: Actions) => State;\n\ntype Reducers<State> = {\n  [T in keyof State]: Reducer<any>;\n};\n\nfunction identity<TState>(state: TState): TState {\n  return state;\n}\n\nfunction handleActions<TState>(\n  reducers: any,\n  intitialState: TState,\n): Reducer<TState> {\n  return (state: TState = intitialState, action: Actions | undefined): TState =>\n    ((action && reducers[action.type]) || identity)(state, action);\n}\n\ntype BaseState = {[index: string]: any};\n\nfunction combineReducers<TState extends BaseState>(\n  reducers: Reducers<TState>,\n): Reducer<TState> {\n  return (state: TState | undefined, action: Actions): TState => {\n    const incomingState = (state || {}) as TState;\n\n    const nextState = Object.entries(reducers).reduce(\n      (nextState, [key, reducer]: [string, Reducer<any>]) => ({\n        [key]: reducer(incomingState[key], action),\n        ...nextState,\n      }),\n      {},\n    ) as BaseState;\n\n    const hasChanged = Object.keys(reducers).some(\n      key => incomingState[key] !== nextState[key],\n    );\n\n    return (hasChanged ? nextState : incomingState) as TState;\n  };\n}\n\nconst queryReducer = handleActions(\n  {\n    SET_QUERY: (_: any, action: SetQueryAction) => action.payload,\n  },\n  '',\n);\n\nconst resultsReducer = handleActions(\n  {\n    SET_RESULTS: (_: any, action: SetResultsAction) => action.payload,\n  },\n  [],\n);\n\ninterface SelectionState {\n  readonly current: number;\n  readonly max: number;\n}\n\nconst selectionReducer = handleActions(\n  {\n    NEXT_SELECTION: (state: SelectionState): SelectionState => ({\n      ...state,\n      current: Math.min(state.current + 1, state.max),\n    }),\n    PREVIOUS_SELECTION: (state: SelectionState): SelectionState => ({\n      ...state,\n      current: Math.max(state.current - 1, 0),\n    }),\n    SET_RESULTS: (\n      state: SelectionState,\n      action: SetResultsAction,\n    ): SelectionState => {\n      const max = action ? Math.max(action.payload.length - 1, 0) : 0;\n\n      return {\n        ...state,\n        current: Math.min(state.current, max),\n        max,\n      };\n    },\n  },\n  {\n    current: 0,\n    max: 0,\n  },\n);\n\ninterface SearchState {\n  query: string;\n  results: any[];\n  selection: SelectionState;\n}\n\nconst searchReducer = combineReducers<SearchState>({\n  query: queryReducer,\n  results: resultsReducer,\n  selection: selectionReducer,\n});\n\nfunction resetReducer(\n  state: SearchState,\n  action: Actions | undefined,\n): SearchState | undefined {\n  return action && action.type === 'RESET' ? undefined : state;\n}\n\nexport default function(state: SearchState, action: Actions): SearchState {\n  const state2 = resetReducer(state, action);\n  return searchReducer(state2, action);\n}\n","import React from 'react';\nimport {css} from '@emotion/core';\nimport styled from '@kevinastone/theme-blog/styled';\nimport {rhythm} from '@kevinastone/theme-blog';\nimport {Theme} from '@kevinastone/theme-blog/theme';\n\nconst active = (theme: Theme) => css`\n  background-color: ${theme.colors.background};\n  border-color: transparent;\n  color: ${theme.colors.primary};\n`;\n\nconst Input = styled.input`\n  background-color: transparent;\n  border: 1px solid ${props => props.theme.colors.accent};\n  border-radius: ${rhythm(1 / 8)};\n  color: white;\n  margin: 0;\n  outline: none;\n  padding: 0 0.8em;\n  transition: background-color 0.5s;\n  width: 100%;\n  &:focus,\n  &:hover {\n    ${props => active(props.theme)}\n  }\n  ${props => props.value && active(props.theme)}\n`;\n\ninterface Props {\n  value: string;\n  onChange: (value: string) => void;\n}\n\nexport default ({value, onChange}: Props) => {\n  const ref = React.useRef<HTMLInputElement>(null);\n\n  return (\n    <Input\n      ref={ref}\n      type=\"search\"\n      name=\"query\"\n      placeholder=\"Search\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      autoCapitalize=\"off\"\n      spellCheck={false}\n      value={value}\n      onChange={event => onChange(event.target.value)}\n      onFocus={() => setTimeout(() => ref.current && ref.current.select())}\n    />\n  );\n};\n","import useMeasure from '@kevinastone/use-measure';\nimport * as React from 'react';\nimport {\n  animated,\n  useTransition,\n  OpaqueInterpolation,\n  TransitionKeyProps,\n} from 'react-spring';\n\ninterface Props {\n  height: OpaqueInterpolation<number>;\n  children: React.ReactNode;\n}\n\nfunction AccordianItem({height, children, ...props}: Props) {\n  const [bind, {height: viewHeight}] = useMeasure<HTMLDivElement>();\n\n  return (\n    <animated.div\n      style={{\n        // @ts-ignore: interpolate not resolving correctly\n        height: height.interpolate({output: [0, viewHeight]}),\n      }}\n      {...props}\n    >\n      <animated.div {...bind}>{children}</animated.div>\n    </animated.div>\n  );\n}\n\ntype KeyFunc<TItem> =\n  | ((item: TItem) => TransitionKeyProps)\n  | TransitionKeyProps[]\n  | TransitionKeyProps\n  | null;\n\ntype RenderFunc<TItem> = (item: TItem, index: number) => React.ReactNode;\n\nexport default function useAccordian<TItem>(\n  items: TItem[] | TItem | null | undefined,\n  keyFunc: KeyFunc<TItem>,\n  wrapperProps: any,\n): (render: RenderFunc<TItem>) => React.ReactNode {\n  const transitions = useTransition(items, keyFunc, {\n    enter: {height: 1},\n    from: {height: 0},\n    leave: {height: 0},\n    trail: 50,\n  });\n\n  return render =>\n    transitions.map(({key, item, props}, index) => (\n      <AccordianItem key={key} {...wrapperProps} {...props}>\n        {render(item, index)}\n      </AccordianItem>\n    ));\n}\n","import {useState, useRef, useEffect, RefObject} from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\n\ninterface Bounds {\n  height: number;\n  left: number;\n  top: number;\n  width: number;\n}\n\nexport default function useMeasure<T extends Element>(): [\n  {ref: RefObject<T>},\n  Bounds,\n] {\n  const ref = useRef<T>(null);\n  const [bounds, set] = useState({left: 0, top: 0, width: 0, height: 0});\n  const [ro] = useState(\n    () => new ResizeObserver(([entry]) => set(entry.contentRect)),\n  );\n  useEffect(() => {\n    if (ref.current) {\n      ro.observe(ref.current);\n    }\n\n    return () => ro.disconnect();\n  }, []);\n  return [{ref}, bounds];\n}\n","import React from 'react';\nimport styled from '@kevinastone/theme-blog/styled';\nimport {Link} from 'gatsby';\nimport {mix} from 'polished';\nimport {SearchResult} from '../api';\n\ninterface StyleProps {\n  selected: boolean;\n}\n\ninterface ResultProps {\n  result: SearchResult;\n}\n\nconst ListItem = styled.li<StyleProps>`\n  background-color: ${props =>\n    props.selected\n      ? mix(0.8, props.theme.colors.background, props.theme.colors.primary)\n      : props.theme.colors.background};\n  margin: 0;\n  padding: 0.8em;\n  width: 100%;\n`;\n\nexport default ({selected, result, ...props}: StyleProps & ResultProps) => (\n  <ListItem selected={selected} {...props}>\n    <Link to={result.url}>{result.title}</Link>\n  </ListItem>\n);\n","import React from 'react';\nimport {css} from '@emotion/core';\nimport styled from '@kevinastone/theme-blog/styled';\nimport useAccordian from '@kevinastone/accordian';\nimport {Column} from '@kevinastone/flex-box';\nimport {rhythm} from '@kevinastone/theme-blog';\nimport {SearchResult} from '../api';\nimport Result from './result';\n\nconst List = styled(Column)`\n  border-radius: ${rhythm(1 / 8)};\n  list-style-type: none;\n  margin: ${rhythm(1 / 8)} 0 0 0;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 100%;\n  ${props => props.theme.shadow}\n`;\n\ninterface Props {\n  results: SearchResult[];\n  selection: number;\n}\n\nexport default function({results, selection}: Props): React.ReactElement {\n  const accordian = useAccordian(results, (item: SearchResult) => item.ref, {\n    css: css`\n      width: 100%;\n    `,\n  });\n\n  return (\n    <List>\n      {accordian((item: SearchResult, index: number) => (\n        <Result selected={index === selection} result={item} />\n      ))}\n    </List>\n  );\n}\n","import styled from '@kevinastone/theme-blog/styled';\nimport {globalHistory as history} from '@reach/router';\nimport React, {useEffect, useReducer} from 'react';\n\nimport {Actions, activateSelection, setQuery} from '../actions';\nimport {SearchResult} from '../api';\nimport reducer from '../reducers';\n\nimport Input from './input';\nimport Results from './results';\n\nfunction curry(fn: (...args: any[]) => any, ...args: any[]) {\n  return (...nArgs: any[]) => fn(...[...args, ...nArgs]);\n}\n\nconst Form = styled.form`\n  margin: 0;\n  position: relative;\n  width: 100%;\n`;\n\ninterface Props {\n  api: (query: string) => Promise<SearchResult>;\n}\n\nfunction SearchForm({api}: Props) {\n  const [{query, results, selection}, dispatch] = useReducer(\n    reducer,\n    // @ts-ignore: Allow undefined for initial state\n    undefined,\n    reducer,\n  );\n\n  useEffect(() => history.listen(() => dispatch(Actions.reset())), [dispatch]);\n\n  const onSubmit = (event: React.SyntheticEvent) => {\n    event.preventDefault();\n    return false;\n  };\n\n  const onKeyUp = (event: React.KeyboardEvent) => {\n    switch (event.which) {\n      case 13:\n        event.preventDefault();\n        activateSelection(selection, results);\n        break;\n      case 38:\n        event.preventDefault();\n        dispatch(Actions.previousSelection());\n        break;\n      case 40:\n        event.preventDefault();\n        dispatch(Actions.nextSelection());\n        break;\n\n      default:\n      // Do nothing\n    }\n  };\n\n  return (\n    <Form onSubmit={onSubmit} onKeyUp={onKeyUp}>\n      <Input value={query} onChange={curry(setQuery, dispatch, api)} />\n      <Results results={results} selection={selection.current} />\n    </Form>\n  );\n}\n\nexport default SearchForm;\n","export default <\n  TArgs extends any[],\n  TReturn extends any,\n  TFunc extends (...args: TArgs) => Promise<TReturn>\n>(\n  func: TFunc,\n  wait: number,\n  error: any = undefined,\n): ((...args: TArgs) => Promise<TReturn>) => {\n  let latest: any;\n\n  return async (...args: TArgs) => {\n    return new Promise<TReturn>((resolve, reject) => {\n      latest = resolve;\n      setTimeout(async () => {\n        if (latest === resolve) {\n          resolve(await func(...args));\n        } else {\n          reject(error);\n        }\n      }, wait);\n    });\n  };\n};\n","import debounce from '@kevinastone/debounce-promise';\nimport React from 'react';\n\nimport api from './api';\nimport SearchForm from './components/form';\n\nconst search = debounce(api, 100);\n\nexport default () => <SearchForm api={search} />;\n","import {Row} from '@kevinastone/flex-box';\nimport {rhythm} from '@kevinastone/theme-blog';\nimport styled from '@kevinastone/theme-blog/styled';\nimport {Link as BaseLink} from 'gatsby';\nimport * as React from 'react';\n\nimport Fixed from './fixed';\nimport Search from './search/app';\n\ninterface Props {\n  siteTitle: string;\n}\n\nconst HeaderContainer = styled.header`\n  ${props => props.theme.gradient}\n  ${props => props.theme.shadow}\n`;\n\nconst Link = styled(BaseLink)`\n  color: white;\n  &,\n  &:hover {\n    text-decoration: none;\n  }\n`;\n\nconst NavBar = styled(Fixed)`\n  padding-top: ${rhythm(1 / 2)};\n  padding-bottom: ${rhythm(1 / 2)};\n`;\n\nconst HeaderElement = styled.div`\n  margin: 0;\n  max-width: calc(50% - ${rhythm(1 / 4)});\n`;\n\nconst Brand = HeaderElement.withComponent('h3');\n\nconst Header = ({siteTitle}: Props) => (\n  <HeaderContainer>\n    <NavBar>\n      <Row justify=\"space-between\">\n        <Brand>\n          <Link to=\"/\">{siteTitle}</Link>\n        </Brand>\n        <HeaderElement>\n          <Search />\n        </HeaderElement>\n      </Row>\n    </NavBar>\n  </HeaderContainer>\n);\n\nexport default Header;\n","import theme, {rhythm} from '@kevinastone/theme-blog';\nimport styled from '@kevinastone/theme-blog/styled';\nimport {ThemeProvider} from 'emotion-theming';\nimport {graphql, useStaticQuery} from 'gatsby';\nimport React from 'react';\n\nimport Fixed from './fixed';\nimport Header from './header';\n\ninterface Props {\n  children: React.ReactNode;\n  header?: React.ReactNode;\n}\n\nconst Footer = styled(Fixed)`\n  text-align: center;\n  padding: ${rhythm(1)};\n`.withComponent('footer');\n\nconst Layout = ({children, header}: Props) => {\n  const {\n    site: {\n      siteMetadata: {title, author},\n    },\n  } = useStaticQuery(graphql`\n    query SiteTitleQuery {\n      site {\n        siteMetadata {\n          title\n          author\n        }\n      }\n    }\n  `);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Header siteTitle={title} />\n      <main>\n        {header}\n        <Fixed>{children}</Fixed>\n      </main>\n      <Footer>\n        © {author} {new Date().getFullYear()}, Built with\n        {` `}\n        <a href=\"https://www.gatsbyjs.org\">Gatsby</a>\n      </Footer>\n    </ThemeProvider>\n  );\n};\n\nLayout.defaultProps = {\n  header: null,\n};\n\nexport default Layout;\n"],"sourceRoot":""}